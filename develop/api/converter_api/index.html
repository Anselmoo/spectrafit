<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Technical documentation for SpectraFit, a Python package for fitting"><meta name=author content="Anselm Hahn"><link href=https://Anselmoo.github.io/spectrafit/develop/api/converter_api/ rel=canonical><link href=../data_model_api/ rel=prev><link href=../../contact/ rel=next><link rel=icon href=../../images/logo.svg><meta name=generator content="mkdocs-1.5.1, mkdocs-material-9.1.21"><title>Converters and Visualizer - SpectraFit</title><link rel=stylesheet href=../../assets/stylesheets/main.eebd395e.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#meta-data-converter-class class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=SpectraFit class="md-header__button md-logo" aria-label=SpectraFit data-md-component=logo> <img src=../../images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SpectraFit </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Converters and Visualizer </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Anselmoo/spectrafit title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg> </div> <div class=md-source__repository> Anselmoo/SpectraFit </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../interface/installation/ class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../examples/example1/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../../doc/models/ class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=../../plugins/file_converter/ class=md-tabs__link> Plugins </a> </li> <li class=md-tabs__item> <a href=../spectrafit_api/ class="md-tabs__link md-tabs__link--active"> API </a> </li> <li class=md-tabs__item> <a href=../../contact/ class=md-tabs__link> Support </a> </li> <li class=md-tabs__item> <a href=../../changelog/ class=md-tabs__link> Releases </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=SpectraFit class="md-nav__button md-logo" aria-label=SpectraFit data-md-component=logo> <img src=../../images/logo.svg alt=logo> </a> SpectraFit </label> <div class=md-nav__source> <a href=https://github.com/Anselmoo/spectrafit title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg> </div> <div class=md-source__repository> Anselmoo/SpectraFit </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../interface/installation/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=../../interface/usage/ class=md-nav__link> Usage </a> </li> <li class=md-nav__item> <a href=../../interface/features/ class=md-nav__link> Features </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> Working via CMD <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Working via CMD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/example1/ class=md-nav__link> Fitting of a Single Feature via Command-Line </a> </li> <li class=md-nav__item> <a href=../../examples/example2/ class=md-nav__link> JSON, TOML, YAML Inputs </a> </li> <li class=md-nav__item> <a href=../../examples/example3/ class=md-nav__link> Multi Peak Fitting </a> </li> <li class=md-nav__item> <a href=../../examples/example4/ class=md-nav__link> Working with Real Life Data </a> </li> <li class=md-nav__item> <a href=../../examples/example5/ class=md-nav__link> Working with Expressions </a> </li> <li class=md-nav__item> <a href=../../examples/example6/ class=md-nav__link> Global Fitting </a> </li> <li class=md-nav__item> <a href=../../examples/example7/ class=md-nav__link> Automatic Fitting </a> </li> <li class=md-nav__item> <a href=../../examples/example8/ class=md-nav__link> Working with Athena Data </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> Working in Jupyter Notebooks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Working in Jupyter Notebooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/example9_1/ class=md-nav__link> Default Plot </a> </li> <li class=md-nav__item> <a href=../../examples/example9_2/ class=md-nav__link> Themes </a> </li> <li class=md-nav__item> <a href=../../examples/example9_3/ class=md-nav__link> Export Results </a> </li> <li class=md-nav__item> <a href=../../examples/example9_4/ class=md-nav__link> RIXS Map Visualization </a> </li> <li class=md-nav__item> <a href=../../examples/example9_5/ class=md-nav__link> Using Converters as Module </a> </li> <li class=md-nav__item> <a href=../../examples/example9_6/ class=md-nav__link> RIXS Global-Fitting in Jupyter </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Documentation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../doc/models/ class=md-nav__link> Models </a> </li> <li class=md-nav__item> <a href=../../doc/expression/ class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href=../../doc/solver/ class=md-nav__link> Solvers </a> </li> <li class=md-nav__item> <a href=../../doc/fitting/ class=md-nav__link> Fitting </a> </li> <li class=md-nav__item> <a href=../../doc/statistics/ class=md-nav__link> Statistics </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Plugins <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../plugins/file_converter/ class=md-nav__link> File-Format-Conversion </a> </li> <li class=md-nav__item> <a href=../../plugins/data_converter/ class=md-nav__link> Data-Format-Conversion </a> </li> <li class=md-nav__item> <a href=../../plugins/jupyter_interface/ class=md-nav__link> Jupyter-Notebook-Integration </a> </li> <li class=md-nav__item> <a href=../../plugins/rixs_visualization/ class=md-nav__link> RIXS-Visualization </a> </li> <li class=md-nav__item> <a href=../../plugins/rixs_converter/ class=md-nav__link> RIXS-Converter </a> </li> <li class=md-nav__item> <a href=../../plugins/pkl_converter_visualization/ class=md-nav__link> PKL-Converter and Visualizer </a> </li> <li class=md-nav__item> <a href=../../plugins/pptx_converter/ class=md-nav__link> PPTX-Converter </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../spectrafit_api/ class=md-nav__link> SpectraFit </a> </li> <li class=md-nav__item> <a href=../plotting_api/ class=md-nav__link> Plotting </a> </li> <li class=md-nav__item> <a href=../notebook_api/ class=md-nav__link> Jupyter-Notebook </a> </li> <li class=md-nav__item> <a href=../modelling_api/ class=md-nav__link> Modelling </a> </li> <li class=md-nav__item> <a href=../reporting_api/ class=md-nav__link> Reporting </a> </li> <li class=md-nav__item> <a href=../tools_api/ class=md-nav__link> Tools </a> </li> <li class=md-nav__item> <a href=../data_model_api/ class=md-nav__link> Data Model </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Converters and Visualizer <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Converters and Visualizer </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#meta-data-converter-class class=md-nav__link> Meta Data Converter Class </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.converter class=md-nav__link> spectrafit.plugins.converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.converter.Converter class=md-nav__link> Converter </a> <nav class=md-nav aria-label=Converter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.converter.Converter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.converter.Converter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.converter.Converter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.converter.Converter.save class=md-nav__link> save() </a> </li> <li class=md-nav__item> <a href=#input-and-output-file-converter-for-object-oriented-formats class=md-nav__link> Input and Output File Converter for object-oriented formats </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter class=md-nav__link> spectrafit.plugins.file_converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.FileConverter class=md-nav__link> FileConverter </a> <nav class=md-nav aria-label=FileConverter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.FileConverter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.FileConverter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.FileConverter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.FileConverter.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.file_converter.command_line_runner class=md-nav__link> command_line_runner() </a> <nav class=md-nav aria-label=command_line_runner()> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-converter-for-rational-data-formats-like-csv-excel-etc class=md-nav__link> Data Converter for rational data formats like CSV, Excel, etc. </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter class=md-nav__link> spectrafit.plugins.data_converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataConverter class=md-nav__link> DataConverter </a> <nav class=md-nav aria-label=DataConverter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataConverter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataConverter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataConverter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataConverter.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.DataFormats class=md-nav__link> DataFormats </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.command_line_runner class=md-nav__link> command_line_runner() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.data_converter.get_athena_column class=md-nav__link> get_athena_column() </a> <nav class=md-nav aria-label=get_athena_column()> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pkl-converter-for-pickle-files class=md-nav__link> Pkl Converter for pickle files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter class=md-nav__link> spectrafit.plugins.pkl_converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData class=md-nav__link> ExportData </a> <nav class=md-nav aria-label=ExportData> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData.__init__ class=md-nav__link> __init__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData.numpy2list class=md-nav__link> numpy2list() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData.to_numpy class=md-nav__link> to_numpy() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.ExportData.to_pickle class=md-nav__link> to_pickle() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.PklConverter class=md-nav__link> PklConverter </a> <nav class=md-nav aria-label=PklConverter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.PklConverter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.PklConverter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.PklConverter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.PklConverter.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_converter.command_line_runner class=md-nav__link> command_line_runner() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer class=md-nav__link> spectrafit.plugins.pkl_visualizer </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer class=md-nav__link> PklVisualizer </a> <nav class=md-nav aria-label=PklVisualizer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.add_nodes class=md-nav__link> add_nodes() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.create_graph class=md-nav__link> create_graph() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.get_type class=md-nav__link> get_type() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pkl_visualizer.command_line_runner class=md-nav__link> command_line_runner() </a> <nav class=md-nav aria-label=command_line_runner()> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rixs-converter-for-rixs-data class=md-nav__link> RIXS Converter for RIXS data </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter class=md-nav__link> spectrafit.plugins.rixs_converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter class=md-nav__link> RIXSConverter </a> <nav class=md-nav aria-label=RIXSConverter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.create_rixs class=md-nav__link> create_rixs() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.numpydict2listdict class=md-nav__link> numpydict2listdict() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.raise_error class=md-nav__link> raise_error() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_converter.command_line_runner class=md-nav__link> command_line_runner() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer class=md-nav__link> spectrafit.plugins.rixs_visualizer </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp class=md-nav__link> RIXSApp </a> <nav class=md-nav aria-label=RIXSApp> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.__init__ class=md-nav__link> __init__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.app_run class=md-nav__link> app_run() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.body class=md-nav__link> body() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.colorscale class=md-nav__link> colorscale() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.footer class=md-nav__link> footer() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.header class=md-nav__link> header() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.logging_flask class=md-nav__link> logging_flask() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.opacity class=md-nav__link> opacity() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.pre_body class=md-nav__link> pre_body() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure class=md-nav__link> RIXSFigure </a> <nav class=md-nav aria-label=RIXSFigure> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.__init__ class=md-nav__link> __init__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_rixs class=md-nav__link> create_rixs() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xas class=md-nav__link> create_xas() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xes class=md-nav__link> create_xes() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.initialize_figure_size class=md-nav__link> initialize_figure_size() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer class=md-nav__link> RIXSVisualizer </a> <nav class=md-nav aria-label=RIXSVisualizer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.load_data class=md-nav__link> load_data() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.rixs_visualizer.command_line_runner class=md-nav__link> command_line_runner() </a> <nav class=md-nav aria-label=command_line_runner()> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pptx-converter-for-powerpoint-files class=md-nav__link> PPTX Converter for PowerPoint files </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter class=md-nav__link> spectrafit.plugins.pptx_converter </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter class=md-nav__link> PPTXConverter </a> <nav class=md-nav aria-label=PPTXConverter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.convert class=md-nav__link> convert() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.get_args class=md-nav__link> get_args() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.save class=md-nav__link> save() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements class=md-nav__link> PPTXElements </a> <nav class=md-nav aria-label=PPTXElements> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.__init__ class=md-nav__link> __init__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_credit class=md-nav__link> create_credit() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_figure class=md-nav__link> create_figure() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_subtitle class=md-nav__link> create_subtitle() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_table class=md-nav__link> create_table() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_textbox class=md-nav__link> create_textbox() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_title class=md-nav__link> create_title() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.extract_table class=md-nav__link> extract_table() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout class=md-nav__link> PPTXLayout </a> <nav class=md-nav aria-label=PPTXLayout> <ul class=md-nav__list> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.__call__ class=md-nav__link> __call__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.__init__ class=md-nav__link> __init__() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.lefr_element class=md-nav__link> lefr_element() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.right_element class=md-nav__link> right_element() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.save class=md-nav__link> save() </a> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.top_element class=md-nav__link> top_element() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spectrafit.plugins.pptx_converter.command_line_runner class=md-nav__link> command_line_runner() </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Support <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Support </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contact/ class=md-nav__link> Contact </a> </li> <li class=md-nav__item> <a href=../../license/ class=md-nav__link> License </a> </li> <li class=md-nav__item> <a href=../../contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href=../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class=md-nav__item> <a href=../../security/ class=md-nav__link> Security </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> Releases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Releases </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_1> <label class=md-nav__link for=__nav_8_1 id=__nav_8_1_label tabindex=0> Changelog <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> Changelog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> v1.x.x </a> </li> <li class=md-nav__item> <a href=../../changelogs/v0.x.x/ class=md-nav__link> v0.x.x </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributors/ class=md-nav__link> Contributors </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Anselmoo/spectrafit/tree/main/docs/api/converter_api.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1>Converters and Visualizer</h1> <div class="admonition info"> <p class=admonition-title>About the Converter API</p> <p>The <strong>Converter API</strong> is a new feature in the v0.12.x release of <code>SpectraFit</code> with major focus on:</p> <ol> <li>Data Validation</li> <li>Settings Management</li> </ol> <p>In general, input and data files are converted to the internal data format, which are <a href=https://docs.python.org/3/tutorial/datastructures.html#dictionaries>dictionaries</a> for the input data and <a href=https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html>pandas dataframes</a> for the data files. The Converter API is realized by using the <a href=https://docs.python.org/3/library/abc.html#abc.ABC><code>ABC</code>-class</a> and the <a href=https://docs.python.org/3/library/abc.html#abc.abstractmethod><code>@abstractmethod</code></a> decorator, while the File API is using the <a href=https://pydantic-docs.helpmanual.io/ >pydantic</a> library.</p> </div> <h3 id=meta-data-converter-class>Meta Data Converter Class<a class=headerlink href=#meta-data-converter-class title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.converter></a> <div class="doc doc-contents first"> <p>Abstract base class for the converter plugins.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.converter.Converter class="doc doc-heading"> <code>Converter</code> <a href=#spectrafit.plugins.converter.Converter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=abc.ABC>ABC</span></code></p> <p>Abstract base class for the converter plugin.</p> <p>The abstract base class is used to define the interface for the converter plugins:</p> <ul> <li>get_args: Get the arguments from the command line.</li> <li>convert: Convert the input file to the output file.</li> <li><strong>call</strong>: Call the converter plugin.</li> </ul> <p>Currently used for:</p> <ul> <li>Convertion of the input file.</li> <li>Convertion of the output file.</li> </ul> <details class=quote> <summary>Source code in <code>spectrafit/plugins/converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="10 "></span><span class=k>class</span> <span class=nc>Converter</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=linenos data-linenos="11 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract base class for the converter plugin.</span>
<span class=linenos data-linenos="12 "></span>
<span class=linenos data-linenos="13 "></span><span class=sd>    The abstract base class is used to define the interface for the converter plugins:</span>
<span class=linenos data-linenos="14 "></span>
<span class=linenos data-linenos="15 "></span><span class=sd>    - get_args: Get the arguments from the command line.</span>
<span class=linenos data-linenos="16 "></span><span class=sd>    - convert: Convert the input file to the output file.</span>
<span class=linenos data-linenos="17 "></span><span class=sd>    - __call__: Call the converter plugin.</span>
<span class=linenos data-linenos="18 "></span>
<span class=linenos data-linenos="19 "></span><span class=sd>    Currently used for:</span>
<span class=linenos data-linenos="20 "></span>
<span class=linenos data-linenos="21 "></span><span class=sd>    - Convertion of the input file.</span>
<span class=linenos data-linenos="22 "></span><span class=sd>    - Convertion of the output file.</span>
<span class=linenos data-linenos="23 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="24 "></span>
<span class=linenos data-linenos="25 "></span>    <span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="26 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="27 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="28 "></span>
<span class=linenos data-linenos="29 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="30 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="31 "></span><span class=sd>                 additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="32 "></span>
<span class=linenos data-linenos="33 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="34 "></span><span class=sd>            ValueError: If the output file format is not supported.</span>
<span class=linenos data-linenos="35 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="36 "></span>
<span class=linenos data-linenos="37 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="38 "></span>    <span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="39 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="40 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the input file to the target file format.</span>
<span class=linenos data-linenos="41 "></span>
<span class=linenos data-linenos="42 "></span><span class=sd>        It is an abstract method and must be implemented in the derived class.</span>
<span class=linenos data-linenos="43 "></span>
<span class=linenos data-linenos="44 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="45 "></span><span class=sd>            infile (Path): Input file as a path object.</span>
<span class=linenos data-linenos="46 "></span><span class=sd>            file_format (str): Target file format.</span>
<span class=linenos data-linenos="47 "></span>
<span class=linenos data-linenos="48 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="49 "></span><span class=sd>            MutableMapping[str, Any]: Converted file as a dictionary.</span>
<span class=linenos data-linenos="50 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="51 "></span>
<span class=linenos data-linenos="52 "></span>    <span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="53 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="54 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the data to the target file format.</span>
<span class=linenos data-linenos="55 "></span>
<span class=linenos data-linenos="56 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="57 "></span><span class=sd>            data (Any): Data to save.</span>
<span class=linenos data-linenos="58 "></span><span class=sd>            fname (Path): Filename of the target file.</span>
<span class=linenos data-linenos="59 "></span><span class=sd>            export_format (str): Target file format.</span>
<span class=linenos data-linenos="60 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="61 "></span>
<span class=linenos data-linenos="62 "></span>    <span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="63 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="64 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Call the converter plugin.&quot;&quot;&quot;</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.converter.Converter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#spectrafit.plugins.converter.Converter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Call the converter plugin.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="62 "></span><span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="63 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="64 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Call the converter plugin.&quot;&quot;&quot;</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.converter.Converter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.converter.Converter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the input file to the target file format.</p> <p>It is an abstract method and must be implemented in the derived class.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Input file as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Target file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>MutableMapping[str, Any]: Converted file as a dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="37 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="38 "></span><span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="39 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="40 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input file to the target file format.</span>
<span class=linenos data-linenos="41 "></span>
<span class=linenos data-linenos="42 "></span><span class=sd>    It is an abstract method and must be implemented in the derived class.</span>
<span class=linenos data-linenos="43 "></span>
<span class=linenos data-linenos="44 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="45 "></span><span class=sd>        infile (Path): Input file as a path object.</span>
<span class=linenos data-linenos="46 "></span><span class=sd>        file_format (str): Target file format.</span>
<span class=linenos data-linenos="47 "></span>
<span class=linenos data-linenos="48 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="49 "></span><span class=sd>        MutableMapping[str, Any]: Converted file as a dictionary.</span>
<span class=linenos data-linenos="50 "></span><span class=sd>    &quot;&quot;&quot;</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.converter.Converter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#spectrafit.plugins.converter.Converter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the output file format is not supported.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="25 "></span><span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="26 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="27 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="28 "></span>
<span class=linenos data-linenos="29 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="30 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="31 "></span><span class=sd>             additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="32 "></span>
<span class=linenos data-linenos="33 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="34 "></span><span class=sd>        ValueError: If the output file format is not supported.</span>
<span class=linenos data-linenos="35 "></span><span class=sd>    &quot;&quot;&quot;</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.converter.Converter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#spectrafit.plugins.converter.Converter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the data to the target file format.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>Data to save.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Filename of the target file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Target file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="52 "></span><span class=nd>@abstractmethod</span>
<span class=linenos data-linenos="53 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="54 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the data to the target file format.</span>
<span class=linenos data-linenos="55 "></span>
<span class=linenos data-linenos="56 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="57 "></span><span class=sd>        data (Any): Data to save.</span>
<span class=linenos data-linenos="58 "></span><span class=sd>        fname (Path): Filename of the target file.</span>
<span class=linenos data-linenos="59 "></span><span class=sd>        export_format (str): Target file format.</span>
<span class=linenos data-linenos="60 "></span><span class=sd>    &quot;&quot;&quot;</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=input-and-output-file-converter-for-object-oriented-formats>Input and Output File Converter for object-oriented formats<a class=headerlink href=#input-and-output-file-converter-for-object-oriented-formats title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.file_converter></a> <div class="doc doc-contents first"> <p>Convert the input and output files to the preferred file format.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.file_converter.FileConverter class="doc doc-heading"> <code>FileConverter</code> <a href=#spectrafit.plugins.file_converter.FileConverter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Convert the input and output file to the preferred file format.</p> <div class="admonition info"> <p class=admonition-title>Supported file formats</p> <p>Currently supported file formats:</p> <p>-[x] JSON -[x] YAML (YML) -[x] TOML (LOCK for the lock file)</p> </div> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>choices</code></td> <td> <code>Set[str]</code> </td> <td> <div class=doc-md-description> <p>The choices for the file format.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 17 "></span><span class=k>class</span> <span class=nc>FileConverter</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos=" 18 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input and output file to the preferred file format.</span>
<span class=linenos data-linenos=" 19 "></span>
<span class=linenos data-linenos=" 20 "></span><span class=sd>    !!! info &quot;Supported file formats&quot;</span>
<span class=linenos data-linenos=" 21 "></span>
<span class=linenos data-linenos=" 22 "></span><span class=sd>        Currently supported file formats:</span>
<span class=linenos data-linenos=" 23 "></span>
<span class=linenos data-linenos=" 24 "></span><span class=sd>        -[x] JSON</span>
<span class=linenos data-linenos=" 25 "></span><span class=sd>        -[x] YAML (YML)</span>
<span class=linenos data-linenos=" 26 "></span><span class=sd>        -[x] TOML (LOCK for the lock file)</span>
<span class=linenos data-linenos=" 27 "></span>
<span class=linenos data-linenos=" 28 "></span><span class=sd>    Attributes:</span>
<span class=linenos data-linenos=" 29 "></span><span class=sd>        choices (Set[str]): The choices for the file format.</span>
<span class=linenos data-linenos=" 30 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 31 "></span>
<span class=linenos data-linenos=" 32 "></span>    <span class=n>choices</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;json&quot;</span><span class=p>,</span> <span class=s2>&quot;yaml&quot;</span><span class=p>,</span> <span class=s2>&quot;yml&quot;</span><span class=p>,</span> <span class=s2>&quot;toml&quot;</span><span class=p>,</span> <span class=s2>&quot;lock&quot;</span><span class=p>}</span>
<span class=linenos data-linenos=" 33 "></span>
<span class=linenos data-linenos=" 34 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 35 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos=" 36 "></span>
<span class=linenos data-linenos=" 37 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 38 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos=" 39 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos=" 40 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 41 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos=" 42 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; input and output files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 43 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 44 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 45 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 46 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 47 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos=" 48 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the &#39;SpectraFit&#39; input or output file.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 49 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 50 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 51 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 52 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 53 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the conversion.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 54 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 55 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos=" 56 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 57 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 58 "></span>            <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 59 "></span>            <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 60 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 61 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 62 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;json&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 63 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos=" 64 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 65 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos=" 66 "></span>
<span class=linenos data-linenos=" 67 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 68 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 69 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos=" 70 "></span>
<span class=linenos data-linenos=" 71 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 72 "></span><span class=sd>            infile (Path): The input file as a path object.</span>
<span class=linenos data-linenos=" 73 "></span><span class=sd>            file_format (str): The output file format.</span>
<span class=linenos data-linenos=" 74 "></span>
<span class=linenos data-linenos=" 75 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos=" 76 "></span><span class=sd>            ValueError: If the input file format is not supported.</span>
<span class=linenos data-linenos=" 77 "></span>
<span class=linenos data-linenos=" 78 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 79 "></span><span class=sd>            MutableMapping[str, Any] : The converted file as a dictionary.</span>
<span class=linenos data-linenos=" 80 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 81 "></span>        <span class=k>if</span> <span class=n>file_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>FileConverter</span><span class=o>.</span><span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos=" 82 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;The input file format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos=" 83 "></span>
<span class=linenos data-linenos=" 84 "></span>        <span class=k>return</span> <span class=n>read_input_file</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
<span class=linenos data-linenos=" 85 "></span>
<span class=linenos data-linenos=" 86 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 87 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the converted file.</span>
<span class=linenos data-linenos=" 88 "></span>
<span class=linenos data-linenos=" 89 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos=" 90 "></span><span class=sd>            ValueError: If the input file format is identical with the output format.</span>
<span class=linenos data-linenos=" 91 "></span><span class=sd>            ValueError: If the output file format is not supported.</span>
<span class=linenos data-linenos=" 92 "></span>
<span class=linenos data-linenos=" 93 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>            data (Any): The converted file as a dictionary.</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>            fname (Path): The input file as a path object.</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>            export_format (str): The output file format.</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 98 "></span>        <span class=k>if</span> <span class=n>fname</span><span class=o>.</span><span class=n>suffix</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=o>==</span> <span class=n>export_format</span><span class=p>:</span>
<span class=linenos data-linenos=" 99 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="100 "></span>                <span class=sa>f</span><span class=s2>&quot;The input file suffix &#39;</span><span class=si>{</span><span class=n>fname</span><span class=o>.</span><span class=n>suffix</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span><span class=si>}</span><span class=s2>&#39; is similar to the&quot;</span>
<span class=linenos data-linenos="101 "></span>                <span class=sa>f</span><span class=s2>&quot; output file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39;.&quot;</span>
<span class=linenos data-linenos="102 "></span>                <span class=s2>&quot;Please use a different output file suffix.&quot;</span>
<span class=linenos data-linenos="103 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="104 "></span>
<span class=linenos data-linenos="105 "></span>        <span class=k>if</span> <span class=n>export_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos="106 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="107 "></span>                <span class=sa>f</span><span class=s2>&quot;The output file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span>
<span class=linenos data-linenos="108 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="109 "></span>
<span class=linenos data-linenos="110 "></span>        <span class=k>if</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="111 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="112 "></span>                <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=s2>&quot;w&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="113 "></span>            <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="114 "></span>                <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=linenos data-linenos="115 "></span>        <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;yaml&quot;</span><span class=p>,</span> <span class=s2>&quot;yml&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="116 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="117 "></span>                <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=s2>&quot;w&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="118 "></span>            <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="119 "></span>                <span class=n>yaml</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>default_flow_style</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=linenos data-linenos="120 "></span>        <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;toml&quot;</span><span class=p>,</span> <span class=s2>&quot;lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="121 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="122 "></span>                <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="123 "></span>                <span class=s2>&quot;wb+&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="124 "></span>            <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="125 "></span>                <span class=n>tomli_w</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=o>**</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="126 "></span>
<span class=linenos data-linenos="127 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="128 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the converter via cmd commands.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="129 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="130 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="131 "></span>            <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>file_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="132 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="133 "></span>            <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="134 "></span>        <span class=p>)</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.file_converter.FileConverter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.file_converter.FileConverter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the converter via cmd commands.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="127 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="128 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter via cmd commands.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="129 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="130 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="131 "></span>        <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>file_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="132 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="133 "></span>        <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="134 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.file_converter.FileConverter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.file_converter.FileConverter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the input file to the output file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The output file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the input file format is not supported.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>MutableMapping[str, Any] : The converted file as a dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="67 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="68 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="69 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos="70 "></span>
<span class=linenos data-linenos="71 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="72 "></span><span class=sd>        infile (Path): The input file as a path object.</span>
<span class=linenos data-linenos="73 "></span><span class=sd>        file_format (str): The output file format.</span>
<span class=linenos data-linenos="74 "></span>
<span class=linenos data-linenos="75 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="76 "></span><span class=sd>        ValueError: If the input file format is not supported.</span>
<span class=linenos data-linenos="77 "></span>
<span class=linenos data-linenos="78 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="79 "></span><span class=sd>        MutableMapping[str, Any] : The converted file as a dictionary.</span>
<span class=linenos data-linenos="80 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="81 "></span>    <span class=k>if</span> <span class=n>file_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>FileConverter</span><span class=o>.</span><span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos="82 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;The input file format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="83 "></span>
<span class=linenos data-linenos="84 "></span>    <span class=k>return</span> <span class=n>read_input_file</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.file_converter.FileConverter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.file_converter.FileConverter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="34 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="35 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="36 "></span>
<span class=linenos data-linenos="37 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="38 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="39 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="40 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="41 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="42 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; input and output files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="43 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="44 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="45 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="46 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="47 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="48 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the &#39;SpectraFit&#39; input or output file.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="49 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="50 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="51 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="52 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="53 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the conversion.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="54 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="55 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos="56 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="57 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="58 "></span>        <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="59 "></span>        <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="60 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="61 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="62 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;json&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="63 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos="64 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="65 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.file_converter.FileConverter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.file_converter.FileConverter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the converted file.</p> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the input file format is identical with the output format.</p> </div> </td> </tr> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the output file format is not supported.</p> </div> </td> </tr> </tbody> </table> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The converted file as a dictionary.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The output file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 86 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 87 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the converted file.</span>
<span class=linenos data-linenos=" 88 "></span>
<span class=linenos data-linenos=" 89 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos=" 90 "></span><span class=sd>        ValueError: If the input file format is identical with the output format.</span>
<span class=linenos data-linenos=" 91 "></span><span class=sd>        ValueError: If the output file format is not supported.</span>
<span class=linenos data-linenos=" 92 "></span>
<span class=linenos data-linenos=" 93 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>        data (Any): The converted file as a dictionary.</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>        fname (Path): The input file as a path object.</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>        export_format (str): The output file format.</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 98 "></span>    <span class=k>if</span> <span class=n>fname</span><span class=o>.</span><span class=n>suffix</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=o>==</span> <span class=n>export_format</span><span class=p>:</span>
<span class=linenos data-linenos=" 99 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="100 "></span>            <span class=sa>f</span><span class=s2>&quot;The input file suffix &#39;</span><span class=si>{</span><span class=n>fname</span><span class=o>.</span><span class=n>suffix</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span><span class=si>}</span><span class=s2>&#39; is similar to the&quot;</span>
<span class=linenos data-linenos="101 "></span>            <span class=sa>f</span><span class=s2>&quot; output file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39;.&quot;</span>
<span class=linenos data-linenos="102 "></span>            <span class=s2>&quot;Please use a different output file suffix.&quot;</span>
<span class=linenos data-linenos="103 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="104 "></span>
<span class=linenos data-linenos="105 "></span>    <span class=k>if</span> <span class=n>export_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos="106 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="107 "></span>            <span class=sa>f</span><span class=s2>&quot;The output file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span>
<span class=linenos data-linenos="108 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="109 "></span>
<span class=linenos data-linenos="110 "></span>    <span class=k>if</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="111 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="112 "></span>            <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=s2>&quot;w&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="113 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="114 "></span>            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=linenos data-linenos="115 "></span>    <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;yaml&quot;</span><span class=p>,</span> <span class=s2>&quot;yml&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="116 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="117 "></span>            <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=s2>&quot;w&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="118 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="119 "></span>            <span class=n>yaml</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>default_flow_style</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=linenos data-linenos="120 "></span>    <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;toml&quot;</span><span class=p>,</span> <span class=s2>&quot;lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="121 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="122 "></span>            <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="123 "></span>            <span class=s2>&quot;wb+&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="124 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="125 "></span>            <span class=n>tomli_w</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=o>**</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.file_converter.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.file_converter.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the converter from the command line.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/file_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="137 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="138 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter from the command line.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="139 "></span>    <span class=n>FileConverter</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><h3 id=data-converter-for-rational-data-formats-like-csv-excel-etc>Data Converter for rational data formats like CSV, Excel, etc.<a class=headerlink href=#data-converter-for-rational-data-formats-like-csv-excel-etc title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.data_converter></a> <div class="doc doc-contents first"> <p>Transform the input data to a CSV file.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.data_converter.DataConverter class="doc doc-heading"> <code>DataConverter</code> <a href=#spectrafit.plugins.data_converter.DataConverter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Convert the data files to a CSV file.</p> <div class="admonition info"> <p class=admonition-title>Supported file formats</p> <p>Currently supported file formats:</p> <p>-[x] ATHENA -[x] TXT -[ ] more to come</p> <p><code>DataConverter</code> class can be also used in the Jupyter notebook.</p> </div> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 78 "></span><span class=k>class</span> <span class=nc>DataConverter</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos=" 79 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the data files to a CSV file.</span>
<span class=linenos data-linenos=" 80 "></span>
<span class=linenos data-linenos=" 81 "></span><span class=sd>    !!! info &quot;Supported file formats&quot;</span>
<span class=linenos data-linenos=" 82 "></span>
<span class=linenos data-linenos=" 83 "></span><span class=sd>        Currently supported file formats:</span>
<span class=linenos data-linenos=" 84 "></span>
<span class=linenos data-linenos=" 85 "></span><span class=sd>        -[x] ATHENA</span>
<span class=linenos data-linenos=" 86 "></span><span class=sd>        -[x] TXT</span>
<span class=linenos data-linenos=" 87 "></span><span class=sd>        -[ ] more to come</span>
<span class=linenos data-linenos=" 88 "></span>
<span class=linenos data-linenos=" 89 "></span><span class=sd>        `DataConverter` class can be also used in the Jupyter notebook.</span>
<span class=linenos data-linenos=" 90 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 91 "></span>
<span class=linenos data-linenos=" 92 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 93 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos=" 94 "></span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 99 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="100 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from data files to CSV files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="101 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="102 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="103 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="104 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="105 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="106 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the data file to convert.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="107 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="108 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="109 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="110 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="111 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the conversion.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="113 "></span>            <span class=n>choices</span><span class=o>=</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos="114 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="115 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="116 "></span>            <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="117 "></span>            <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="118 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="119 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="120 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;csv&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="121 "></span>            <span class=n>choices</span><span class=o>=</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="122 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="123 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos="124 "></span>
<span class=linenos data-linenos="125 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="126 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>:</span>
<span class=linenos data-linenos="127 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the input file to the target file format.</span>
<span class=linenos data-linenos="128 "></span>
<span class=linenos data-linenos="129 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="130 "></span><span class=sd>            infile (Path): Input file as a path object.</span>
<span class=linenos data-linenos="131 "></span><span class=sd>            file_format (str): Target file format.</span>
<span class=linenos data-linenos="132 "></span>
<span class=linenos data-linenos="133 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="134 "></span><span class=sd>            ValueError: If the file format is not supported.</span>
<span class=linenos data-linenos="135 "></span>
<span class=linenos data-linenos="136 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="137 "></span><span class=sd>            pd.DataFrame: The converted data as a pandas DataFrame.</span>
<span class=linenos data-linenos="138 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="139 "></span>        <span class=k>if</span> <span class=n>file_format</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos="140 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="141 "></span>
<span class=linenos data-linenos="142 "></span>        <span class=k>if</span> <span class=nb>callable</span><span class=p>(</span><span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span><span class=p>):</span>
<span class=linenos data-linenos="143 "></span>            <span class=n>names</span> <span class=o>=</span> <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
<span class=linenos data-linenos="144 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="145 "></span>            <span class=n>names</span> <span class=o>=</span> <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span>
<span class=linenos data-linenos="146 "></span>        <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span> <span class=o>=</span> <span class=n>names</span>
<span class=linenos data-linenos="147 "></span>
<span class=linenos data-linenos="148 "></span>        <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span>
<span class=linenos data-linenos="149 "></span>            <span class=n>infile</span><span class=p>,</span> <span class=o>**</span><span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>dict</span><span class=p>(</span><span class=n>exclude</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;file_suffixes&quot;</span><span class=p>})</span>
<span class=linenos data-linenos="150 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="151 "></span>
<span class=linenos data-linenos="152 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="153 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the converted data to a CSV file.</span>
<span class=linenos data-linenos="154 "></span>
<span class=linenos data-linenos="155 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="156 "></span><span class=sd>            ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="157 "></span>
<span class=linenos data-linenos="158 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="159 "></span><span class=sd>            data (Any): The converted data, which is a pandas DataFrame.</span>
<span class=linenos data-linenos="160 "></span><span class=sd>            fname (Path): The file name of the data file.</span>
<span class=linenos data-linenos="161 "></span><span class=sd>            export_format (str): The file format of the exported file.</span>
<span class=linenos data-linenos="162 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="163 "></span>        <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="164 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="165 "></span>        <span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=linenos data-linenos="166 "></span>
<span class=linenos data-linenos="167 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="169 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="170 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="171 "></span>            <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span>
<span class=linenos data-linenos="172 "></span>                <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="173 "></span>                <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="174 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="175 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="176 "></span>            <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="177 "></span>        <span class=p>)</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.data_converter.DataConverter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.data_converter.DataConverter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the converter.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="167 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="169 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="170 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="171 "></span>        <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span>
<span class=linenos data-linenos="172 "></span>            <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="173 "></span>            <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="174 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="175 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="176 "></span>        <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="177 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.data_converter.DataConverter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.data_converter.DataConverter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the input file to the target file format.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Input file as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Target file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the file format is not supported.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=pandas>pd</span>.<span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>pd.DataFrame: The converted data as a pandas DataFrame.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="125 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="126 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>:</span>
<span class=linenos data-linenos="127 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input file to the target file format.</span>
<span class=linenos data-linenos="128 "></span>
<span class=linenos data-linenos="129 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="130 "></span><span class=sd>        infile (Path): Input file as a path object.</span>
<span class=linenos data-linenos="131 "></span><span class=sd>        file_format (str): Target file format.</span>
<span class=linenos data-linenos="132 "></span>
<span class=linenos data-linenos="133 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="134 "></span><span class=sd>        ValueError: If the file format is not supported.</span>
<span class=linenos data-linenos="135 "></span>
<span class=linenos data-linenos="136 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="137 "></span><span class=sd>        pd.DataFrame: The converted data as a pandas DataFrame.</span>
<span class=linenos data-linenos="138 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="139 "></span>    <span class=k>if</span> <span class=n>file_format</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices</span><span class=p>:</span>
<span class=linenos data-linenos="140 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="141 "></span>
<span class=linenos data-linenos="142 "></span>    <span class=k>if</span> <span class=nb>callable</span><span class=p>(</span><span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span><span class=p>):</span>
<span class=linenos data-linenos="143 "></span>        <span class=n>names</span> <span class=o>=</span> <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span>
<span class=linenos data-linenos="144 "></span>    <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="145 "></span>        <span class=n>names</span> <span class=o>=</span> <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span>
<span class=linenos data-linenos="146 "></span>    <span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>names</span> <span class=o>=</span> <span class=n>names</span>
<span class=linenos data-linenos="147 "></span>
<span class=linenos data-linenos="148 "></span>    <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span>
<span class=linenos data-linenos="149 "></span>        <span class=n>infile</span><span class=p>,</span> <span class=o>**</span><span class=n>DataFormats</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>file_format</span><span class=p>]</span><span class=o>.</span><span class=n>dict</span><span class=p>(</span><span class=n>exclude</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;file_suffixes&quot;</span><span class=p>})</span>
<span class=linenos data-linenos="150 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.data_converter.DataConverter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.data_converter.DataConverter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 92 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 93 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos=" 94 "></span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 99 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="100 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from data files to CSV files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="101 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="102 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="103 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="104 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="105 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="106 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the data file to convert.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="107 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="108 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="109 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="110 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="111 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the conversion.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="113 "></span>        <span class=n>choices</span><span class=o>=</span><span class=n>choices</span><span class=p>,</span>
<span class=linenos data-linenos="114 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="115 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="116 "></span>        <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="117 "></span>        <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="118 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="119 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="120 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;csv&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="121 "></span>        <span class=n>choices</span><span class=o>=</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="122 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="123 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.data_converter.DataConverter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.data_converter.DataConverter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the converted data to a CSV file.</p> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the export format is not supported.</p> </div> </td> </tr> </tbody> </table> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The converted data, which is a pandas DataFrame.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The file name of the data file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file format of the exported file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="152 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="153 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the converted data to a CSV file.</span>
<span class=linenos data-linenos="154 "></span>
<span class=linenos data-linenos="155 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="156 "></span><span class=sd>        ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="157 "></span>
<span class=linenos data-linenos="158 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="159 "></span><span class=sd>        data (Any): The converted data, which is a pandas DataFrame.</span>
<span class=linenos data-linenos="160 "></span><span class=sd>        fname (Path): The file name of the data file.</span>
<span class=linenos data-linenos="161 "></span><span class=sd>        export_format (str): The file format of the exported file.</span>
<span class=linenos data-linenos="162 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="163 "></span>    <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="164 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="165 "></span>    <span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.data_converter.DataFormats class="doc doc-heading"> <code>DataFormats</code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#spectrafit.plugins.data_converter.DataFormats class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Data formats.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="62 "></span><span class=nd>@dataclass</span><span class=p>(</span><span class=n>frozen</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=linenos data-linenos="63 "></span><span class=k>class</span> <span class=nc>DataFormats</span><span class=p>:</span>
<span class=linenos data-linenos="64 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Data formats.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="65 "></span>
<span class=linenos data-linenos="66 "></span>    <span class=n>ATHENA</span> <span class=o>=</span> <span class=n>athena_format</span>
<span class=linenos data-linenos="67 "></span>    <span class=n>TXT</span> <span class=o>=</span> <span class=n>txt_format</span>
</code></pre></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.data_converter.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.data_converter.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the converter from the command line.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="180 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="181 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter from the command line.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="182 "></span>    <span class=n>DataConverter</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.data_converter.get_athena_column class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_athena_column</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=n>comment</span><span class=o>=</span><span class=s1>&#39;#&#39;</span><span class=p>)</span></code> <a href=#spectrafit.plugins.data_converter.get_athena_column class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Get the header of the file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The file name of the data file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>comment</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The comment marker. Defaults to "#".</p> </div> </td> <td> <code>&#39;#&#39;</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Optional>Optional</span>[<span title=typing.List>List</span>[str]]</code> </td> <td> <div class=doc-md-description> <p>Optional[List[str]]: The column names of the data file as a list.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/data_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="19 "></span><span class=k>def</span> <span class=nf>get_athena_column</span><span class=p>(</span><span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>comment</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;#&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]:</span>
<span class=linenos data-linenos="20 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the header of the file.</span>
<span class=linenos data-linenos="21 "></span>
<span class=linenos data-linenos="22 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="23 "></span><span class=sd>        fname (Path): The file name of the data file.</span>
<span class=linenos data-linenos="24 "></span><span class=sd>        comment (str, optional): The comment marker. Defaults to &quot;#&quot;.</span>
<span class=linenos data-linenos="25 "></span>
<span class=linenos data-linenos="26 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="27 "></span><span class=sd>        Optional[List[str]]: The column names of the data file as a list.</span>
<span class=linenos data-linenos="28 "></span>
<span class=linenos data-linenos="29 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="30 "></span>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="31 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=linenos data-linenos="32 "></span>        <span class=n>lines</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>splitlines</span><span class=p>()</span>
<span class=linenos data-linenos="33 "></span>        <span class=k>return</span> <span class=nb>next</span><span class=p>(</span>
<span class=linenos data-linenos="34 "></span>            <span class=p>(</span>
<span class=linenos data-linenos="35 "></span>                <span class=n>lines</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=n>comment</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
<span class=linenos data-linenos="36 "></span>                <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>line</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>lines</span><span class=p>)</span>
<span class=linenos data-linenos="37 "></span>                <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^\s*\d&quot;</span><span class=p>,</span> <span class=n>line</span><span class=p>)</span>
<span class=linenos data-linenos="38 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="39 "></span>            <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="40 "></span>        <span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><h3 id=pkl-converter-for-pickle-files>Pkl Converter for pickle files<a class=headerlink href=#pkl-converter-for-pickle-files title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.pkl_converter></a> <div class="doc doc-contents first"> <p>Transform the raw pkl data into a CSV files.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pkl_converter.ExportData class="doc doc-heading"> <code>ExportData</code> <a href=#spectrafit.plugins.pkl_converter.ExportData class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Export the data to a file.</p> <div class="admonition info"> <p class=admonition-title>General information</p> <p>The data is exported to a file. The file format is determined by the file extension of the output file. The supported file formats are:</p> <p>-[x] npy -[x] npz -[x] pkl -[x] pkl.gz</p> <p>Classical file formats like <code>CSV</code>, <code>JSON</code>, <code>TOML</code>, etc. are not supported. In case of <code>CSV</code>, the conversion from unstructured data to a structured format is not trivial. In case of <code>JSON</code> and <code>TOML</code>, the data is not the conversion from numpy arrays to lists is very costly. Therefore, the data is exported to a pickly file as the preferred format.</p> </div> <div class="admonition warning"> <p class=admonition-title>About NumPy</p> <p>The data is exported to a NumPy file can cause some challenge for the loading of the data. The data is exported as a dictionary with numpy as numpy arrays. The data can be loaded with the following code:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="1 "></span><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=linenos data-linenos="2 "></span>
<span class=linenos data-linenos="3 "></span><span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&quot;data.npy&quot;</span><span class=p>,</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>item</span><span class=p>()</span>
</code></pre></div> </div> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 23 "></span><span class=k>class</span> <span class=nc>ExportData</span><span class=p>:</span>
<span class=linenos data-linenos=" 24 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Export the data to a file.</span>
<span class=linenos data-linenos=" 25 "></span>
<span class=linenos data-linenos=" 26 "></span><span class=sd>    !!! info &quot;General information&quot;</span>
<span class=linenos data-linenos=" 27 "></span>
<span class=linenos data-linenos=" 28 "></span><span class=sd>        The data is exported to a file. The file format is determined by the file</span>
<span class=linenos data-linenos=" 29 "></span><span class=sd>        extension of the output file. The supported file formats are:</span>
<span class=linenos data-linenos=" 30 "></span>
<span class=linenos data-linenos=" 31 "></span><span class=sd>        -[x] npy</span>
<span class=linenos data-linenos=" 32 "></span><span class=sd>        -[x] npz</span>
<span class=linenos data-linenos=" 33 "></span><span class=sd>        -[x] pkl</span>
<span class=linenos data-linenos=" 34 "></span><span class=sd>        -[x] pkl.gz</span>
<span class=linenos data-linenos=" 35 "></span>
<span class=linenos data-linenos=" 36 "></span><span class=sd>        Classical file formats like `CSV`, `JSON`, `TOML`, etc. are not supported.</span>
<span class=linenos data-linenos=" 37 "></span><span class=sd>        In case of `CSV`, the conversion from unstructured data to a structured</span>
<span class=linenos data-linenos=" 38 "></span><span class=sd>        format is not trivial. In case of `JSON` and `TOML`, the data is not</span>
<span class=linenos data-linenos=" 39 "></span><span class=sd>        the conversion from numpy arrays to lists is very costly. Therefore, the</span>
<span class=linenos data-linenos=" 40 "></span><span class=sd>        data is exported to a pickly file as the preferred format.</span>
<span class=linenos data-linenos=" 41 "></span>
<span class=linenos data-linenos=" 42 "></span><span class=sd>    !!! warning &quot;About NumPy&quot;</span>
<span class=linenos data-linenos=" 43 "></span>
<span class=linenos data-linenos=" 44 "></span><span class=sd>        The data is exported to a NumPy file can cause some challenge for the</span>
<span class=linenos data-linenos=" 45 "></span><span class=sd>        loading of the data. The data is exported as a dictionary with numpy</span>
<span class=linenos data-linenos=" 46 "></span><span class=sd>        as numpy arrays. The data can be loaded with the following code:</span>
<span class=linenos data-linenos=" 47 "></span>
<span class=linenos data-linenos=" 48 "></span><span class=sd>        ```python</span>
<span class=linenos data-linenos=" 49 "></span><span class=sd>        import numpy as np</span>
<span class=linenos data-linenos=" 50 "></span>
<span class=linenos data-linenos=" 51 "></span><span class=sd>        data = np.load(&quot;data.npy&quot;, allow_pickle=True).item()</span>
<span class=linenos data-linenos=" 52 "></span><span class=sd>        ```</span>
<span class=linenos data-linenos=" 53 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 54 "></span>
<span class=linenos data-linenos=" 55 "></span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 56 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Export the data to a file.</span>
<span class=linenos data-linenos=" 57 "></span>
<span class=linenos data-linenos=" 58 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 59 "></span><span class=sd>            data (Dict[str, Any]): The data to export.</span>
<span class=linenos data-linenos=" 60 "></span><span class=sd>            fname (Path): The filename of the output file.</span>
<span class=linenos data-linenos=" 61 "></span><span class=sd>            export_format (str): The file format of the output file.</span>
<span class=linenos data-linenos=" 62 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 63 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
<span class=linenos data-linenos=" 64 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos=" 65 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=o>=</span> <span class=n>export_format</span>
<span class=linenos data-linenos=" 66 "></span>
<span class=linenos data-linenos=" 67 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 68 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Export the data to a file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 69 "></span>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;npy&quot;</span><span class=p>,</span> <span class=s2>&quot;npz&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos=" 70 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>to_numpy</span><span class=p>()</span>
<span class=linenos data-linenos=" 71 "></span>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;pkl&quot;</span><span class=p>,</span> <span class=n>pkl_gz</span><span class=p>}:</span>
<span class=linenos data-linenos=" 72 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>to_pickle</span><span class=p>()</span>
<span class=linenos data-linenos=" 73 "></span>
<span class=linenos data-linenos=" 74 "></span>    <span class=k>def</span> <span class=nf>to_numpy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 75 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Export the data to a numpy file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 76 "></span>        <span class=n>_data</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span>
<span class=linenos data-linenos=" 77 "></span>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos=" 78 "></span>            <span class=n>np</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=n>_data</span><span class=p>)</span>
<span class=linenos data-linenos=" 79 "></span>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos=" 80 "></span>            <span class=n>np</span><span class=o>.</span><span class=n>savez</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>_data</span><span class=p>)</span>
<span class=linenos data-linenos=" 81 "></span>
<span class=linenos data-linenos=" 82 "></span>    <span class=k>def</span> <span class=nf>to_pickle</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 83 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Export the data to a pickle file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 84 "></span>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;pkl&quot;</span><span class=p>:</span>
<span class=linenos data-linenos=" 85 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=s2>&quot;wb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos=" 86 "></span>                <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos=" 87 "></span>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=n>pkl_gz</span><span class=p>:</span>
<span class=linenos data-linenos=" 88 "></span>            <span class=k>with</span> <span class=n>gzip</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=s2>&quot;wb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos=" 89 "></span>                <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos=" 90 "></span>
<span class=linenos data-linenos=" 91 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 92 "></span>    <span class=k>def</span> <span class=nf>numpy2list</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<span class=linenos data-linenos=" 93 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the arrays of list dictionaries to a list of dictionaries with list.</span>
<span class=linenos data-linenos=" 94 "></span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>            data (List[Dict[str, Any]]): The data to convert.</span>
<span class=linenos data-linenos=" 97 "></span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>            List[Dict[str, Any]]: The converted data.</span>
<span class=linenos data-linenos="100 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="101 "></span>        <span class=k>return</span> <span class=p>[</span>
<span class=linenos data-linenos="102 "></span>            <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>d</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>v</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>)}</span>
<span class=linenos data-linenos="103 "></span>            <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>data</span>
<span class=linenos data-linenos="104 "></span>        <span class=p>]</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.ExportData.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.ExportData.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Export the data to a file.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="67 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="68 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Export the data to a file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="69 "></span>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;npy&quot;</span><span class=p>,</span> <span class=s2>&quot;npz&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="70 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>to_numpy</span><span class=p>()</span>
<span class=linenos data-linenos="71 "></span>    <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;pkl&quot;</span><span class=p>,</span> <span class=n>pkl_gz</span><span class=p>}:</span>
<span class=linenos data-linenos="72 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>to_pickle</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.ExportData.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_converter.ExportData.__init__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Export the data to a file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The data to export.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The filename of the output file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file format of the output file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="55 "></span><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="56 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Export the data to a file.</span>
<span class=linenos data-linenos="57 "></span>
<span class=linenos data-linenos="58 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="59 "></span><span class=sd>        data (Dict[str, Any]): The data to export.</span>
<span class=linenos data-linenos="60 "></span><span class=sd>        fname (Path): The filename of the output file.</span>
<span class=linenos data-linenos="61 "></span><span class=sd>        export_format (str): The file format of the output file.</span>
<span class=linenos data-linenos="62 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="63 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
<span class=linenos data-linenos="64 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>fname</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="65 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span> <span class=o>=</span> <span class=n>export_format</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.ExportData.numpy2list class="doc doc-heading"> <code class="highlight language-python"><span class=n>numpy2list</span><span class=p>(</span><span class=n>data</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.pkl_converter.ExportData.numpy2list class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the arrays of list dictionaries to a list of dictionaries with list.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.List>List</span>[<span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>The data to convert.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.List>List</span>[<span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>List[Dict[str, Any]]: The converted data.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 91 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 92 "></span><span class=k>def</span> <span class=nf>numpy2list</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<span class=linenos data-linenos=" 93 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the arrays of list dictionaries to a list of dictionaries with list.</span>
<span class=linenos data-linenos=" 94 "></span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>        data (List[Dict[str, Any]]): The data to convert.</span>
<span class=linenos data-linenos=" 97 "></span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>        List[Dict[str, Any]]: The converted data.</span>
<span class=linenos data-linenos="100 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="101 "></span>    <span class=k>return</span> <span class=p>[</span>
<span class=linenos data-linenos="102 "></span>        <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>d</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>v</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>)}</span>
<span class=linenos data-linenos="103 "></span>        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>data</span>
<span class=linenos data-linenos="104 "></span>    <span class=p>]</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.ExportData.to_numpy class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_numpy</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.ExportData.to_numpy class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Export the data to a numpy file.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="74 "></span><span class=k>def</span> <span class=nf>to_numpy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="75 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Export the data to a numpy file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="76 "></span>    <span class=n>_data</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span>
<span class=linenos data-linenos="77 "></span>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="78 "></span>        <span class=n>np</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=n>_data</span><span class=p>)</span>
<span class=linenos data-linenos="79 "></span>    <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="80 "></span>        <span class=n>np</span><span class=o>.</span><span class=n>savez</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>_data</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.ExportData.to_pickle class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_pickle</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.ExportData.to_pickle class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Export the data to a pickle file.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="82 "></span><span class=k>def</span> <span class=nf>to_pickle</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="83 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Export the data to a pickle file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="84 "></span>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;pkl&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="85 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=s2>&quot;wb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="86 "></span>            <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="87 "></span>    <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=n>pkl_gz</span><span class=p>:</span>
<span class=linenos data-linenos="88 "></span>        <span class=k>with</span> <span class=n>gzip</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span> <span class=s2>&quot;wb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="89 "></span>            <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pkl_converter.PklConverter class="doc doc-heading"> <code>PklConverter</code> <a href=#spectrafit.plugins.pkl_converter.PklConverter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Convert pkl data to a CSV files.</p> <div class="admonition info"> <p class=admonition-title>General information</p> <p>The pkl data is converted to a CSV file. The CSV file is saved in the same directory as the input file. The name of the CSV file is the same as the input file with the suffix <code>.csv</code> and prefixed with the name of the 'major' keys in the pkl file. Furthermore, a graph of the data is optionally saved as a PDF file to have a visual representation of the data structure.</p> </div> <div class="admonition info"> <p class=admonition-title>Supported file formats</p> <p>Currently supported file formats:</p> <p>-[x] pkl -[x] pkl.gz -[x] ...</p> </div> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>choices_fformat</code></td> <td> <code>Set[str]</code> </td> <td> <div class=doc-md-description> <p>The choices for the file format.</p> </div> </td> </tr> <tr> <td><code>choices_export</code></td> <td> <code>Set[str]</code> </td> <td> <div class=doc-md-description> <p>The choices for the export format.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="107 "></span><span class=k>class</span> <span class=nc>PklConverter</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos="108 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert pkl data to a CSV files.</span>
<span class=linenos data-linenos="109 "></span>
<span class=linenos data-linenos="110 "></span><span class=sd>    !!! info &quot;General information&quot;</span>
<span class=linenos data-linenos="111 "></span>
<span class=linenos data-linenos="112 "></span><span class=sd>        The pkl data is converted to a CSV file. The CSV file is saved in the same</span>
<span class=linenos data-linenos="113 "></span><span class=sd>        directory as the input file. The name of the CSV file is the same as the</span>
<span class=linenos data-linenos="114 "></span><span class=sd>        input file with the suffix `.csv` and prefixed with the name of the</span>
<span class=linenos data-linenos="115 "></span><span class=sd>        &#39;major&#39; keys in the pkl file. Furthermore, a graph of the data is optionally</span>
<span class=linenos data-linenos="116 "></span><span class=sd>        saved as a PDF file to have a visual representation of the data structure.</span>
<span class=linenos data-linenos="117 "></span>
<span class=linenos data-linenos="118 "></span><span class=sd>    !!! info &quot;Supported file formats&quot;</span>
<span class=linenos data-linenos="119 "></span>
<span class=linenos data-linenos="120 "></span><span class=sd>        Currently supported file formats:</span>
<span class=linenos data-linenos="121 "></span>
<span class=linenos data-linenos="122 "></span><span class=sd>        -[x] pkl</span>
<span class=linenos data-linenos="123 "></span><span class=sd>        -[x] pkl.gz</span>
<span class=linenos data-linenos="124 "></span><span class=sd>        -[x] ...</span>
<span class=linenos data-linenos="125 "></span>
<span class=linenos data-linenos="126 "></span>
<span class=linenos data-linenos="127 "></span><span class=sd>    Attributes:</span>
<span class=linenos data-linenos="128 "></span><span class=sd>        choices_fformat (Set[str]): The choices for the file format.</span>
<span class=linenos data-linenos="129 "></span><span class=sd>        choices_export (Set[str]): The choices for the export format.</span>
<span class=linenos data-linenos="130 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="131 "></span>
<span class=linenos data-linenos="132 "></span>    <span class=n>choices_fformat</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-8&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-16&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-32&quot;</span><span class=p>}</span>
<span class=linenos data-linenos="133 "></span>    <span class=n>choices_export</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;npy&quot;</span><span class=p>,</span> <span class=s2>&quot;npz&quot;</span><span class=p>,</span> <span class=s2>&quot;pkl&quot;</span><span class=p>,</span> <span class=n>pkl_gz</span><span class=p>}</span>
<span class=linenos data-linenos="134 "></span>
<span class=linenos data-linenos="135 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="136 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="137 "></span>
<span class=linenos data-linenos="138 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="139 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="140 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="141 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="142 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="143 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to CSV files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="144 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="145 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="146 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="147 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="148 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="149 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="150 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="151 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="152 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="153 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="154 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos="155 "></span>            <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="156 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="157 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="158 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos="159 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="160 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="161 "></span>            <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="162 "></span>            <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="163 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for export of the output file. Default is &#39;pkl&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="164 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="165 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;pkl&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="166 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="167 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="168 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos="169 "></span>
<span class=linenos data-linenos="170 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="171 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="172 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos="173 "></span>
<span class=linenos data-linenos="174 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="175 "></span><span class=sd>            infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos="176 "></span><span class=sd>            file_format (str): The output file format.</span>
<span class=linenos data-linenos="177 "></span>
<span class=linenos data-linenos="178 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="179 "></span><span class=sd>            Dict[str, Any]: The data as a dictionary, which can be a nested dictionary</span>
<span class=linenos data-linenos="180 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="181 "></span>
<span class=linenos data-linenos="182 "></span>        <span class=k>def</span> <span class=nf>_convert</span><span class=p>(</span>
<span class=linenos data-linenos="183 "></span>            <span class=n>data_values</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>_key</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
<span class=linenos data-linenos="184 "></span>        <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<span class=linenos data-linenos="185 "></span><span class=w>            </span><span class=sd>&quot;&quot;&quot;Convert the data to a list of dictionaries.</span>
<span class=linenos data-linenos="186 "></span>
<span class=linenos data-linenos="187 "></span><span class=sd>            The new key is the old key plus all the subkeys. The new value is the</span>
<span class=linenos data-linenos="188 "></span><span class=sd>            value of the subkey if the value is an instance of an array.</span>
<span class=linenos data-linenos="189 "></span>
<span class=linenos data-linenos="190 "></span><span class=sd>            For avoiding `pylint` errors, the `_key` argument is set to `None` by</span>
<span class=linenos data-linenos="191 "></span><span class=sd>            default and is set to an empty list if it is `None`. This is done to</span>
<span class=linenos data-linenos="192 "></span><span class=sd>            avoid the `pylint` error `dangerous-default-value`. The `_key` argument</span>
<span class=linenos data-linenos="193 "></span><span class=sd>            is used to keep track of the keys of the nested dictionary. Furthermore,</span>
<span class=linenos data-linenos="194 "></span><span class=sd>            the `_key` argument is used to create the new key for the new dictionary.</span>
<span class=linenos data-linenos="195 "></span>
<span class=linenos data-linenos="196 "></span><span class=sd>            Finally, the new dictionary is appended to the list of dictionaries.</span>
<span class=linenos data-linenos="197 "></span>
<span class=linenos data-linenos="198 "></span><span class=sd>            Args:</span>
<span class=linenos data-linenos="199 "></span><span class=sd>                data_values (Dict[str, Any]): The data as a dictionary.</span>
<span class=linenos data-linenos="200 "></span>
<span class=linenos data-linenos="201 "></span><span class=sd>            Returns:</span>
<span class=linenos data-linenos="202 "></span><span class=sd>                List[Dict[str, Any]]: The data as a list of dictionaries.</span>
<span class=linenos data-linenos="203 "></span><span class=sd>            &quot;&quot;&quot;</span>
<span class=linenos data-linenos="204 "></span>            <span class=n>data_list</span> <span class=o>=</span> <span class=p>[]</span>
<span class=linenos data-linenos="205 "></span>            <span class=k>if</span> <span class=n>_key</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="206 "></span>                <span class=n>_key</span> <span class=o>=</span> <span class=p>[]</span>
<span class=linenos data-linenos="207 "></span>            <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data_values</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="208 "></span>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="209 "></span>                    <span class=n>_key</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>key</span><span class=p>))</span>
<span class=linenos data-linenos="210 "></span>                    <span class=n>data_list</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>_convert</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>_key</span><span class=p>))</span>
<span class=linenos data-linenos="211 "></span>                    <span class=n>_key</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
<span class=linenos data-linenos="212 "></span>                <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
<span class=linenos data-linenos="213 "></span>                    <span class=n>data_list</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s2>&quot;_&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>_key</span> <span class=o>+</span> <span class=p>[</span><span class=n>key</span><span class=p>]):</span> <span class=n>value</span><span class=p>})</span>
<span class=linenos data-linenos="214 "></span>            <span class=k>return</span> <span class=n>data_list</span>
<span class=linenos data-linenos="215 "></span>
<span class=linenos data-linenos="216 "></span>        <span class=n>data_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=linenos data-linenos="217 "></span>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="218 "></span>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="219 "></span>                <span class=n>data_dict</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>_convert</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="220 "></span>        <span class=k>return</span> <span class=n>data_dict</span>
<span class=linenos data-linenos="221 "></span>
<span class=linenos data-linenos="222 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="223 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the converted pickle data to a file.</span>
<span class=linenos data-linenos="224 "></span>
<span class=linenos data-linenos="225 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="226 "></span><span class=sd>            data (Any): The converted nested dictionary of the pkl data.</span>
<span class=linenos data-linenos="227 "></span><span class=sd>            fname (Path): The filename of the output file.</span>
<span class=linenos data-linenos="228 "></span><span class=sd>            export_format (str): The file format of the output file.</span>
<span class=linenos data-linenos="229 "></span>
<span class=linenos data-linenos="230 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="231 "></span><span class=sd>            ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="232 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="233 "></span>        <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="234 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unsupported file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39;.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="235 "></span>
<span class=linenos data-linenos="236 "></span>        <span class=n>fname</span> <span class=o>=</span> <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span>
<span class=linenos data-linenos="237 "></span>
<span class=linenos data-linenos="238 "></span>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="239 "></span>            <span class=n>_fname</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>fname</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="240 "></span>            <span class=n>ExportData</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>value</span><span class=p>,</span> <span class=n>fname</span><span class=o>=</span><span class=n>_fname</span><span class=p>,</span> <span class=n>export_format</span><span class=o>=</span><span class=n>export_format</span><span class=p>)()</span>
<span class=linenos data-linenos="241 "></span>
<span class=linenos data-linenos="242 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="243 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="244 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="245 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
<span class=linenos data-linenos="246 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>])</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.PklConverter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.PklConverter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the converter.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="242 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="243 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="244 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="245 "></span>    <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
<span class=linenos data-linenos="246 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>])</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.PklConverter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.pkl_converter.PklConverter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the input file to the output file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file of the as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The output file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: The data as a dictionary, which can be a nested dictionary</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="170 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="171 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="172 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos="173 "></span>
<span class=linenos data-linenos="174 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="175 "></span><span class=sd>        infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos="176 "></span><span class=sd>        file_format (str): The output file format.</span>
<span class=linenos data-linenos="177 "></span>
<span class=linenos data-linenos="178 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="179 "></span><span class=sd>        Dict[str, Any]: The data as a dictionary, which can be a nested dictionary</span>
<span class=linenos data-linenos="180 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="181 "></span>
<span class=linenos data-linenos="182 "></span>    <span class=k>def</span> <span class=nf>_convert</span><span class=p>(</span>
<span class=linenos data-linenos="183 "></span>        <span class=n>data_values</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>_key</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
<span class=linenos data-linenos="184 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<span class=linenos data-linenos="185 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the data to a list of dictionaries.</span>
<span class=linenos data-linenos="186 "></span>
<span class=linenos data-linenos="187 "></span><span class=sd>        The new key is the old key plus all the subkeys. The new value is the</span>
<span class=linenos data-linenos="188 "></span><span class=sd>        value of the subkey if the value is an instance of an array.</span>
<span class=linenos data-linenos="189 "></span>
<span class=linenos data-linenos="190 "></span><span class=sd>        For avoiding `pylint` errors, the `_key` argument is set to `None` by</span>
<span class=linenos data-linenos="191 "></span><span class=sd>        default and is set to an empty list if it is `None`. This is done to</span>
<span class=linenos data-linenos="192 "></span><span class=sd>        avoid the `pylint` error `dangerous-default-value`. The `_key` argument</span>
<span class=linenos data-linenos="193 "></span><span class=sd>        is used to keep track of the keys of the nested dictionary. Furthermore,</span>
<span class=linenos data-linenos="194 "></span><span class=sd>        the `_key` argument is used to create the new key for the new dictionary.</span>
<span class=linenos data-linenos="195 "></span>
<span class=linenos data-linenos="196 "></span><span class=sd>        Finally, the new dictionary is appended to the list of dictionaries.</span>
<span class=linenos data-linenos="197 "></span>
<span class=linenos data-linenos="198 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="199 "></span><span class=sd>            data_values (Dict[str, Any]): The data as a dictionary.</span>
<span class=linenos data-linenos="200 "></span>
<span class=linenos data-linenos="201 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="202 "></span><span class=sd>            List[Dict[str, Any]]: The data as a list of dictionaries.</span>
<span class=linenos data-linenos="203 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="204 "></span>        <span class=n>data_list</span> <span class=o>=</span> <span class=p>[]</span>
<span class=linenos data-linenos="205 "></span>        <span class=k>if</span> <span class=n>_key</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="206 "></span>            <span class=n>_key</span> <span class=o>=</span> <span class=p>[]</span>
<span class=linenos data-linenos="207 "></span>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data_values</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="208 "></span>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="209 "></span>                <span class=n>_key</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>key</span><span class=p>))</span>
<span class=linenos data-linenos="210 "></span>                <span class=n>data_list</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>_convert</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>_key</span><span class=p>))</span>
<span class=linenos data-linenos="211 "></span>                <span class=n>_key</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
<span class=linenos data-linenos="212 "></span>            <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
<span class=linenos data-linenos="213 "></span>                <span class=n>data_list</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s2>&quot;_&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>_key</span> <span class=o>+</span> <span class=p>[</span><span class=n>key</span><span class=p>]):</span> <span class=n>value</span><span class=p>})</span>
<span class=linenos data-linenos="214 "></span>        <span class=k>return</span> <span class=n>data_list</span>
<span class=linenos data-linenos="215 "></span>
<span class=linenos data-linenos="216 "></span>    <span class=n>data_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=linenos data-linenos="217 "></span>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="218 "></span>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="219 "></span>            <span class=n>data_dict</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>_convert</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="220 "></span>    <span class=k>return</span> <span class=n>data_dict</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.PklConverter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.PklConverter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="135 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="136 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="137 "></span>
<span class=linenos data-linenos="138 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="139 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="140 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="141 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="142 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="143 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to CSV files.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="144 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="145 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="146 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="147 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="148 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="149 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="150 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="151 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="152 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="153 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="154 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos="155 "></span>        <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="156 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="157 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="158 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos="159 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="160 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="161 "></span>        <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="162 "></span>        <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="163 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for export of the output file. Default is &#39;pkl&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="164 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="165 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;pkl&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="166 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="167 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="168 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_converter.PklConverter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_converter.PklConverter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the converted pickle data to a file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The converted nested dictionary of the pkl data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The filename of the output file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file format of the output file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the export format is not supported.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="222 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="223 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the converted pickle data to a file.</span>
<span class=linenos data-linenos="224 "></span>
<span class=linenos data-linenos="225 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="226 "></span><span class=sd>        data (Any): The converted nested dictionary of the pkl data.</span>
<span class=linenos data-linenos="227 "></span><span class=sd>        fname (Path): The filename of the output file.</span>
<span class=linenos data-linenos="228 "></span><span class=sd>        export_format (str): The file format of the output file.</span>
<span class=linenos data-linenos="229 "></span>
<span class=linenos data-linenos="230 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="231 "></span><span class=sd>        ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="232 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="233 "></span>    <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="234 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unsupported file format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39;.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="235 "></span>
<span class=linenos data-linenos="236 "></span>    <span class=n>fname</span> <span class=o>=</span> <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span>
<span class=linenos data-linenos="237 "></span>
<span class=linenos data-linenos="238 "></span>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="239 "></span>        <span class=n>_fname</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>fname</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="240 "></span>        <span class=n>ExportData</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>value</span><span class=p>,</span> <span class=n>fname</span><span class=o>=</span><span class=n>_fname</span><span class=p>,</span> <span class=n>export_format</span><span class=o>=</span><span class=n>export_format</span><span class=p>)()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.pkl_converter.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_converter.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the command line script.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="249 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="250 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the command line script.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="251 "></span>    <span class=n>PklConverter</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><div class="admonition info"> <p class=admonition-title>About <a href=https://docs.python.org/3/library/pickle.html>pickle file</a> and the PklVisualizer</p> <p>In addition to exploring the nested structure of the Python's <a href=https://docs.python.org/3/library/pickle.html>pickle file</a>, the <code>PklVisualizer</code> provides two methods to visualize the data:</p> <ol> <li>As graph via <a href=https://networkx.org><code>networkx</code></a> and <a href=https://matplotlib.org><code>matplotlib</code></a></li> <li>As json file with used types</li> </ol> </div> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.pkl_visualizer></a> <div class="doc doc-contents first"> <p>Visualize the pkl file as a graph.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pkl_visualizer.PklVisualizer class="doc doc-heading"> <code>PklVisualizer</code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Visualize the pkl data as a graph.</p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>choices_fformat</code></td> <td> <code>Set[str]</code> </td> <td> <div class=doc-md-description> <p>The choices for the file format.</p> </div> </td> </tr> <tr> <td><code>choices_export</code></td> <td> <code>Set[str]</code> </td> <td> <div class=doc-md-description> <p>The choices for the export format.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 20 "></span><span class=k>class</span> <span class=nc>PklVisualizer</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos=" 21 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Visualize the pkl data as a graph.</span>
<span class=linenos data-linenos=" 22 "></span>
<span class=linenos data-linenos=" 23 "></span><span class=sd>    Attributes:</span>
<span class=linenos data-linenos=" 24 "></span><span class=sd>        choices_fformat (Set[str]): The choices for the file format.</span>
<span class=linenos data-linenos=" 25 "></span><span class=sd>        choices_export (Set[str]): The choices for the export format.</span>
<span class=linenos data-linenos=" 26 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 27 "></span>
<span class=linenos data-linenos=" 28 "></span>    <span class=n>choices_fformat</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-8&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-16&quot;</span><span class=p>,</span> <span class=s2>&quot;utf-32&quot;</span><span class=p>}</span>
<span class=linenos data-linenos=" 29 "></span>    <span class=n>choices_export</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;png&quot;</span><span class=p>,</span> <span class=s2>&quot;pdf&quot;</span><span class=p>,</span> <span class=s2>&quot;jpg&quot;</span><span class=p>,</span> <span class=s2>&quot;jpeg&quot;</span><span class=p>}</span>
<span class=linenos data-linenos=" 30 "></span>
<span class=linenos data-linenos=" 31 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 32 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos=" 33 "></span>
<span class=linenos data-linenos=" 34 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 35 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos=" 36 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos=" 37 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 38 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos=" 39 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to a graph.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 40 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 41 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 42 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 43 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 44 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos=" 45 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert to graph.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 46 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 47 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 48 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 49 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 50 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos=" 51 "></span>            <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 52 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 53 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 54 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos=" 55 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 56 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 57 "></span>            <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 58 "></span>            <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 59 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File extension for the graph export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 60 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 61 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;pdf&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 62 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos=" 63 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 64 "></span>
<span class=linenos data-linenos=" 65 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos=" 66 "></span>
<span class=linenos data-linenos=" 67 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 68 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 69 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos=" 70 "></span>
<span class=linenos data-linenos=" 71 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 72 "></span><span class=sd>            infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos=" 73 "></span><span class=sd>            file_format (str): The encoding of the pickle file.</span>
<span class=linenos data-linenos=" 74 "></span>
<span class=linenos data-linenos=" 75 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos=" 76 "></span><span class=sd>            ValueError: If the data is not a dictionary.</span>
<span class=linenos data-linenos=" 77 "></span>
<span class=linenos data-linenos=" 78 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 79 "></span><span class=sd>            Dict[str, Any]: The data as a dictionary, which can be a nested dictionary.</span>
<span class=linenos data-linenos=" 80 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 81 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=n>PklVisualizer</span><span class=p>()</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=n>file_format</span><span class=p>))</span>
<span class=linenos data-linenos=" 82 "></span>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos=" 83 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data is not a dictionary: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos=" 84 "></span>        <span class=n>graph</span> <span class=o>=</span> <span class=n>PklVisualizer</span><span class=p>()</span><span class=o>.</span><span class=n>create_graph</span><span class=p>(</span><span class=n>fname</span><span class=o>=</span><span class=n>infile</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos=" 85 "></span>
<span class=linenos data-linenos=" 86 "></span>        <span class=n>pos</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>kamada_kawai_layout</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=linenos data-linenos=" 87 "></span>        <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_nodes</span><span class=p>(</span>
<span class=linenos data-linenos=" 88 "></span>            <span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>node_color</span><span class=o>=</span><span class=s2>&quot;lightblue&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.8</span>
<span class=linenos data-linenos=" 89 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 90 "></span>        <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_edges</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span> <span class=n>edge_color</span><span class=o>=</span><span class=s2>&quot;grey&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
<span class=linenos data-linenos=" 91 "></span>        <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_labels</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>font_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>font_family</span><span class=o>=</span><span class=s2>&quot;sans-serif&quot;</span><span class=p>)</span>
<span class=linenos data-linenos=" 92 "></span>        <span class=n>plt</span><span class=o>.</span><span class=n>axis</span><span class=p>(</span><span class=s2>&quot;off&quot;</span><span class=p>)</span>
<span class=linenos data-linenos=" 93 "></span>        <span class=k>return</span> <span class=n>data</span>
<span class=linenos data-linenos=" 94 "></span>
<span class=linenos data-linenos=" 95 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 96 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the graph to a file and the data and their types to a json file.</span>
<span class=linenos data-linenos=" 97 "></span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>            data (Any): The data to save, which can be a nested dictionary.</span>
<span class=linenos data-linenos="100 "></span><span class=sd>            fname (Path): The filename of the file to save.</span>
<span class=linenos data-linenos="101 "></span><span class=sd>            export_format (str): The file format to save the graph to.</span>
<span class=linenos data-linenos="102 "></span>
<span class=linenos data-linenos="103 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="104 "></span><span class=sd>            ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="105 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="106 "></span>        <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="107 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="108 "></span>
<span class=linenos data-linenos="109 "></span>        <span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span>
<span class=linenos data-linenos="110 "></span>            <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="111 "></span>            <span class=nb>format</span><span class=o>=</span><span class=n>export_format</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="113 "></span>
<span class=linenos data-linenos="114 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="115 "></span>            <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=s2>&quot;.json&quot;</span><span class=p>),</span> <span class=s2>&quot;w+&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="116 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>outfile</span><span class=p>:</span>
<span class=linenos data-linenos="117 "></span>            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>outfile</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=linenos data-linenos="118 "></span>
<span class=linenos data-linenos="119 "></span>    <span class=k>def</span> <span class=nf>get_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>]:</span>
<span class=linenos data-linenos="120 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the type of the value.</span>
<span class=linenos data-linenos="121 "></span>
<span class=linenos data-linenos="122 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="123 "></span><span class=sd>            value (Any): The value to get the type from.</span>
<span class=linenos data-linenos="124 "></span>
<span class=linenos data-linenos="125 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="126 "></span><span class=sd>            Union[Dict[str, Any], str]: The type of the value.</span>
<span class=linenos data-linenos="127 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="128 "></span>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="129 "></span>            <span class=k>return</span> <span class=p>{</span><span class=n>key</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
<span class=linenos data-linenos="130 "></span>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
<span class=linenos data-linenos="131 "></span>            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=si>}</span><span class=s2> of shape </span><span class=si>{</span><span class=n>value</span><span class=o>.</span><span class=n>shape</span><span class=si>}</span><span class=s2>&quot;</span>
<span class=linenos data-linenos="132 "></span>        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
<span class=linenos data-linenos="133 "></span>
<span class=linenos data-linenos="134 "></span>    <span class=k>def</span> <span class=nf>add_nodes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>graph</span><span class=p>:</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="135 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Add nodes to the graph.</span>
<span class=linenos data-linenos="136 "></span>
<span class=linenos data-linenos="137 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="138 "></span><span class=sd>            graph (nx.DiGraph): The graph to add nodes to.</span>
<span class=linenos data-linenos="139 "></span><span class=sd>            data_dict (Dict[str, Any]): The data dictionary to get the nodes from.</span>
<span class=linenos data-linenos="140 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="141 "></span>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data_dict</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="142 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
<span class=linenos data-linenos="143 "></span>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="144 "></span>                <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
<span class=linenos data-linenos="145 "></span>                    <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
<span class=linenos data-linenos="146 "></span>                    <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
<span class=linenos data-linenos="147 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>add_nodes</span><span class=p>(</span><span class=n>graph</span><span class=o>=</span><span class=n>graph</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="148 "></span>            <span class=k>elif</span> <span class=s2>&quot;of shape&quot;</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
<span class=linenos data-linenos="149 "></span>                <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;of shape&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="150 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="151 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="152 "></span>
<span class=linenos data-linenos="153 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="154 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>value</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="155 "></span>
<span class=linenos data-linenos="156 "></span>            <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="157 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="158 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="159 "></span>
<span class=linenos data-linenos="160 "></span>    <span class=k>def</span> <span class=nf>create_graph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>:</span>
<span class=linenos data-linenos="161 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the graph.</span>
<span class=linenos data-linenos="162 "></span>
<span class=linenos data-linenos="163 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="164 "></span><span class=sd>            fname (Path): The filename of the file to create the graph from.</span>
<span class=linenos data-linenos="165 "></span><span class=sd>            data_dict (Dict[str, Any]): The data dictionary to create the graph from.</span>
<span class=linenos data-linenos="166 "></span>
<span class=linenos data-linenos="167 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="168 "></span><span class=sd>            nx.DiGraph: The graph created from the data dictionary.</span>
<span class=linenos data-linenos="169 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="170 "></span>        <span class=n>graph</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>()</span>
<span class=linenos data-linenos="171 "></span>        <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
<span class=linenos data-linenos="172 "></span>        <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>data_dict</span><span class=p>:</span>
<span class=linenos data-linenos="173 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>name</span><span class=p>),</span> <span class=n>key</span><span class=p>)</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>add_nodes</span><span class=p>(</span><span class=n>graph</span><span class=o>=</span><span class=n>graph</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>data_dict</span><span class=p>)</span>
<span class=linenos data-linenos="176 "></span>        <span class=k>return</span> <span class=n>graph</span>
<span class=linenos data-linenos="177 "></span>
<span class=linenos data-linenos="178 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="179 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the graph and save it as a PDF file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="180 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="181 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="182 "></span>            <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="183 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="184 "></span>            <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="185 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="186 "></span>        <span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the graph and save it as a PDF file.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="178 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="179 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the graph and save it as a PDF file.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="180 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="181 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="182 "></span>        <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="183 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="184 "></span>        <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="185 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="186 "></span>    <span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.add_nodes class="doc doc-heading"> <code class="highlight language-python"><span class=n>add_nodes</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.add_nodes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Add nodes to the graph.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>graph</code></td> <td> <code><span title=networkx>nx</span>.<span title=networkx.DiGraph>DiGraph</span></code> </td> <td> <div class=doc-md-description> <p>The graph to add nodes to.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>data_dict</code></td> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The data dictionary to get the nodes from.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="134 "></span><span class=k>def</span> <span class=nf>add_nodes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>graph</span><span class=p>:</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="135 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add nodes to the graph.</span>
<span class=linenos data-linenos="136 "></span>
<span class=linenos data-linenos="137 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="138 "></span><span class=sd>        graph (nx.DiGraph): The graph to add nodes to.</span>
<span class=linenos data-linenos="139 "></span><span class=sd>        data_dict (Dict[str, Any]): The data dictionary to get the nodes from.</span>
<span class=linenos data-linenos="140 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="141 "></span>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data_dict</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<span class=linenos data-linenos="142 "></span>        <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
<span class=linenos data-linenos="143 "></span>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="144 "></span>            <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
<span class=linenos data-linenos="145 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
<span class=linenos data-linenos="146 "></span>                <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
<span class=linenos data-linenos="147 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>add_nodes</span><span class=p>(</span><span class=n>graph</span><span class=o>=</span><span class=n>graph</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="148 "></span>        <span class=k>elif</span> <span class=s2>&quot;of shape&quot;</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
<span class=linenos data-linenos="149 "></span>            <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;of shape&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="150 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="151 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="152 "></span>
<span class=linenos data-linenos="153 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="154 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>value</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="155 "></span>
<span class=linenos data-linenos="156 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="157 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="158 "></span>            <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the input file to the output file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file of the as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The encoding of the pickle file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the data is not a dictionary.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: The data as a dictionary, which can be a nested dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="67 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="68 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="69 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the input file to the output file.</span>
<span class=linenos data-linenos="70 "></span>
<span class=linenos data-linenos="71 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="72 "></span><span class=sd>        infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos="73 "></span><span class=sd>        file_format (str): The encoding of the pickle file.</span>
<span class=linenos data-linenos="74 "></span>
<span class=linenos data-linenos="75 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="76 "></span><span class=sd>        ValueError: If the data is not a dictionary.</span>
<span class=linenos data-linenos="77 "></span>
<span class=linenos data-linenos="78 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="79 "></span><span class=sd>        Dict[str, Any]: The data as a dictionary, which can be a nested dictionary.</span>
<span class=linenos data-linenos="80 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="81 "></span>    <span class=n>data</span> <span class=o>=</span> <span class=n>PklVisualizer</span><span class=p>()</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=n>file_format</span><span class=p>))</span>
<span class=linenos data-linenos="82 "></span>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="83 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data is not a dictionary: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="84 "></span>    <span class=n>graph</span> <span class=o>=</span> <span class=n>PklVisualizer</span><span class=p>()</span><span class=o>.</span><span class=n>create_graph</span><span class=p>(</span><span class=n>fname</span><span class=o>=</span><span class=n>infile</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="85 "></span>
<span class=linenos data-linenos="86 "></span>    <span class=n>pos</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>kamada_kawai_layout</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=linenos data-linenos="87 "></span>    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_nodes</span><span class=p>(</span>
<span class=linenos data-linenos="88 "></span>        <span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>node_color</span><span class=o>=</span><span class=s2>&quot;lightblue&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.8</span>
<span class=linenos data-linenos="89 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="90 "></span>    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_edges</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span> <span class=n>edge_color</span><span class=o>=</span><span class=s2>&quot;grey&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
<span class=linenos data-linenos="91 "></span>    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_labels</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>pos</span><span class=p>,</span> <span class=n>font_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>font_family</span><span class=o>=</span><span class=s2>&quot;sans-serif&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="92 "></span>    <span class=n>plt</span><span class=o>.</span><span class=n>axis</span><span class=p>(</span><span class=s2>&quot;off&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="93 "></span>    <span class=k>return</span> <span class=n>data</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.create_graph class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_graph</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.create_graph class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the graph.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The filename of the file to create the graph from.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>data_dict</code></td> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The data dictionary to create the graph from.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=networkx>nx</span>.<span title=networkx.DiGraph>DiGraph</span></code> </td> <td> <div class=doc-md-description> <p>nx.DiGraph: The graph created from the data dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="160 "></span><span class=k>def</span> <span class=nf>create_graph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>data_dict</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>:</span>
<span class=linenos data-linenos="161 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the graph.</span>
<span class=linenos data-linenos="162 "></span>
<span class=linenos data-linenos="163 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="164 "></span><span class=sd>        fname (Path): The filename of the file to create the graph from.</span>
<span class=linenos data-linenos="165 "></span><span class=sd>        data_dict (Dict[str, Any]): The data dictionary to create the graph from.</span>
<span class=linenos data-linenos="166 "></span>
<span class=linenos data-linenos="167 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="168 "></span><span class=sd>        nx.DiGraph: The graph created from the data dictionary.</span>
<span class=linenos data-linenos="169 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="170 "></span>    <span class=n>graph</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>DiGraph</span><span class=p>()</span>
<span class=linenos data-linenos="171 "></span>    <span class=n>graph</span><span class=o>.</span><span class=n>add_node</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
<span class=linenos data-linenos="172 "></span>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>data_dict</span><span class=p>:</span>
<span class=linenos data-linenos="173 "></span>        <span class=n>graph</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=o>.</span><span class=n>name</span><span class=p>),</span> <span class=n>key</span><span class=p>)</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>add_nodes</span><span class=p>(</span><span class=n>graph</span><span class=o>=</span><span class=n>graph</span><span class=p>,</span> <span class=n>data_dict</span><span class=o>=</span><span class=n>data_dict</span><span class=p>)</span>
<span class=linenos data-linenos="176 "></span>    <span class=k>return</span> <span class=n>graph</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="31 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="32 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="33 "></span>
<span class=linenos data-linenos="34 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="35 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="36 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="37 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="38 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="39 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to a graph.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="40 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="41 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="42 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="43 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="44 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="45 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert to graph.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="46 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="47 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="48 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="49 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="50 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos="51 "></span>        <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="52 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="53 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="54 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos="55 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="56 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="57 "></span>        <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="58 "></span>        <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="59 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File extension for the graph export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="60 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="61 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;pdf&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="62 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="63 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="64 "></span>
<span class=linenos data-linenos="65 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.get_type class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.get_type class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the type of the value.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>value</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The value to get the type from.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Union>Union</span>[<span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>], str]</code> </td> <td> <div class=doc-md-description> <p>Union[Dict[str, Any], str]: The type of the value.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="119 "></span><span class=k>def</span> <span class=nf>get_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>]:</span>
<span class=linenos data-linenos="120 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the type of the value.</span>
<span class=linenos data-linenos="121 "></span>
<span class=linenos data-linenos="122 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="123 "></span><span class=sd>        value (Any): The value to get the type from.</span>
<span class=linenos data-linenos="124 "></span>
<span class=linenos data-linenos="125 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="126 "></span><span class=sd>        Union[Dict[str, Any], str]: The type of the value.</span>
<span class=linenos data-linenos="127 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="128 "></span>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<span class=linenos data-linenos="129 "></span>        <span class=k>return</span> <span class=p>{</span><span class=n>key</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
<span class=linenos data-linenos="130 "></span>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
<span class=linenos data-linenos="131 "></span>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=si>}</span><span class=s2> of shape </span><span class=si>{</span><span class=n>value</span><span class=o>.</span><span class=n>shape</span><span class=si>}</span><span class=s2>&quot;</span>
<span class=linenos data-linenos="132 "></span>    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pkl_visualizer.PklVisualizer.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pkl_visualizer.PklVisualizer.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the graph to a file and the data and their types to a json file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The data to save, which can be a nested dictionary.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The filename of the file to save.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file format to save the graph to.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the export format is not supported.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 95 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 96 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the graph to a file and the data and their types to a json file.</span>
<span class=linenos data-linenos=" 97 "></span>
<span class=linenos data-linenos=" 98 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>        data (Any): The data to save, which can be a nested dictionary.</span>
<span class=linenos data-linenos="100 "></span><span class=sd>        fname (Path): The filename of the file to save.</span>
<span class=linenos data-linenos="101 "></span><span class=sd>        export_format (str): The file format to save the graph to.</span>
<span class=linenos data-linenos="102 "></span>
<span class=linenos data-linenos="103 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="104 "></span><span class=sd>        ValueError: If the export format is not supported.</span>
<span class=linenos data-linenos="105 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="106 "></span>    <span class=k>if</span> <span class=n>export_format</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="107 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="108 "></span>
<span class=linenos data-linenos="109 "></span>    <span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span>
<span class=linenos data-linenos="110 "></span>        <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="111 "></span>        <span class=nb>format</span><span class=o>=</span><span class=n>export_format</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="113 "></span>
<span class=linenos data-linenos="114 "></span>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="115 "></span>        <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=s2>&quot;.json&quot;</span><span class=p>),</span> <span class=s2>&quot;w+&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span>
<span class=linenos data-linenos="116 "></span>    <span class=p>)</span> <span class=k>as</span> <span class=n>outfile</span><span class=p>:</span>
<span class=linenos data-linenos="117 "></span>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>outfile</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.pkl_visualizer.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pkl_visualizer.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the converter from the command line.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pkl_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="189 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="190 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter from the command line.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="191 "></span>    <span class=n>PklVisualizer</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><h3 id=rixs-converter-for-rixs-data>RIXS Converter for RIXS data<a class=headerlink href=#rixs-converter-for-rixs-data title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.rixs_converter></a> <div class="doc doc-contents first"> <p>Transform the raw pkl data into a JSON, TOML, or numpy file for RIXS.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.rixs_converter.RIXSConverter class="doc doc-heading"> <code>RIXSConverter</code> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Transform the raw pkl data into a JSON, TOML, or numpy file for RIXS.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 25 "></span><span class=k>class</span> <span class=nc>RIXSConverter</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos=" 26 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Transform the raw pkl data into a JSON, TOML, or numpy file for RIXS.&quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 27 "></span>
<span class=linenos data-linenos=" 28 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 29 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos=" 30 "></span>
<span class=linenos data-linenos=" 31 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos=" 32 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos=" 33 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos=" 34 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 35 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos=" 36 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to a JSON, TOML, &quot;</span>
<span class=linenos data-linenos=" 37 "></span>            <span class=s2>&quot;or numpy file for RIXS-Visualizer.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 38 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 39 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 40 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 41 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 42 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos=" 43 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert to JSON, TOML, or numpy.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 44 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 45 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 46 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 47 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 48 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos=" 49 "></span>            <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 50 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 51 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 52 "></span>            <span class=n>choices</span><span class=o>=</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos=" 53 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 54 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 55 "></span>            <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 56 "></span>            <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 57 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File extension for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 58 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 59 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;json&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 60 "></span>            <span class=n>choices</span><span class=o>=</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos=" 61 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 62 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 63 "></span>            <span class=s2>&quot;-ie&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 64 "></span>            <span class=s2>&quot;--incident_energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 65 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the incident energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 66 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 67 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 68 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 69 "></span>            <span class=s2>&quot;-ee&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 70 "></span>            <span class=s2>&quot;--emission_energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 71 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the emitted energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 72 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 73 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 74 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 75 "></span>            <span class=s2>&quot;-rm&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 76 "></span>            <span class=s2>&quot;--rixs_map&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 77 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the RIXS map&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 78 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 79 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos=" 80 "></span>            <span class=s2>&quot;-m&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 81 "></span>            <span class=s2>&quot;--mode&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 82 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Mode of the RIXS map post-processing, e.g. &#39;sum&#39; or &#39;max&#39;.&quot;</span>
<span class=linenos data-linenos=" 83 "></span>            <span class=s2>&quot;Default is &#39;sum&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 84 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 85 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;sum&quot;</span><span class=p>,</span>
<span class=linenos data-linenos=" 86 "></span>            <span class=n>choices</span><span class=o>=</span><span class=n>choices_mode</span><span class=p>,</span>
<span class=linenos data-linenos=" 87 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 88 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos=" 89 "></span>
<span class=linenos data-linenos=" 90 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 91 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 92 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the pkl file to a dictionary.</span>
<span class=linenos data-linenos=" 93 "></span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>            infile (Path): The input file.</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>            file_format (str): The file format for the optional encoding of the pickle</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>                file.</span>
<span class=linenos data-linenos=" 98 "></span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="100 "></span><span class=sd>            MutableMapping[str, Any]: The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="101 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="102 "></span>        <span class=n>data_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=linenos data-linenos="103 "></span>        <span class=k>for</span> <span class=n>_dict</span> <span class=ow>in</span> <span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>):</span>
<span class=linenos data-linenos="104 "></span>            <span class=n>data_dict</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>_dict</span><span class=p>)</span>
<span class=linenos data-linenos="105 "></span>        <span class=k>return</span> <span class=n>data_dict</span>
<span class=linenos data-linenos="106 "></span>
<span class=linenos data-linenos="107 "></span>    <span class=k>def</span> <span class=nf>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="108 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="109 "></span>        <span class=n>data</span><span class=p>:</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
<span class=linenos data-linenos="110 "></span>        <span class=n>incident_energy</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="111 "></span>        <span class=n>emission_energy</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>        <span class=n>rixs_map</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="113 "></span>        <span class=n>mode</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="114 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>RIXSModelAPI</span><span class=p>:</span>
<span class=linenos data-linenos="115 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the RIXS map from the pkl file.</span>
<span class=linenos data-linenos="116 "></span>
<span class=linenos data-linenos="117 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="118 "></span><span class=sd>            data (MutableMapping[str, Any]): The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="119 "></span><span class=sd>            incident_energy (str): The name of the incident energy.</span>
<span class=linenos data-linenos="120 "></span><span class=sd>            emission_energy (str): The name of the emitted energy.</span>
<span class=linenos data-linenos="121 "></span><span class=sd>            rixs_map (str): The name of the RIXS map.</span>
<span class=linenos data-linenos="122 "></span><span class=sd>            mode (str): The mode of the RIXS map post-processing, e.g. &#39;sum&#39; or &#39;max&#39;.</span>
<span class=linenos data-linenos="123 "></span>
<span class=linenos data-linenos="124 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="125 "></span><span class=sd>            ValueError: If the mode is not in the choices.</span>
<span class=linenos data-linenos="126 "></span><span class=sd>            KeyError: If the incident energy, emission energy, or RIXS map is not in</span>
<span class=linenos data-linenos="127 "></span><span class=sd>                the data.</span>
<span class=linenos data-linenos="128 "></span>
<span class=linenos data-linenos="129 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="130 "></span><span class=sd>            RIXSModelAPI: The RIXS map as a RIXSModelAPI pydantic object.</span>
<span class=linenos data-linenos="131 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="132 "></span>        <span class=k>if</span> <span class=n>mode</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_mode</span><span class=p>:</span>
<span class=linenos data-linenos="133 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Mode &#39;</span><span class=si>{</span><span class=n>mode</span><span class=si>}</span><span class=s2>&#39; not in </span><span class=si>{</span><span class=n>choices_mode</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="134 "></span>        <span class=k>if</span> <span class=n>incident_energy</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="135 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="136 "></span>        <span class=k>if</span> <span class=n>emission_energy</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="137 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="138 "></span>        <span class=k>if</span> <span class=n>rixs_map</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="139 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="140 "></span>
<span class=linenos data-linenos="141 "></span>        <span class=k>if</span> <span class=n>mode</span> <span class=o>==</span> <span class=s2>&quot;sum&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="142 "></span>            <span class=n>rixs_val</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>rixs_map</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=linenos data-linenos="143 "></span>        <span class=k>elif</span> <span class=n>mode</span> <span class=o>==</span> <span class=s2>&quot;mean&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="144 "></span>            <span class=n>rixs_val</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>rixs_map</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=linenos data-linenos="145 "></span>        <span class=k>return</span> <span class=n>RIXSModelAPI</span><span class=p>(</span>
<span class=linenos data-linenos="146 "></span>            <span class=n>incident_energy</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>incident_energy</span><span class=p>],</span>
<span class=linenos data-linenos="147 "></span>            <span class=n>emission_energy</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>emission_energy</span><span class=p>],</span>
<span class=linenos data-linenos="148 "></span>            <span class=n>rixs_map</span><span class=o>=</span><span class=n>rixs_val</span><span class=p>,</span>
<span class=linenos data-linenos="149 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="150 "></span>
<span class=linenos data-linenos="151 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="152 "></span>    <span class=k>def</span> <span class=nf>raise_error</span><span class=p>(</span><span class=n>wrong_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="153 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Raise an error if the key is not in the data.</span>
<span class=linenos data-linenos="154 "></span>
<span class=linenos data-linenos="155 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="156 "></span><span class=sd>            wrong_key (str): The key which is not in the data.</span>
<span class=linenos data-linenos="157 "></span><span class=sd>            data (Any): The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="158 "></span>
<span class=linenos data-linenos="159 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="160 "></span><span class=sd>            KeyError: If the key is not in the data.</span>
<span class=linenos data-linenos="161 "></span>
<span class=linenos data-linenos="162 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="163 "></span>        <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span>
<span class=linenos data-linenos="164 "></span>            <span class=sa>f</span><span class=s2>&quot;Key &#39;</span><span class=si>{</span><span class=n>wrong_key</span><span class=si>}</span><span class=s2>&#39; not in data. Aailable keys are: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>.&quot;</span>
<span class=linenos data-linenos="165 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="166 "></span>
<span class=linenos data-linenos="167 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the data to a file.</span>
<span class=linenos data-linenos="169 "></span>
<span class=linenos data-linenos="170 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="171 "></span><span class=sd>            data (Any): The data to save.</span>
<span class=linenos data-linenos="172 "></span><span class=sd>            fname (Path): The filename.</span>
<span class=linenos data-linenos="173 "></span><span class=sd>            export_format (str): The file extension for the export.</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="176 "></span><span class=sd>            ValueError: If the export format is not in the choices.</span>
<span class=linenos data-linenos="177 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="178 "></span>        <span class=k>if</span> <span class=n>export_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="179 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="180 "></span>                <span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; not in </span><span class=si>{</span><span class=n>choices_export</span><span class=si>}</span><span class=s2>.&quot;</span>
<span class=linenos data-linenos="181 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="182 "></span>
<span class=linenos data-linenos="183 "></span>        <span class=k>if</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="184 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="185 "></span>                <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="186 "></span>                <span class=s2>&quot;w&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="187 "></span>                <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="188 "></span>            <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="189 "></span>                <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=linenos data-linenos="190 "></span>        <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;toml&quot;</span><span class=p>,</span> <span class=s2>&quot;lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="191 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="192 "></span>                <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="193 "></span>                <span class=s2>&quot;wb&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="194 "></span>            <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="195 "></span>                <span class=n>tomli_w</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>,</span> <span class=n>multiline_strings</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=linenos data-linenos="196 "></span>        <span class=k>elif</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="197 "></span>            <span class=n>np</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="198 "></span>        <span class=k>elif</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="199 "></span>            <span class=n>np</span><span class=o>.</span><span class=n>savez</span><span class=p>(</span><span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=o>**</span><span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="200 "></span>
<span class=linenos data-linenos="201 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="202 "></span>    <span class=k>def</span> <span class=nf>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="203 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert a dictionary with numpy arrays to a dictionary with lists.</span>
<span class=linenos data-linenos="204 "></span>
<span class=linenos data-linenos="205 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="206 "></span><span class=sd>            data (MutableMapping[str, Any]): The data dictionary.</span>
<span class=linenos data-linenos="207 "></span>
<span class=linenos data-linenos="208 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="209 "></span><span class=sd>            MutableMapping[str, Any]: The data dictionary with lists.</span>
<span class=linenos data-linenos="210 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="211 "></span>        <span class=k>return</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
<span class=linenos data-linenos="212 "></span>
<span class=linenos data-linenos="213 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="214 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="215 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="216 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="217 "></span>            <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="218 "></span>                <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="219 "></span>                <span class=n>incident_energy</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;incident_energy&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="220 "></span>                <span class=n>emission_energy</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;emission_energy&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="221 "></span>                <span class=n>rixs_map</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;rixs_map&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="222 "></span>                <span class=n>mode</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;mode&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="223 "></span>            <span class=p>)</span><span class=o>.</span><span class=n>dict</span><span class=p>(),</span>
<span class=linenos data-linenos="224 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="225 "></span>            <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="226 "></span>        <span class=p>)</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the converter.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="213 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="214 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the converter.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="215 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="216 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span>
<span class=linenos data-linenos="217 "></span>        <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="218 "></span>            <span class=n>data</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="219 "></span>            <span class=n>incident_energy</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;incident_energy&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="220 "></span>            <span class=n>emission_energy</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;emission_energy&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="221 "></span>            <span class=n>rixs_map</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;rixs_map&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="222 "></span>            <span class=n>mode</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;mode&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="223 "></span>        <span class=p>)</span><span class=o>.</span><span class=n>dict</span><span class=p>(),</span>
<span class=linenos data-linenos="224 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="225 "></span>        <span class=n>export_format</span><span class=o>=</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;export_format&quot;</span><span class=p>],</span>
<span class=linenos data-linenos="226 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the pkl file to a dictionary.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file format for the optional encoding of the pickle file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>MutableMapping[str, Any]: The data dictionary from the pkl file.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 90 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos=" 91 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos=" 92 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the pkl file to a dictionary.</span>
<span class=linenos data-linenos=" 93 "></span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>        infile (Path): The input file.</span>
<span class=linenos data-linenos=" 96 "></span><span class=sd>        file_format (str): The file format for the optional encoding of the pickle</span>
<span class=linenos data-linenos=" 97 "></span><span class=sd>            file.</span>
<span class=linenos data-linenos=" 98 "></span>
<span class=linenos data-linenos=" 99 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="100 "></span><span class=sd>        MutableMapping[str, Any]: The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="101 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="102 "></span>    <span class=n>data_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=linenos data-linenos="103 "></span>    <span class=k>for</span> <span class=n>_dict</span> <span class=ow>in</span> <span class=n>pkl2any</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>):</span>
<span class=linenos data-linenos="104 "></span>        <span class=n>data_dict</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>_dict</span><span class=p>)</span>
<span class=linenos data-linenos="105 "></span>    <span class=k>return</span> <span class=n>data_dict</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.create_rixs class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_rixs</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>incident_energy</span><span class=p>,</span> <span class=n>emission_energy</span><span class=p>,</span> <span class=n>rixs_map</span><span class=p>,</span> <span class=n>mode</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.create_rixs class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the RIXS map from the pkl file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The data dictionary from the pkl file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>incident_energy</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The name of the incident energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>emission_energy</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The name of the emitted energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rixs_map</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The name of the RIXS map.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>mode</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The mode of the RIXS map post-processing, e.g. 'sum' or 'max'.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the mode is not in the choices.</p> </div> </td> </tr> <tr> <td> <code>KeyError</code> </td> <td> <div class=doc-md-description> <p>If the incident energy, emission energy, or RIXS map is not in the data.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>RIXSModelAPI</code></td> <td> <code><span title=spectrafit.api.rixs_model.RIXSModelAPI>RIXSModelAPI</span></code> </td> <td> <div class=doc-md-description> <p>The RIXS map as a RIXSModelAPI pydantic object.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="107 "></span><span class=k>def</span> <span class=nf>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="108 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="109 "></span>    <span class=n>data</span><span class=p>:</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
<span class=linenos data-linenos="110 "></span>    <span class=n>incident_energy</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="111 "></span>    <span class=n>emission_energy</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="112 "></span>    <span class=n>rixs_map</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="113 "></span>    <span class=n>mode</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="114 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>RIXSModelAPI</span><span class=p>:</span>
<span class=linenos data-linenos="115 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the RIXS map from the pkl file.</span>
<span class=linenos data-linenos="116 "></span>
<span class=linenos data-linenos="117 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="118 "></span><span class=sd>        data (MutableMapping[str, Any]): The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="119 "></span><span class=sd>        incident_energy (str): The name of the incident energy.</span>
<span class=linenos data-linenos="120 "></span><span class=sd>        emission_energy (str): The name of the emitted energy.</span>
<span class=linenos data-linenos="121 "></span><span class=sd>        rixs_map (str): The name of the RIXS map.</span>
<span class=linenos data-linenos="122 "></span><span class=sd>        mode (str): The mode of the RIXS map post-processing, e.g. &#39;sum&#39; or &#39;max&#39;.</span>
<span class=linenos data-linenos="123 "></span>
<span class=linenos data-linenos="124 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="125 "></span><span class=sd>        ValueError: If the mode is not in the choices.</span>
<span class=linenos data-linenos="126 "></span><span class=sd>        KeyError: If the incident energy, emission energy, or RIXS map is not in</span>
<span class=linenos data-linenos="127 "></span><span class=sd>            the data.</span>
<span class=linenos data-linenos="128 "></span>
<span class=linenos data-linenos="129 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="130 "></span><span class=sd>        RIXSModelAPI: The RIXS map as a RIXSModelAPI pydantic object.</span>
<span class=linenos data-linenos="131 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="132 "></span>    <span class=k>if</span> <span class=n>mode</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_mode</span><span class=p>:</span>
<span class=linenos data-linenos="133 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Mode &#39;</span><span class=si>{</span><span class=n>mode</span><span class=si>}</span><span class=s2>&#39; not in </span><span class=si>{</span><span class=n>choices_mode</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="134 "></span>    <span class=k>if</span> <span class=n>incident_energy</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="135 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="136 "></span>    <span class=k>if</span> <span class=n>emission_energy</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="137 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="138 "></span>    <span class=k>if</span> <span class=n>rixs_map</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
<span class=linenos data-linenos="139 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>raise_error</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="140 "></span>
<span class=linenos data-linenos="141 "></span>    <span class=k>if</span> <span class=n>mode</span> <span class=o>==</span> <span class=s2>&quot;sum&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="142 "></span>        <span class=n>rixs_val</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>rixs_map</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=linenos data-linenos="143 "></span>    <span class=k>elif</span> <span class=n>mode</span> <span class=o>==</span> <span class=s2>&quot;mean&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="144 "></span>        <span class=n>rixs_val</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>rixs_map</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=linenos data-linenos="145 "></span>    <span class=k>return</span> <span class=n>RIXSModelAPI</span><span class=p>(</span>
<span class=linenos data-linenos="146 "></span>        <span class=n>incident_energy</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>incident_energy</span><span class=p>],</span>
<span class=linenos data-linenos="147 "></span>        <span class=n>emission_energy</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>emission_energy</span><span class=p>],</span>
<span class=linenos data-linenos="148 "></span>        <span class=n>rixs_map</span><span class=o>=</span><span class=n>rixs_val</span><span class=p>,</span>
<span class=linenos data-linenos="149 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="28 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="29 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="30 "></span>
<span class=linenos data-linenos="31 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="32 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="33 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="34 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="35 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="36 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from pkl files to a JSON, TOML, &quot;</span>
<span class=linenos data-linenos="37 "></span>        <span class=s2>&quot;or numpy file for RIXS-Visualizer.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="38 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="39 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="40 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="41 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="42 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="43 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the pkl file to convert to JSON, TOML, or numpy.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="44 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="45 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="46 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="47 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="48 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format for the optional encoding of the pickle file.&quot;</span>
<span class=linenos data-linenos="49 "></span>        <span class=s2>&quot; Default is &#39;latin1&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="50 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="51 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;latin1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="52 "></span>        <span class=n>choices</span><span class=o>=</span><span class=n>choices_fformat</span><span class=p>,</span>
<span class=linenos data-linenos="53 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="54 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="55 "></span>        <span class=s2>&quot;-e&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="56 "></span>        <span class=s2>&quot;--export-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="57 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File extension for the export.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="58 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="59 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;json&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="60 "></span>        <span class=n>choices</span><span class=o>=</span><span class=n>choices_export</span><span class=p>,</span>
<span class=linenos data-linenos="61 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="62 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="63 "></span>        <span class=s2>&quot;-ie&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="64 "></span>        <span class=s2>&quot;--incident_energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="65 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the incident energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="66 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="67 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="68 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="69 "></span>        <span class=s2>&quot;-ee&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="70 "></span>        <span class=s2>&quot;--emission_energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="71 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the emitted energy&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="72 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="73 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="74 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="75 "></span>        <span class=s2>&quot;-rm&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="76 "></span>        <span class=s2>&quot;--rixs_map&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="77 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Name of the RIXS map&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="78 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="79 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="80 "></span>        <span class=s2>&quot;-m&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="81 "></span>        <span class=s2>&quot;--mode&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="82 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Mode of the RIXS map post-processing, e.g. &#39;sum&#39; or &#39;max&#39;.&quot;</span>
<span class=linenos data-linenos="83 "></span>        <span class=s2>&quot;Default is &#39;sum&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="84 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="85 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;sum&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="86 "></span>        <span class=n>choices</span><span class=o>=</span><span class=n>choices_mode</span><span class=p>,</span>
<span class=linenos data-linenos="87 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="88 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.numpydict2listdict class="doc doc-heading"> <code class="highlight language-python"><span class=n>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.numpydict2listdict class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert a dictionary with numpy arrays to a dictionary with lists.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The data dictionary.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>MutableMapping[str, Any]: The data dictionary with lists.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="201 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="202 "></span><span class=k>def</span> <span class=nf>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="203 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert a dictionary with numpy arrays to a dictionary with lists.</span>
<span class=linenos data-linenos="204 "></span>
<span class=linenos data-linenos="205 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="206 "></span><span class=sd>        data (MutableMapping[str, Any]): The data dictionary.</span>
<span class=linenos data-linenos="207 "></span>
<span class=linenos data-linenos="208 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="209 "></span><span class=sd>        MutableMapping[str, Any]: The data dictionary with lists.</span>
<span class=linenos data-linenos="210 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="211 "></span>    <span class=k>return</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.raise_error class="doc doc-heading"> <code class="highlight language-python"><span class=n>raise_error</span><span class=p>(</span><span class=n>wrong_key</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.raise_error class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Raise an error if the key is not in the data.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>wrong_key</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The key which is not in the data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The data dictionary from the pkl file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>KeyError</code> </td> <td> <div class=doc-md-description> <p>If the key is not in the data.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="151 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="152 "></span><span class=k>def</span> <span class=nf>raise_error</span><span class=p>(</span><span class=n>wrong_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="153 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Raise an error if the key is not in the data.</span>
<span class=linenos data-linenos="154 "></span>
<span class=linenos data-linenos="155 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="156 "></span><span class=sd>        wrong_key (str): The key which is not in the data.</span>
<span class=linenos data-linenos="157 "></span><span class=sd>        data (Any): The data dictionary from the pkl file.</span>
<span class=linenos data-linenos="158 "></span>
<span class=linenos data-linenos="159 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="160 "></span><span class=sd>        KeyError: If the key is not in the data.</span>
<span class=linenos data-linenos="161 "></span>
<span class=linenos data-linenos="162 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="163 "></span>    <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span>
<span class=linenos data-linenos="164 "></span>        <span class=sa>f</span><span class=s2>&quot;Key &#39;</span><span class=si>{</span><span class=n>wrong_key</span><span class=si>}</span><span class=s2>&#39; not in data. Aailable keys are: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>.&quot;</span>
<span class=linenos data-linenos="165 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_converter.RIXSConverter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_converter.RIXSConverter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the data to a file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The data to save.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The filename.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>export_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The file extension for the export.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the export format is not in the choices.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="167 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the data to a file.</span>
<span class=linenos data-linenos="169 "></span>
<span class=linenos data-linenos="170 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="171 "></span><span class=sd>        data (Any): The data to save.</span>
<span class=linenos data-linenos="172 "></span><span class=sd>        fname (Path): The filename.</span>
<span class=linenos data-linenos="173 "></span><span class=sd>        export_format (str): The file extension for the export.</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="176 "></span><span class=sd>        ValueError: If the export format is not in the choices.</span>
<span class=linenos data-linenos="177 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="178 "></span>    <span class=k>if</span> <span class=n>export_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>choices_export</span><span class=p>:</span>
<span class=linenos data-linenos="179 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="180 "></span>            <span class=sa>f</span><span class=s2>&quot;Export format &#39;</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&#39; not in </span><span class=si>{</span><span class=n>choices_export</span><span class=si>}</span><span class=s2>.&quot;</span>
<span class=linenos data-linenos="181 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="182 "></span>
<span class=linenos data-linenos="183 "></span>    <span class=k>if</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="184 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="185 "></span>            <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="186 "></span>            <span class=s2>&quot;w&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="187 "></span>            <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="188 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="189 "></span>            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<span class=linenos data-linenos="190 "></span>    <span class=k>elif</span> <span class=n>export_format</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;toml&quot;</span><span class=p>,</span> <span class=s2>&quot;lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="191 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span>
<span class=linenos data-linenos="192 "></span>            <span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="193 "></span>            <span class=s2>&quot;wb&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="194 "></span>        <span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="195 "></span>            <span class=n>tomli_w</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>numpydict2listdict</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>f</span><span class=p>,</span> <span class=n>multiline_strings</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=linenos data-linenos="196 "></span>    <span class=k>elif</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="197 "></span>        <span class=n>np</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=n>data</span><span class=p>)</span>
<span class=linenos data-linenos="198 "></span>    <span class=k>elif</span> <span class=n>export_format</span> <span class=o>==</span> <span class=s2>&quot;npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="199 "></span>        <span class=n>np</span><span class=o>.</span><span class=n>savez</span><span class=p>(</span><span class=n>pure_fname</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>export_format</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span> <span class=o>**</span><span class=n>data</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.rixs_converter.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_converter.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the command line script.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="229 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="230 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the command line script.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="231 "></span>    <span class=n>RIXSConverter</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><p>On top of the <code>RIXSConverter</code> class, the <code>RIXSVisualizer</code> class is available to visualize the RIXS data and provide a method to take RIXS cuts.</p> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.rixs_visualizer></a> <div class="doc doc-contents first"> <p>This module contains the RIXS visualizer class.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.rixs_visualizer.RIXSApp class="doc doc-heading"> <code>RIXSApp</code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.rixs_visualizer.RIXSFigure href=#spectrafit.plugins.rixs_visualizer.RIXSFigure>RIXSFigure</a></code></p> <p>Create the RIXS app.</p> <div class="admonition info"> <p class=admonition-title>About the RIXS app</p> <p>The RIXS app is a web application that allows you to visualize the RIXS data. The app is based on the Dash framework. The app is composed of three figures: the RIXS figure, the XES figure and the XAS figure.</p> <p>The RIXS figure is a 3D surface plot. The XES figure is a line plot showing the XES spectrum. The XAS figure is a line plot showing the XAS spectrum.</p> <p>The RIXS figure is interactive. You can zoom in and out, rotate the figure, and change the color scale. The XES and XAS figures are not interactive.</p> </div> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="233 "></span><span class=k>class</span> <span class=nc>RIXSApp</span><span class=p>(</span><span class=n>RIXSFigure</span><span class=p>):</span>  <span class=c1># pragma: no cover</span>
<span class=linenos data-linenos="234 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the RIXS app.</span>
<span class=linenos data-linenos="235 "></span>
<span class=linenos data-linenos="236 "></span><span class=sd>    !!! info &quot;About the RIXS app&quot;</span>
<span class=linenos data-linenos="237 "></span>
<span class=linenos data-linenos="238 "></span><span class=sd>        The RIXS app is a web application that allows you to visualize the RIXS</span>
<span class=linenos data-linenos="239 "></span><span class=sd>        data. The app is based on the Dash framework. The app is composed of</span>
<span class=linenos data-linenos="240 "></span><span class=sd>        three figures: the RIXS figure, the XES figure and the XAS figure.</span>
<span class=linenos data-linenos="241 "></span>
<span class=linenos data-linenos="242 "></span><span class=sd>        The RIXS figure is a 3D surface plot. The XES figure is a line plot</span>
<span class=linenos data-linenos="243 "></span><span class=sd>        showing the XES spectrum. The XAS figure is a line plot showing the XAS</span>
<span class=linenos data-linenos="244 "></span><span class=sd>        spectrum.</span>
<span class=linenos data-linenos="245 "></span>
<span class=linenos data-linenos="246 "></span><span class=sd>        The RIXS figure is interactive. You can zoom in and out, rotate the</span>
<span class=linenos data-linenos="247 "></span><span class=sd>        figure, and change the color scale. The XES and XAS figures are not</span>
<span class=linenos data-linenos="248 "></span><span class=sd>        interactive.</span>
<span class=linenos data-linenos="249 "></span>
<span class=linenos data-linenos="250 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="251 "></span>
<span class=linenos data-linenos="252 "></span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="253 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="254 "></span>        <span class=n>incident_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="255 "></span>        <span class=n>emission_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="256 "></span>        <span class=n>rixs_map</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="257 "></span>        <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span> <span class=o>=</span> <span class=n>SizeRatioAPI</span><span class=p>(</span>
<span class=linenos data-linenos="258 "></span>            <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>
<span class=linenos data-linenos="259 "></span>            <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
<span class=linenos data-linenos="260 "></span>            <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="261 "></span>            <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="262 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="263 "></span>        <span class=n>main_title</span><span class=p>:</span> <span class=n>MainTitleAPI</span> <span class=o>=</span> <span class=n>MainTitleAPI</span><span class=p>(</span><span class=n>rixs</span><span class=o>=</span><span class=s2>&quot;RIXS&quot;</span><span class=p>,</span> <span class=n>xes</span><span class=o>=</span><span class=s2>&quot;XES&quot;</span><span class=p>,</span> <span class=n>xas</span><span class=o>=</span><span class=s2>&quot;XAS&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="264 "></span>        <span class=n>fdir</span><span class=p>:</span> <span class=n>Path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;./&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="265 "></span>        <span class=n>mode</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;server&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="266 "></span>        <span class=n>jupyter_dash</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="267 "></span>        <span class=n>port</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>8050</span><span class=p>,</span>
<span class=linenos data-linenos="268 "></span>        <span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="269 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="270 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the RIXS app.</span>
<span class=linenos data-linenos="271 "></span>
<span class=linenos data-linenos="272 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="273 "></span><span class=sd>            incident_energy (NDArray[np.float64]): Incident energy.</span>
<span class=linenos data-linenos="274 "></span><span class=sd>            emission_energy (NDArray[np.float64]): Emission energy.</span>
<span class=linenos data-linenos="275 "></span><span class=sd>            rixs_map (NDArray[np.float64]): RIXS data as a 2D array.</span>
<span class=linenos data-linenos="276 "></span><span class=sd>            size (SizeRatioAPI, optional): Size of the figures. Defaults to</span>
<span class=linenos data-linenos="277 "></span><span class=sd>                 SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2), ratio_xas=(3, 1),</span>
<span class=linenos data-linenos="278 "></span><span class=sd>                 ratio_xes=(3, 1)).</span>
<span class=linenos data-linenos="279 "></span><span class=sd>            main_title (MainTitleAPI, optional): Main title of the figures.</span>
<span class=linenos data-linenos="280 "></span><span class=sd>                 Defaults to MainTitleAPI(rixs=&quot;RIXS&quot;, xes=&quot;XES&quot;, xas=&quot;XAS&quot;).</span>
<span class=linenos data-linenos="281 "></span><span class=sd>            fdir (Path, optional): Directory to save the figures. Defaults to</span>
<span class=linenos data-linenos="282 "></span><span class=sd>                 Path(&quot;./&quot;).</span>
<span class=linenos data-linenos="283 "></span><span class=sd>            mode (str, optional): Mode of the app. Defaults to &quot;server&quot;.</span>
<span class=linenos data-linenos="284 "></span><span class=sd>            port (int, optional): Port of the app. Defaults to 8050.</span>
<span class=linenos data-linenos="285 "></span><span class=sd>            jupyter_dash (bool, optional): Jupyter Dash mode. Defaults to False.</span>
<span class=linenos data-linenos="286 "></span><span class=sd>            debug (bool, optional): Debug mode. Defaults to False.</span>
<span class=linenos data-linenos="287 "></span>
<span class=linenos data-linenos="288 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="289 "></span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="290 "></span>            <span class=n>incident_energy</span><span class=o>=</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="291 "></span>            <span class=n>emission_energy</span><span class=o>=</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="292 "></span>            <span class=n>rixs_map</span><span class=o>=</span><span class=n>rixs_map</span><span class=p>,</span>
<span class=linenos data-linenos="293 "></span>            <span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>,</span>
<span class=linenos data-linenos="294 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="295 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>=</span> <span class=n>fdir</span>
<span class=linenos data-linenos="296 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>main_title</span> <span class=o>=</span> <span class=n>main_title</span>
<span class=linenos data-linenos="297 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>mode</span> <span class=o>=</span> <span class=n>mode</span>
<span class=linenos data-linenos="298 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span> <span class=o>=</span> <span class=n>jupyter_dash</span>
<span class=linenos data-linenos="299 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
<span class=linenos data-linenos="300 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>debug</span> <span class=o>=</span> <span class=n>debug</span>
<span class=linenos data-linenos="301 "></span>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
<span class=linenos data-linenos="302 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>logging_flask</span><span class=p>()</span>
<span class=linenos data-linenos="303 "></span>
<span class=linenos data-linenos="304 "></span>    <span class=k>def</span> <span class=nf>logging_flask</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="305 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Set the logging level of the Flask server to ERROR.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="306 "></span>        <span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;werkzeug&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="307 "></span>        <span class=n>log</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>ERROR</span><span class=p>)</span>
<span class=linenos data-linenos="308 "></span>
<span class=linenos data-linenos="309 "></span>    <span class=k>def</span> <span class=nf>colorscale</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>:</span>
<span class=linenos data-linenos="310 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the color scale dropdown.</span>
<span class=linenos data-linenos="311 "></span>
<span class=linenos data-linenos="312 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="313 "></span><span class=sd>            html.Div: Color scale dropdown.</span>
<span class=linenos data-linenos="314 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="315 "></span>        <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="316 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="317 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=s2>&quot;Color Scale&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="318 "></span>                <span class=n>dcc</span><span class=o>.</span><span class=n>Dropdown</span><span class=p>(</span>
<span class=linenos data-linenos="319 "></span>                    <span class=nb>id</span><span class=o>=</span><span class=s2>&quot;colorscale&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="320 "></span>                    <span class=n>options</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="321 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="322 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Plasma&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Plasma&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="323 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Inferno&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Inferno&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="324 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Magma&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Magma&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="325 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="326 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Greys&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Greys&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="327 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Greens&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Greens&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="328 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;YlOrRd&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;YlOrRd&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="329 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Bluered&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Bluered&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="330 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;RdBu&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;RdBu&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="331 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Reds&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Reds&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="332 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Blues&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Blues&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="333 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Picnic&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Picnic&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="334 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Rainbow&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Rainbow&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="335 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Portland&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Portland&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="336 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Jet&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Jet&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="337 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Hot&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Hot&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="338 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Blackbody&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Blackbody&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="339 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Earth&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Earth&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="340 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Electric&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Electric&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="341 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="342 "></span>                        <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="343 "></span>                    <span class=p>],</span>
<span class=linenos data-linenos="344 "></span>                    <span class=n>value</span><span class=o>=</span><span class=s2>&quot;Viridis&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="345 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="346 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="347 "></span>            <span class=n>className</span><span class=o>=</span><span class=s2>&quot;dbc&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="348 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="349 "></span>
<span class=linenos data-linenos="350 "></span>    <span class=k>def</span> <span class=nf>opacity</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>:</span>
<span class=linenos data-linenos="351 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the opacity slider.</span>
<span class=linenos data-linenos="352 "></span>
<span class=linenos data-linenos="353 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="354 "></span><span class=sd>            html.Div: Opacity slider.</span>
<span class=linenos data-linenos="355 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="356 "></span>        <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="357 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="358 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=s2>&quot;Opacity&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="359 "></span>                <span class=n>dcc</span><span class=o>.</span><span class=n>Slider</span><span class=p>(</span>
<span class=linenos data-linenos="360 "></span>                    <span class=nb>id</span><span class=o>=</span><span class=s2>&quot;opacity&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="361 "></span>                    <span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
<span class=linenos data-linenos="362 "></span>                    <span class=nb>max</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="363 "></span>                    <span class=n>step</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>
<span class=linenos data-linenos="364 "></span>                    <span class=n>value</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="365 "></span>                    <span class=n>marks</span><span class=o>=</span><span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>)},</span>
<span class=linenos data-linenos="366 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="367 "></span>            <span class=p>]</span>
<span class=linenos data-linenos="368 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="369 "></span>
<span class=linenos data-linenos="370 "></span>    <span class=k>def</span> <span class=nf>header</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="371 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the header.</span>
<span class=linenos data-linenos="372 "></span>
<span class=linenos data-linenos="373 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="374 "></span><span class=sd>            dbc.Card: Header as a bootstrap card.</span>
<span class=linenos data-linenos="375 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="376 "></span>        <span class=k>return</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="377 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="378 "></span>                <span class=p>[</span>
<span class=linenos data-linenos="379 "></span>                    <span class=n>html</span><span class=o>.</span><span class=n>H4</span><span class=p>(</span>
<span class=linenos data-linenos="380 "></span>                        <span class=s2>&quot;RIXS Visualizer App&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="381 "></span>                        <span class=n>className</span><span class=o>=</span><span class=s2>&quot;bg-primary text-white p-2 mb-2 text-center&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="382 "></span>                    <span class=p>)</span>
<span class=linenos data-linenos="383 "></span>                <span class=p>]</span>
<span class=linenos data-linenos="384 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="385 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="386 "></span>
<span class=linenos data-linenos="387 "></span>    <span class=k>def</span> <span class=nf>pre_body</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>,</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>,</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>]:</span>
<span class=linenos data-linenos="388 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the body.</span>
<span class=linenos data-linenos="389 "></span>
<span class=linenos data-linenos="390 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="391 "></span><span class=sd>            Tuple[html.Div, html.Div, html.Div]: Body as a tuple of three plot parts.</span>
<span class=linenos data-linenos="392 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="393 "></span>        <span class=n>rixs</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="394 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="395 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>rixs</span><span class=p>),</span>
<span class=linenos data-linenos="396 "></span>                <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="397 "></span>            <span class=p>]</span>
<span class=linenos data-linenos="398 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="399 "></span>        <span class=n>xes</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="400 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="401 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>xes</span><span class=p>),</span>
<span class=linenos data-linenos="402 "></span>                <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;xes-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="403 "></span>            <span class=p>]</span>
<span class=linenos data-linenos="404 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="405 "></span>        <span class=n>xas</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="406 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="407 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>xas</span><span class=p>),</span>
<span class=linenos data-linenos="408 "></span>                <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;xas-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="409 "></span>            <span class=p>]</span>
<span class=linenos data-linenos="410 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="411 "></span>        <span class=k>return</span> <span class=n>rixs</span><span class=p>,</span> <span class=n>xes</span><span class=p>,</span> <span class=n>xas</span>
<span class=linenos data-linenos="412 "></span>
<span class=linenos data-linenos="413 "></span>    <span class=k>def</span> <span class=nf>body</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="414 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the body.</span>
<span class=linenos data-linenos="415 "></span>
<span class=linenos data-linenos="416 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="417 "></span><span class=sd>            dbc.Card: Body as a bootstrap card.</span>
<span class=linenos data-linenos="418 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="419 "></span>        <span class=n>colorscale</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>colorscale</span><span class=p>()</span>
<span class=linenos data-linenos="420 "></span>        <span class=n>opacity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>opacity</span><span class=p>()</span>
<span class=linenos data-linenos="421 "></span>        <span class=n>rixs</span><span class=p>,</span> <span class=n>xes</span><span class=p>,</span> <span class=n>xas</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_body</span><span class=p>()</span>
<span class=linenos data-linenos="422 "></span>
<span class=linenos data-linenos="423 "></span>        <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="424 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="425 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="426 "></span>                    <span class=p>[</span>
<span class=linenos data-linenos="427 "></span>                        <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>([</span><span class=n>ThemeChangerAIO</span><span class=p>(</span><span class=n>aio_id</span><span class=o>=</span><span class=s2>&quot;theme&quot;</span><span class=p>)]),</span>
<span class=linenos data-linenos="428 "></span>                        <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="429 "></span>                            <span class=p>[</span>
<span class=linenos data-linenos="430 "></span>                                <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span>
<span class=linenos data-linenos="431 "></span>                                    <span class=n>html</span><span class=o>.</span><span class=n>H1</span><span class=p>(</span><span class=s2>&quot;RIXS Viewer&quot;</span><span class=p>,</span> <span class=n>className</span><span class=o>=</span><span class=s2>&quot;text-center&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="432 "></span>                                <span class=p>),</span>
<span class=linenos data-linenos="433 "></span>                            <span class=p>],</span>
<span class=linenos data-linenos="434 "></span>                            <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="435 "></span>                        <span class=p>),</span>
<span class=linenos data-linenos="436 "></span>                        <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="437 "></span>                        <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="438 "></span>                            <span class=p>[</span>
<span class=linenos data-linenos="439 "></span>                                <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>colorscale</span><span class=p>),</span>
<span class=linenos data-linenos="440 "></span>                                <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>opacity</span><span class=p>),</span>
<span class=linenos data-linenos="441 "></span>                            <span class=p>],</span>
<span class=linenos data-linenos="442 "></span>                        <span class=p>),</span>
<span class=linenos data-linenos="443 "></span>                        <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="444 "></span>                        <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="445 "></span>                            <span class=p>[</span>
<span class=linenos data-linenos="446 "></span>                                <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>rixs</span><span class=p>),</span>
<span class=linenos data-linenos="447 "></span>                                <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>([</span><span class=n>xes</span><span class=p>,</span> <span class=n>xas</span><span class=p>]),</span>
<span class=linenos data-linenos="448 "></span>                            <span class=p>],</span>
<span class=linenos data-linenos="449 "></span>                            <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="450 "></span>                        <span class=p>),</span>
<span class=linenos data-linenos="451 "></span>                        <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="452 "></span>                    <span class=p>],</span>
<span class=linenos data-linenos="453 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="454 "></span>                <span class=n>class_name</span><span class=o>=</span><span class=s2>&quot;mt-4&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="455 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="456 "></span>        <span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
<span class=linenos data-linenos="457 "></span>
<span class=linenos data-linenos="458 "></span>    <span class=k>def</span> <span class=nf>footer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="459 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the footer.</span>
<span class=linenos data-linenos="460 "></span>
<span class=linenos data-linenos="461 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="462 "></span><span class=sd>            dbc.Card: Footer as a bootstrap card.</span>
<span class=linenos data-linenos="463 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="464 "></span>        <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="465 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="466 "></span>                <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="467 "></span>                    <span class=p>[</span>
<span class=linenos data-linenos="468 "></span>                        <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="469 "></span>                            <span class=p>[</span>
<span class=linenos data-linenos="470 "></span>                                <span class=n>dcc</span><span class=o>.</span><span class=n>Markdown</span><span class=p>(</span>
<span class=linenos data-linenos="471 "></span><span class=w>                                    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=linenos data-linenos="472 "></span><span class=sd>                    ### RIXS Viewer</span>
<span class=linenos data-linenos="473 "></span><span class=sd>                    This is a simple RIXS viewer. It is based on the</span>
<span class=linenos data-linenos="474 "></span><span class=sd>                    [Dash](https://dash.plotly.com/)</span>
<span class=linenos data-linenos="475 "></span><span class=sd>                    framework and uses the [Plotly](https://plotly.com/python/) library</span>
<span class=linenos data-linenos="476 "></span><span class=sd>                    for plotting. The code is available on</span>
<span class=linenos data-linenos="477 "></span><span class=sd>                    [GitHub](https://github.com/anselmoo/spectrafit).</span>
<span class=linenos data-linenos="478 "></span><span class=sd>                    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="479 "></span>                                <span class=p>),</span>
<span class=linenos data-linenos="480 "></span>                            <span class=p>],</span>
<span class=linenos data-linenos="481 "></span>                            <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="482 "></span>                        <span class=p>)</span>
<span class=linenos data-linenos="483 "></span>                    <span class=p>]</span>
<span class=linenos data-linenos="484 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="485 "></span>                <span class=n>class_name</span><span class=o>=</span><span class=s2>&quot;mt-4&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="486 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="487 "></span>        <span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
<span class=linenos data-linenos="488 "></span>
<span class=linenos data-linenos="489 "></span>    <span class=k>def</span> <span class=nf>app_run</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="490 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the app.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="491 "></span>        <span class=n>dbc_css</span> <span class=o>=</span> <span class=p>(</span>
<span class=linenos data-linenos="492 "></span>            <span class=s2>&quot;https://cdn.jsdelivr.net/gh/AnnMarieW/dash-bootstrap-templates/dbc.min.css&quot;</span>
<span class=linenos data-linenos="493 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="494 "></span>        <span class=n>external_stylesheets</span> <span class=o>=</span> <span class=p>[</span><span class=n>dbc</span><span class=o>.</span><span class=n>themes</span><span class=o>.</span><span class=n>COSMO</span><span class=p>,</span> <span class=n>dbc_css</span><span class=p>]</span>
<span class=linenos data-linenos="495 "></span>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span><span class=p>:</span>
<span class=linenos data-linenos="496 "></span>            <span class=n>app</span> <span class=o>=</span> <span class=n>JupyterDash</span><span class=p>(</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>external_stylesheets</span><span class=o>=</span><span class=n>external_stylesheets</span><span class=p>)</span>
<span class=linenos data-linenos="497 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="498 "></span>            <span class=n>app</span> <span class=o>=</span> <span class=n>dash</span><span class=o>.</span><span class=n>Dash</span><span class=p>(</span>
<span class=linenos data-linenos="499 "></span>                <span class=vm>__name__</span><span class=p>,</span>
<span class=linenos data-linenos="500 "></span>                <span class=n>external_stylesheets</span><span class=o>=</span><span class=n>external_stylesheets</span><span class=p>,</span>
<span class=linenos data-linenos="501 "></span>                <span class=n>meta_tags</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="502 "></span>                    <span class=p>{</span>
<span class=linenos data-linenos="503 "></span>                        <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;viewport&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="504 "></span>                        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;width=device-width, initial-scale=1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="505 "></span>                    <span class=p>}</span>
<span class=linenos data-linenos="506 "></span>                <span class=p>],</span>
<span class=linenos data-linenos="507 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="508 "></span>        <span class=n>app</span><span class=o>.</span><span class=n>layout</span> <span class=o>=</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Container</span><span class=p>(</span>
<span class=linenos data-linenos="509 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="510 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>header</span><span class=p>(),</span>
<span class=linenos data-linenos="511 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>body</span><span class=p>(),</span>
<span class=linenos data-linenos="512 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>footer</span><span class=p>(),</span>
<span class=linenos data-linenos="513 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="514 "></span>            <span class=n>fluid</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="515 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="516 "></span>
<span class=linenos data-linenos="517 "></span>        <span class=nd>@app</span><span class=o>.</span><span class=n>callback</span><span class=p>(</span>
<span class=linenos data-linenos="518 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="519 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;xes-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="520 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;xas-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="521 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="522 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="523 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="524 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;hoverData&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="525 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;clickData&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="526 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;colorscale&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="527 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;opacity&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="528 "></span>                <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>ThemeChangerAIO</span><span class=o>.</span><span class=n>ids</span><span class=o>.</span><span class=n>radio</span><span class=p>(</span><span class=s2>&quot;theme&quot;</span><span class=p>),</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="529 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="530 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="531 "></span>        <span class=k>def</span> <span class=nf>update_hover_data</span><span class=p>(</span>
<span class=linenos data-linenos="532 "></span>            <span class=n>hoverData</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]],</span>
<span class=linenos data-linenos="533 "></span>            <span class=n>clickData</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]],</span>
<span class=linenos data-linenos="534 "></span>            <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="535 "></span>            <span class=n>opacity</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
<span class=linenos data-linenos="536 "></span>            <span class=n>theme</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="537 "></span>        <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>,</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>,</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>]:</span>
<span class=linenos data-linenos="538 "></span>            <span class=k>if</span> <span class=n>hoverData</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="539 "></span>                <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="540 "></span>                    <span class=bp>self</span><span class=o>.</span><span class=n>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="541 "></span>                        <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="542 "></span>                        <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=o>.</span><span class=n>size</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)],</span>
<span class=linenos data-linenos="543 "></span>                        <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="544 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="545 "></span>                    <span class=bp>self</span><span class=o>.</span><span class=n>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="546 "></span>                        <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="547 "></span>                        <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=o>.</span><span class=n>size</span> <span class=o>/</span> <span class=mi>2</span><span class=p>),</span> <span class=p>:],</span>
<span class=linenos data-linenos="548 "></span>                        <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="549 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="550 "></span>                    <span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="551 "></span>                        <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="552 "></span>                        <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="553 "></span>                        <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="554 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="555 "></span>                <span class=p>)</span>
<span class=linenos data-linenos="556 "></span>            <span class=n>x</span> <span class=o>=</span> <span class=n>hoverData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;x&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="557 "></span>            <span class=n>y</span> <span class=o>=</span> <span class=n>hoverData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;y&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="558 "></span>            <span class=n>xes_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="559 "></span>                <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="560 "></span>                <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)],</span>
<span class=linenos data-linenos="561 "></span>                <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="562 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="563 "></span>            <span class=n>xas_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="564 "></span>                <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="565 "></span>                <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>y</span><span class=p>),</span> <span class=p>:],</span>
<span class=linenos data-linenos="566 "></span>                <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="567 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="568 "></span>            <span class=n>rixs_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="569 "></span>                <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="570 "></span>                <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="571 "></span>                <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="572 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="573 "></span>            <span class=k>if</span> <span class=n>clickData</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="574 "></span>                <span class=k>return</span> <span class=n>xes_fig</span><span class=p>,</span> <span class=n>xas_fig</span><span class=p>,</span> <span class=n>rixs_fig</span>
<span class=linenos data-linenos="575 "></span>            <span class=n>cx</span> <span class=o>=</span> <span class=n>clickData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;x&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="576 "></span>            <span class=n>cy</span> <span class=o>=</span> <span class=n>clickData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;y&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="577 "></span>            <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
<span class=linenos data-linenos="578 "></span>                <span class=p>{</span><span class=s2>&quot;energy&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span> <span class=s2>&quot;intensity&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>cy</span><span class=p>),</span> <span class=p>:]}</span>
<span class=linenos data-linenos="579 "></span>            <span class=p>)</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
<span class=linenos data-linenos="580 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;xes_cut_</span><span class=si>{</span><span class=n>np</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=n>cx</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=si>}</span><span class=s2>.txt&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="581 "></span>                <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="582 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="583 "></span>            <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
<span class=linenos data-linenos="584 "></span>                <span class=p>{</span><span class=s2>&quot;energy&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span> <span class=s2>&quot;intensity&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=n>cx</span><span class=p>)]}</span>
<span class=linenos data-linenos="585 "></span>            <span class=p>)</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
<span class=linenos data-linenos="586 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;xas_cut_</span><span class=si>{</span><span class=n>np</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=n>cy</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=si>}</span><span class=s2>.txt&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="587 "></span>                <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="588 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="589 "></span>            <span class=k>return</span> <span class=n>xes_fig</span><span class=p>,</span> <span class=n>xas_fig</span><span class=p>,</span> <span class=n>rixs_fig</span>
<span class=linenos data-linenos="590 "></span>
<span class=linenos data-linenos="591 "></span>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span><span class=p>:</span>
<span class=linenos data-linenos="592 "></span>            <span class=n>app</span><span class=o>.</span><span class=n>run_server</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>mode</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>)</span>
<span class=linenos data-linenos="593 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="594 "></span>            <span class=n>app</span><span class=o>.</span><span class=n>run_server</span><span class=p>(</span><span class=n>debug</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>)</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>emission_energy</span><span class=p>,</span> <span class=n>rixs_map</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=n>SizeRatioAPI</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span> <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>)),</span> <span class=n>main_title</span><span class=o>=</span><span class=n>MainTitleAPI</span><span class=p>(</span><span class=n>rixs</span><span class=o>=</span><span class=s1>&#39;RIXS&#39;</span><span class=p>,</span> <span class=n>xes</span><span class=o>=</span><span class=s1>&#39;XES&#39;</span><span class=p>,</span> <span class=n>xas</span><span class=o>=</span><span class=s1>&#39;XAS&#39;</span><span class=p>),</span> <span class=n>fdir</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s1>&#39;./&#39;</span><span class=p>),</span> <span class=n>mode</span><span class=o>=</span><span class=s1>&#39;server&#39;</span><span class=p>,</span> <span class=n>jupyter_dash</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>8050</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.__init__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the RIXS app.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>incident_energy</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Incident energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>emission_energy</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Emission energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rixs_map</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>RIXS data as a 2D array.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>size</code></td> <td> <code><span title=spectrafit.api.rixs_model.SizeRatioAPI>SizeRatioAPI</span></code> </td> <td> <div class=doc-md-description> <p>Size of the figures. Defaults to SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2), ratio_xas=(3, 1), ratio_xes=(3, 1)).</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.SizeRatioAPI>SizeRatioAPI</span>(size=(500, 500), ratio_rixs=(2, 2), ratio_xas=(3, 1), ratio_xes=(3, 1))</code> </td> </tr> <tr> <td><code>main_title</code></td> <td> <code><span title=spectrafit.api.rixs_model.MainTitleAPI>MainTitleAPI</span></code> </td> <td> <div class=doc-md-description> <p>Main title of the figures. Defaults to MainTitleAPI(rixs="RIXS", xes="XES", xas="XAS").</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.MainTitleAPI>MainTitleAPI</span>(rixs=&#39;RIXS&#39;, xes=&#39;XES&#39;, xas=&#39;XAS&#39;)</code> </td> </tr> <tr> <td><code>fdir</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Directory to save the figures. Defaults to Path("./").</p> </div> </td> <td> <code><span title=pathlib.Path>Path</span>(&#39;./&#39;)</code> </td> </tr> <tr> <td><code>mode</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Mode of the app. Defaults to "server".</p> </div> </td> <td> <code>&#39;server&#39;</code> </td> </tr> <tr> <td><code>port</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>Port of the app. Defaults to 8050.</p> </div> </td> <td> <code>8050</code> </td> </tr> <tr> <td><code>jupyter_dash</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Jupyter Dash mode. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr> <td><code>debug</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Debug mode. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="252 "></span><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="253 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="254 "></span>    <span class=n>incident_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="255 "></span>    <span class=n>emission_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="256 "></span>    <span class=n>rixs_map</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="257 "></span>    <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span> <span class=o>=</span> <span class=n>SizeRatioAPI</span><span class=p>(</span>
<span class=linenos data-linenos="258 "></span>        <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>
<span class=linenos data-linenos="259 "></span>        <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
<span class=linenos data-linenos="260 "></span>        <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="261 "></span>        <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="262 "></span>    <span class=p>),</span>
<span class=linenos data-linenos="263 "></span>    <span class=n>main_title</span><span class=p>:</span> <span class=n>MainTitleAPI</span> <span class=o>=</span> <span class=n>MainTitleAPI</span><span class=p>(</span><span class=n>rixs</span><span class=o>=</span><span class=s2>&quot;RIXS&quot;</span><span class=p>,</span> <span class=n>xes</span><span class=o>=</span><span class=s2>&quot;XES&quot;</span><span class=p>,</span> <span class=n>xas</span><span class=o>=</span><span class=s2>&quot;XAS&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="264 "></span>    <span class=n>fdir</span><span class=p>:</span> <span class=n>Path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;./&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="265 "></span>    <span class=n>mode</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;server&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="266 "></span>    <span class=n>jupyter_dash</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="267 "></span>    <span class=n>port</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>8050</span><span class=p>,</span>
<span class=linenos data-linenos="268 "></span>    <span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="269 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="270 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the RIXS app.</span>
<span class=linenos data-linenos="271 "></span>
<span class=linenos data-linenos="272 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="273 "></span><span class=sd>        incident_energy (NDArray[np.float64]): Incident energy.</span>
<span class=linenos data-linenos="274 "></span><span class=sd>        emission_energy (NDArray[np.float64]): Emission energy.</span>
<span class=linenos data-linenos="275 "></span><span class=sd>        rixs_map (NDArray[np.float64]): RIXS data as a 2D array.</span>
<span class=linenos data-linenos="276 "></span><span class=sd>        size (SizeRatioAPI, optional): Size of the figures. Defaults to</span>
<span class=linenos data-linenos="277 "></span><span class=sd>             SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2), ratio_xas=(3, 1),</span>
<span class=linenos data-linenos="278 "></span><span class=sd>             ratio_xes=(3, 1)).</span>
<span class=linenos data-linenos="279 "></span><span class=sd>        main_title (MainTitleAPI, optional): Main title of the figures.</span>
<span class=linenos data-linenos="280 "></span><span class=sd>             Defaults to MainTitleAPI(rixs=&quot;RIXS&quot;, xes=&quot;XES&quot;, xas=&quot;XAS&quot;).</span>
<span class=linenos data-linenos="281 "></span><span class=sd>        fdir (Path, optional): Directory to save the figures. Defaults to</span>
<span class=linenos data-linenos="282 "></span><span class=sd>             Path(&quot;./&quot;).</span>
<span class=linenos data-linenos="283 "></span><span class=sd>        mode (str, optional): Mode of the app. Defaults to &quot;server&quot;.</span>
<span class=linenos data-linenos="284 "></span><span class=sd>        port (int, optional): Port of the app. Defaults to 8050.</span>
<span class=linenos data-linenos="285 "></span><span class=sd>        jupyter_dash (bool, optional): Jupyter Dash mode. Defaults to False.</span>
<span class=linenos data-linenos="286 "></span><span class=sd>        debug (bool, optional): Debug mode. Defaults to False.</span>
<span class=linenos data-linenos="287 "></span>
<span class=linenos data-linenos="288 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="289 "></span>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="290 "></span>        <span class=n>incident_energy</span><span class=o>=</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="291 "></span>        <span class=n>emission_energy</span><span class=o>=</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="292 "></span>        <span class=n>rixs_map</span><span class=o>=</span><span class=n>rixs_map</span><span class=p>,</span>
<span class=linenos data-linenos="293 "></span>        <span class=n>size</span><span class=o>=</span><span class=n>size</span><span class=p>,</span>
<span class=linenos data-linenos="294 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="295 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>=</span> <span class=n>fdir</span>
<span class=linenos data-linenos="296 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>main_title</span> <span class=o>=</span> <span class=n>main_title</span>
<span class=linenos data-linenos="297 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>mode</span> <span class=o>=</span> <span class=n>mode</span>
<span class=linenos data-linenos="298 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span> <span class=o>=</span> <span class=n>jupyter_dash</span>
<span class=linenos data-linenos="299 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
<span class=linenos data-linenos="300 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>debug</span> <span class=o>=</span> <span class=n>debug</span>
<span class=linenos data-linenos="301 "></span>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
<span class=linenos data-linenos="302 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>logging_flask</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.app_run class="doc doc-heading"> <code class="highlight language-python"><span class=n>app_run</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.app_run class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the app.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="489 "></span><span class=k>def</span> <span class=nf>app_run</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="490 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the app.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="491 "></span>    <span class=n>dbc_css</span> <span class=o>=</span> <span class=p>(</span>
<span class=linenos data-linenos="492 "></span>        <span class=s2>&quot;https://cdn.jsdelivr.net/gh/AnnMarieW/dash-bootstrap-templates/dbc.min.css&quot;</span>
<span class=linenos data-linenos="493 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="494 "></span>    <span class=n>external_stylesheets</span> <span class=o>=</span> <span class=p>[</span><span class=n>dbc</span><span class=o>.</span><span class=n>themes</span><span class=o>.</span><span class=n>COSMO</span><span class=p>,</span> <span class=n>dbc_css</span><span class=p>]</span>
<span class=linenos data-linenos="495 "></span>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span><span class=p>:</span>
<span class=linenos data-linenos="496 "></span>        <span class=n>app</span> <span class=o>=</span> <span class=n>JupyterDash</span><span class=p>(</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>external_stylesheets</span><span class=o>=</span><span class=n>external_stylesheets</span><span class=p>)</span>
<span class=linenos data-linenos="497 "></span>    <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="498 "></span>        <span class=n>app</span> <span class=o>=</span> <span class=n>dash</span><span class=o>.</span><span class=n>Dash</span><span class=p>(</span>
<span class=linenos data-linenos="499 "></span>            <span class=vm>__name__</span><span class=p>,</span>
<span class=linenos data-linenos="500 "></span>            <span class=n>external_stylesheets</span><span class=o>=</span><span class=n>external_stylesheets</span><span class=p>,</span>
<span class=linenos data-linenos="501 "></span>            <span class=n>meta_tags</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="502 "></span>                <span class=p>{</span>
<span class=linenos data-linenos="503 "></span>                    <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;viewport&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="504 "></span>                    <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;width=device-width, initial-scale=1&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="505 "></span>                <span class=p>}</span>
<span class=linenos data-linenos="506 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="507 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="508 "></span>    <span class=n>app</span><span class=o>.</span><span class=n>layout</span> <span class=o>=</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Container</span><span class=p>(</span>
<span class=linenos data-linenos="509 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="510 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>header</span><span class=p>(),</span>
<span class=linenos data-linenos="511 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>body</span><span class=p>(),</span>
<span class=linenos data-linenos="512 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>footer</span><span class=p>(),</span>
<span class=linenos data-linenos="513 "></span>        <span class=p>],</span>
<span class=linenos data-linenos="514 "></span>        <span class=n>fluid</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="515 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="516 "></span>
<span class=linenos data-linenos="517 "></span>    <span class=nd>@app</span><span class=o>.</span><span class=n>callback</span><span class=p>(</span>
<span class=linenos data-linenos="518 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="519 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;xes-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="520 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;xas-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="521 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Output</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="522 "></span>        <span class=p>],</span>
<span class=linenos data-linenos="523 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="524 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;hoverData&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="525 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>,</span> <span class=s2>&quot;clickData&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="526 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;colorscale&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="527 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=s2>&quot;opacity&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="528 "></span>            <span class=n>dash</span><span class=o>.</span><span class=n>dependencies</span><span class=o>.</span><span class=n>Input</span><span class=p>(</span><span class=n>ThemeChangerAIO</span><span class=o>.</span><span class=n>ids</span><span class=o>.</span><span class=n>radio</span><span class=p>(</span><span class=s2>&quot;theme&quot;</span><span class=p>),</span> <span class=s2>&quot;value&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="529 "></span>        <span class=p>],</span>
<span class=linenos data-linenos="530 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="531 "></span>    <span class=k>def</span> <span class=nf>update_hover_data</span><span class=p>(</span>
<span class=linenos data-linenos="532 "></span>        <span class=n>hoverData</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]],</span>
<span class=linenos data-linenos="533 "></span>        <span class=n>clickData</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]],</span>
<span class=linenos data-linenos="534 "></span>        <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="535 "></span>        <span class=n>opacity</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
<span class=linenos data-linenos="536 "></span>        <span class=n>theme</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="537 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>,</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>,</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>]:</span>
<span class=linenos data-linenos="538 "></span>        <span class=k>if</span> <span class=n>hoverData</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="539 "></span>            <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="540 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="541 "></span>                    <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="542 "></span>                    <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=o>.</span><span class=n>size</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)],</span>
<span class=linenos data-linenos="543 "></span>                    <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="544 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="545 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="546 "></span>                    <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="547 "></span>                    <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=o>.</span><span class=n>size</span> <span class=o>/</span> <span class=mi>2</span><span class=p>),</span> <span class=p>:],</span>
<span class=linenos data-linenos="548 "></span>                    <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="549 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="550 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="551 "></span>                    <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="552 "></span>                    <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="553 "></span>                    <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="554 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="555 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="556 "></span>        <span class=n>x</span> <span class=o>=</span> <span class=n>hoverData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;x&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="557 "></span>        <span class=n>y</span> <span class=o>=</span> <span class=n>hoverData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;y&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="558 "></span>        <span class=n>xes_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="559 "></span>            <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="560 "></span>            <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)],</span>
<span class=linenos data-linenos="561 "></span>            <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="562 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="563 "></span>        <span class=n>xas_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="564 "></span>            <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="565 "></span>            <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>y</span><span class=p>),</span> <span class=p>:],</span>
<span class=linenos data-linenos="566 "></span>            <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="567 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="568 "></span>        <span class=n>rixs_fig</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="569 "></span>            <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="570 "></span>            <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="571 "></span>            <span class=n>template</span><span class=o>=</span><span class=n>template_from_url</span><span class=p>(</span><span class=n>theme</span><span class=p>),</span>
<span class=linenos data-linenos="572 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="573 "></span>        <span class=k>if</span> <span class=n>clickData</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="574 "></span>            <span class=k>return</span> <span class=n>xes_fig</span><span class=p>,</span> <span class=n>xas_fig</span><span class=p>,</span> <span class=n>rixs_fig</span>
<span class=linenos data-linenos="575 "></span>        <span class=n>cx</span> <span class=o>=</span> <span class=n>clickData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;x&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="576 "></span>        <span class=n>cy</span> <span class=o>=</span> <span class=n>clickData</span><span class=p>[</span><span class=s2>&quot;points&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;y&quot;</span><span class=p>]</span>
<span class=linenos data-linenos="577 "></span>        <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
<span class=linenos data-linenos="578 "></span>            <span class=p>{</span><span class=s2>&quot;energy&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span> <span class=s2>&quot;intensity&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>cy</span><span class=p>),</span> <span class=p>:]}</span>
<span class=linenos data-linenos="579 "></span>        <span class=p>)</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
<span class=linenos data-linenos="580 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;xes_cut_</span><span class=si>{</span><span class=n>np</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=n>cx</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=si>}</span><span class=s2>.txt&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="581 "></span>            <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="582 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="583 "></span>        <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
<span class=linenos data-linenos="584 "></span>            <span class=p>{</span><span class=s2>&quot;energy&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span> <span class=s2>&quot;intensity&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>[:,</span> <span class=nb>int</span><span class=p>(</span><span class=n>cx</span><span class=p>)]}</span>
<span class=linenos data-linenos="585 "></span>        <span class=p>)</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
<span class=linenos data-linenos="586 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>fdir</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;xas_cut_</span><span class=si>{</span><span class=n>np</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=n>cy</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=si>}</span><span class=s2>.txt&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="587 "></span>            <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<span class=linenos data-linenos="588 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="589 "></span>        <span class=k>return</span> <span class=n>xes_fig</span><span class=p>,</span> <span class=n>xas_fig</span><span class=p>,</span> <span class=n>rixs_fig</span>
<span class=linenos data-linenos="590 "></span>
<span class=linenos data-linenos="591 "></span>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>jupyter_dash</span><span class=p>:</span>
<span class=linenos data-linenos="592 "></span>        <span class=n>app</span><span class=o>.</span><span class=n>run_server</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>mode</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>)</span>
<span class=linenos data-linenos="593 "></span>    <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="594 "></span>        <span class=n>app</span><span class=o>.</span><span class=n>run_server</span><span class=p>(</span><span class=n>debug</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.body class="doc doc-heading"> <code class="highlight language-python"><span class=n>body</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.body class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the body.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=dash_bootstrap_components>dbc</span>.<span title=dash_bootstrap_components.Card>Card</span></code> </td> <td> <div class=doc-md-description> <p>dbc.Card: Body as a bootstrap card.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="413 "></span><span class=k>def</span> <span class=nf>body</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="414 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the body.</span>
<span class=linenos data-linenos="415 "></span>
<span class=linenos data-linenos="416 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="417 "></span><span class=sd>        dbc.Card: Body as a bootstrap card.</span>
<span class=linenos data-linenos="418 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="419 "></span>    <span class=n>colorscale</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>colorscale</span><span class=p>()</span>
<span class=linenos data-linenos="420 "></span>    <span class=n>opacity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>opacity</span><span class=p>()</span>
<span class=linenos data-linenos="421 "></span>    <span class=n>rixs</span><span class=p>,</span> <span class=n>xes</span><span class=p>,</span> <span class=n>xas</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_body</span><span class=p>()</span>
<span class=linenos data-linenos="422 "></span>
<span class=linenos data-linenos="423 "></span>    <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="424 "></span>        <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="425 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="426 "></span>                <span class=p>[</span>
<span class=linenos data-linenos="427 "></span>                    <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>([</span><span class=n>ThemeChangerAIO</span><span class=p>(</span><span class=n>aio_id</span><span class=o>=</span><span class=s2>&quot;theme&quot;</span><span class=p>)]),</span>
<span class=linenos data-linenos="428 "></span>                    <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="429 "></span>                        <span class=p>[</span>
<span class=linenos data-linenos="430 "></span>                            <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span>
<span class=linenos data-linenos="431 "></span>                                <span class=n>html</span><span class=o>.</span><span class=n>H1</span><span class=p>(</span><span class=s2>&quot;RIXS Viewer&quot;</span><span class=p>,</span> <span class=n>className</span><span class=o>=</span><span class=s2>&quot;text-center&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="432 "></span>                            <span class=p>),</span>
<span class=linenos data-linenos="433 "></span>                        <span class=p>],</span>
<span class=linenos data-linenos="434 "></span>                        <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="435 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="436 "></span>                    <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="437 "></span>                    <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="438 "></span>                        <span class=p>[</span>
<span class=linenos data-linenos="439 "></span>                            <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>colorscale</span><span class=p>),</span>
<span class=linenos data-linenos="440 "></span>                            <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>opacity</span><span class=p>),</span>
<span class=linenos data-linenos="441 "></span>                        <span class=p>],</span>
<span class=linenos data-linenos="442 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="443 "></span>                    <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="444 "></span>                    <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="445 "></span>                        <span class=p>[</span>
<span class=linenos data-linenos="446 "></span>                            <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>(</span><span class=n>rixs</span><span class=p>),</span>
<span class=linenos data-linenos="447 "></span>                            <span class=n>dbc</span><span class=o>.</span><span class=n>Col</span><span class=p>([</span><span class=n>xes</span><span class=p>,</span> <span class=n>xas</span><span class=p>]),</span>
<span class=linenos data-linenos="448 "></span>                        <span class=p>],</span>
<span class=linenos data-linenos="449 "></span>                        <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="450 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="451 "></span>                    <span class=n>html</span><span class=o>.</span><span class=n>Br</span><span class=p>(),</span>
<span class=linenos data-linenos="452 "></span>                <span class=p>],</span>
<span class=linenos data-linenos="453 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="454 "></span>            <span class=n>class_name</span><span class=o>=</span><span class=s2>&quot;mt-4&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="455 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="456 "></span>    <span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.colorscale class="doc doc-heading"> <code class="highlight language-python"><span class=n>colorscale</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.colorscale class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the color scale dropdown.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=dash.html>html</span>.<span title=dash.html.Div>Div</span></code> </td> <td> <div class=doc-md-description> <p>html.Div: Color scale dropdown.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="309 "></span><span class=k>def</span> <span class=nf>colorscale</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>:</span>
<span class=linenos data-linenos="310 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the color scale dropdown.</span>
<span class=linenos data-linenos="311 "></span>
<span class=linenos data-linenos="312 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="313 "></span><span class=sd>        html.Div: Color scale dropdown.</span>
<span class=linenos data-linenos="314 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="315 "></span>    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="316 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="317 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=s2>&quot;Color Scale&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="318 "></span>            <span class=n>dcc</span><span class=o>.</span><span class=n>Dropdown</span><span class=p>(</span>
<span class=linenos data-linenos="319 "></span>                <span class=nb>id</span><span class=o>=</span><span class=s2>&quot;colorscale&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="320 "></span>                <span class=n>options</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="321 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="322 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Plasma&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Plasma&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="323 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Inferno&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Inferno&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="324 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Magma&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Magma&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="325 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="326 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Greys&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Greys&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="327 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Greens&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Greens&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="328 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;YlOrRd&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;YlOrRd&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="329 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Bluered&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Bluered&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="330 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;RdBu&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;RdBu&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="331 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Reds&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Reds&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="332 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Blues&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Blues&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="333 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Picnic&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Picnic&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="334 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Rainbow&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Rainbow&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="335 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Portland&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Portland&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="336 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Jet&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Jet&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="337 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Hot&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Hot&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="338 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Blackbody&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Blackbody&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="339 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Earth&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Earth&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="340 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Electric&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Electric&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="341 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="342 "></span>                    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;Cividis&quot;</span><span class=p>},</span>
<span class=linenos data-linenos="343 "></span>                <span class=p>],</span>
<span class=linenos data-linenos="344 "></span>                <span class=n>value</span><span class=o>=</span><span class=s2>&quot;Viridis&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="345 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="346 "></span>        <span class=p>],</span>
<span class=linenos data-linenos="347 "></span>        <span class=n>className</span><span class=o>=</span><span class=s2>&quot;dbc&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="348 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.footer class="doc doc-heading"> <code class="highlight language-python"><span class=n>footer</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.footer class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the footer.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=dash_bootstrap_components>dbc</span>.<span title=dash_bootstrap_components.Card>Card</span></code> </td> <td> <div class=doc-md-description> <p>dbc.Card: Footer as a bootstrap card.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="458 "></span><span class=k>def</span> <span class=nf>footer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="459 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the footer.</span>
<span class=linenos data-linenos="460 "></span>
<span class=linenos data-linenos="461 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="462 "></span><span class=sd>        dbc.Card: Footer as a bootstrap card.</span>
<span class=linenos data-linenos="463 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="464 "></span>    <span class=k>return</span> <span class=p>(</span>
<span class=linenos data-linenos="465 "></span>        <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="466 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="467 "></span>                <span class=p>[</span>
<span class=linenos data-linenos="468 "></span>                    <span class=n>dbc</span><span class=o>.</span><span class=n>Row</span><span class=p>(</span>
<span class=linenos data-linenos="469 "></span>                        <span class=p>[</span>
<span class=linenos data-linenos="470 "></span>                            <span class=n>dcc</span><span class=o>.</span><span class=n>Markdown</span><span class=p>(</span>
<span class=linenos data-linenos="471 "></span><span class=w>                                </span><span class=sd>&quot;&quot;&quot;</span>
<span class=linenos data-linenos="472 "></span><span class=sd>                ### RIXS Viewer</span>
<span class=linenos data-linenos="473 "></span><span class=sd>                This is a simple RIXS viewer. It is based on the</span>
<span class=linenos data-linenos="474 "></span><span class=sd>                [Dash](https://dash.plotly.com/)</span>
<span class=linenos data-linenos="475 "></span><span class=sd>                framework and uses the [Plotly](https://plotly.com/python/) library</span>
<span class=linenos data-linenos="476 "></span><span class=sd>                for plotting. The code is available on</span>
<span class=linenos data-linenos="477 "></span><span class=sd>                [GitHub](https://github.com/anselmoo/spectrafit).</span>
<span class=linenos data-linenos="478 "></span><span class=sd>                &quot;&quot;&quot;</span>
<span class=linenos data-linenos="479 "></span>                            <span class=p>),</span>
<span class=linenos data-linenos="480 "></span>                        <span class=p>],</span>
<span class=linenos data-linenos="481 "></span>                        <span class=n>justify</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="482 "></span>                    <span class=p>)</span>
<span class=linenos data-linenos="483 "></span>                <span class=p>]</span>
<span class=linenos data-linenos="484 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="485 "></span>            <span class=n>class_name</span><span class=o>=</span><span class=s2>&quot;mt-4&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="486 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="487 "></span>    <span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.header class="doc doc-heading"> <code class="highlight language-python"><span class=n>header</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.header class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the header.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=dash_bootstrap_components>dbc</span>.<span title=dash_bootstrap_components.Card>Card</span></code> </td> <td> <div class=doc-md-description> <p>dbc.Card: Header as a bootstrap card.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="370 "></span><span class=k>def</span> <span class=nf>header</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>:</span>
<span class=linenos data-linenos="371 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the header.</span>
<span class=linenos data-linenos="372 "></span>
<span class=linenos data-linenos="373 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="374 "></span><span class=sd>        dbc.Card: Header as a bootstrap card.</span>
<span class=linenos data-linenos="375 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="376 "></span>    <span class=k>return</span> <span class=n>dbc</span><span class=o>.</span><span class=n>Card</span><span class=p>(</span>
<span class=linenos data-linenos="377 "></span>        <span class=n>dbc</span><span class=o>.</span><span class=n>CardBody</span><span class=p>(</span>
<span class=linenos data-linenos="378 "></span>            <span class=p>[</span>
<span class=linenos data-linenos="379 "></span>                <span class=n>html</span><span class=o>.</span><span class=n>H4</span><span class=p>(</span>
<span class=linenos data-linenos="380 "></span>                    <span class=s2>&quot;RIXS Visualizer App&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="381 "></span>                    <span class=n>className</span><span class=o>=</span><span class=s2>&quot;bg-primary text-white p-2 mb-2 text-center&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="382 "></span>                <span class=p>)</span>
<span class=linenos data-linenos="383 "></span>            <span class=p>]</span>
<span class=linenos data-linenos="384 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="385 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.logging_flask class="doc doc-heading"> <code class="highlight language-python"><span class=n>logging_flask</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.logging_flask class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Set the logging level of the Flask server to ERROR.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="304 "></span><span class=k>def</span> <span class=nf>logging_flask</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="305 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Set the logging level of the Flask server to ERROR.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="306 "></span>    <span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;werkzeug&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="307 "></span>    <span class=n>log</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>ERROR</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.opacity class="doc doc-heading"> <code class="highlight language-python"><span class=n>opacity</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.opacity class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the opacity slider.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=dash.html>html</span>.<span title=dash.html.Div>Div</span></code> </td> <td> <div class=doc-md-description> <p>html.Div: Opacity slider.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="350 "></span><span class=k>def</span> <span class=nf>opacity</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>:</span>
<span class=linenos data-linenos="351 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the opacity slider.</span>
<span class=linenos data-linenos="352 "></span>
<span class=linenos data-linenos="353 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="354 "></span><span class=sd>        html.Div: Opacity slider.</span>
<span class=linenos data-linenos="355 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="356 "></span>    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="357 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="358 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=s2>&quot;Opacity&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="359 "></span>            <span class=n>dcc</span><span class=o>.</span><span class=n>Slider</span><span class=p>(</span>
<span class=linenos data-linenos="360 "></span>                <span class=nb>id</span><span class=o>=</span><span class=s2>&quot;opacity&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="361 "></span>                <span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
<span class=linenos data-linenos="362 "></span>                <span class=nb>max</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="363 "></span>                <span class=n>step</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>
<span class=linenos data-linenos="364 "></span>                <span class=n>value</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="365 "></span>                <span class=n>marks</span><span class=o>=</span><span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>)},</span>
<span class=linenos data-linenos="366 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="367 "></span>        <span class=p>]</span>
<span class=linenos data-linenos="368 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSApp.pre_body class="doc doc-heading"> <code class="highlight language-python"><span class=n>pre_body</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSApp.pre_body class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the body.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Tuple>Tuple</span>[<span title=dash.html>html</span>.<span title=dash.html.Div>Div</span>, <span title=dash.html>html</span>.<span title=dash.html.Div>Div</span>, <span title=dash.html>html</span>.<span title=dash.html.Div>Div</span>]</code> </td> <td> <div class=doc-md-description> <p>Tuple[html.Div, html.Div, html.Div]: Body as a tuple of three plot parts.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="387 "></span><span class=k>def</span> <span class=nf>pre_body</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>,</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>,</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>]:</span>
<span class=linenos data-linenos="388 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the body.</span>
<span class=linenos data-linenos="389 "></span>
<span class=linenos data-linenos="390 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="391 "></span><span class=sd>        Tuple[html.Div, html.Div, html.Div]: Body as a tuple of three plot parts.</span>
<span class=linenos data-linenos="392 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="393 "></span>    <span class=n>rixs</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="394 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="395 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>rixs</span><span class=p>),</span>
<span class=linenos data-linenos="396 "></span>            <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;rixs-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="397 "></span>        <span class=p>]</span>
<span class=linenos data-linenos="398 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="399 "></span>    <span class=n>xes</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="400 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="401 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>xes</span><span class=p>),</span>
<span class=linenos data-linenos="402 "></span>            <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;xes-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="403 "></span>        <span class=p>]</span>
<span class=linenos data-linenos="404 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="405 "></span>    <span class=n>xas</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>Div</span><span class=p>(</span>
<span class=linenos data-linenos="406 "></span>        <span class=p>[</span>
<span class=linenos data-linenos="407 "></span>            <span class=n>dbc</span><span class=o>.</span><span class=n>Label</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>main_title</span><span class=o>.</span><span class=n>xas</span><span class=p>),</span>
<span class=linenos data-linenos="408 "></span>            <span class=n>dcc</span><span class=o>.</span><span class=n>Graph</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=s2>&quot;xas-figure&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="409 "></span>        <span class=p>]</span>
<span class=linenos data-linenos="410 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="411 "></span>    <span class=k>return</span> <span class=n>rixs</span><span class=p>,</span> <span class=n>xes</span><span class=p>,</span> <span class=n>xas</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.rixs_visualizer.RIXSFigure class="doc doc-heading"> <code>RIXSFigure</code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Class to create the RIXS figure.</p> <div class="admonition info"> <p class=admonition-title>About the RIXS figure</p> <p>The RIXS figure is composed of three subplots:</p> <ul> <li>RIXS -&gt; 3D plot</li> <li>XES -&gt; 2D plot</li> <li>XAS -&gt; 2D plot</li> </ul> </div> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 37 "></span><span class=k>class</span> <span class=nc>RIXSFigure</span><span class=p>:</span>
<span class=linenos data-linenos=" 38 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Class to create the RIXS figure.</span>
<span class=linenos data-linenos=" 39 "></span>
<span class=linenos data-linenos=" 40 "></span><span class=sd>    !!! info &quot;About the RIXS figure&quot;</span>
<span class=linenos data-linenos=" 41 "></span>
<span class=linenos data-linenos=" 42 "></span><span class=sd>        The RIXS figure is composed of three subplots:</span>
<span class=linenos data-linenos=" 43 "></span>
<span class=linenos data-linenos=" 44 "></span><span class=sd>        - RIXS -&gt; 3D plot</span>
<span class=linenos data-linenos=" 45 "></span><span class=sd>        - XES -&gt; 2D plot</span>
<span class=linenos data-linenos=" 46 "></span><span class=sd>        - XAS -&gt; 2D plot</span>
<span class=linenos data-linenos=" 47 "></span>
<span class=linenos data-linenos=" 48 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 49 "></span>
<span class=linenos data-linenos=" 50 "></span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos=" 51 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos=" 52 "></span>        <span class=n>incident_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos=" 53 "></span>        <span class=n>emission_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos=" 54 "></span>        <span class=n>rixs_map</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos=" 55 "></span>        <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span> <span class=o>=</span> <span class=n>SizeRatioAPI</span><span class=p>(</span>
<span class=linenos data-linenos=" 56 "></span>            <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>
<span class=linenos data-linenos=" 57 "></span>            <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
<span class=linenos data-linenos=" 58 "></span>            <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos=" 59 "></span>            <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos=" 60 "></span>        <span class=p>),</span>
<span class=linenos data-linenos=" 61 "></span>        <span class=n>x_axis</span><span class=p>:</span> <span class=n>XAxisAPI</span> <span class=o>=</span> <span class=n>XAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Incident Energy&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;eV&quot;</span><span class=p>),</span>
<span class=linenos data-linenos=" 62 "></span>        <span class=n>y_axis</span><span class=p>:</span> <span class=n>YAxisAPI</span> <span class=o>=</span> <span class=n>YAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Emission Energy&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;eV&quot;</span><span class=p>),</span>
<span class=linenos data-linenos=" 63 "></span>        <span class=n>z_axis</span><span class=p>:</span> <span class=n>ZAxisAPI</span> <span class=o>=</span> <span class=n>ZAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Intensity&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;a.u.&quot;</span><span class=p>),</span>
<span class=linenos data-linenos=" 64 "></span>    <span class=p>):</span>
<span class=linenos data-linenos=" 65 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Initialize the RIXS figure.</span>
<span class=linenos data-linenos=" 66 "></span>
<span class=linenos data-linenos=" 67 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 68 "></span><span class=sd>            incident_energy (NDArray[np.float64]): Incident energy.</span>
<span class=linenos data-linenos=" 69 "></span><span class=sd>            emission_energy (NDArray[np.float64]): Emission energy.</span>
<span class=linenos data-linenos=" 70 "></span><span class=sd>            rixs_map (NDArray[np.float64]): RIXS data as a 2D array.</span>
<span class=linenos data-linenos=" 71 "></span><span class=sd>            size (SizeRatioAPI, optional): Size of the figure.</span>
<span class=linenos data-linenos=" 72 "></span><span class=sd>                 Defaults to SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2),</span>
<span class=linenos data-linenos=" 73 "></span><span class=sd>                 ratio_xes=(3, 1), ratio_xas=(3, 1)).</span>
<span class=linenos data-linenos=" 74 "></span><span class=sd>            x_axis (XAxisAPI, optional): X-Axis of the figure.</span>
<span class=linenos data-linenos=" 75 "></span><span class=sd>                 Defaults to XAxisAPI(name=&quot;Incident Energy&quot;, unit=&quot;eV&quot;).</span>
<span class=linenos data-linenos=" 76 "></span><span class=sd>            y_axis (YAxisAPI, optional): Y-Axis of the figure.</span>
<span class=linenos data-linenos=" 77 "></span><span class=sd>                 Defaults to YAxisAPI(name=&quot;Emission Energy&quot;, unit=&quot;eV&quot;).</span>
<span class=linenos data-linenos=" 78 "></span><span class=sd>            z_axis (ZAxisAPI, optional): Z-Axis of the figure.</span>
<span class=linenos data-linenos=" 79 "></span><span class=sd>                 Defaults to ZAxisAPI(name=&quot;Intensity&quot;, unit=&quot;a.u.&quot;).</span>
<span class=linenos data-linenos=" 80 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 81 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span> <span class=o>=</span> <span class=n>incident_energy</span>
<span class=linenos data-linenos=" 82 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span> <span class=o>=</span> <span class=n>emission_energy</span>
<span class=linenos data-linenos=" 83 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span> <span class=o>=</span> <span class=n>rixs_map</span>
<span class=linenos data-linenos=" 84 "></span>
<span class=linenos data-linenos=" 85 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span> <span class=o>=</span> <span class=n>x_axis</span>
<span class=linenos data-linenos=" 86 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span> <span class=o>=</span> <span class=n>y_axis</span>
<span class=linenos data-linenos=" 87 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span> <span class=o>=</span> <span class=n>z_axis</span>
<span class=linenos data-linenos=" 88 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>initialize_figure_size</span><span class=p>(</span><span class=n>size</span><span class=p>)</span>
<span class=linenos data-linenos=" 89 "></span>
<span class=linenos data-linenos=" 90 "></span>    <span class=k>def</span> <span class=nf>initialize_figure_size</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 91 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Initialize the size of the figure.</span>
<span class=linenos data-linenos=" 92 "></span>
<span class=linenos data-linenos=" 93 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>            size (SizeRatioAPI): Size of the figure.</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 96 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>rixs_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_rixs</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos=" 97 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>rixs_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_rixs</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos=" 98 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>xas_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xas</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos=" 99 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>xas_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xas</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="100 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>xes_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xes</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="101 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>xes_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xes</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="102 "></span>
<span class=linenos data-linenos="103 "></span>    <span class=k>def</span> <span class=nf>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="104 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="105 "></span>        <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="106 "></span>        <span class=n>opacity</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.9</span><span class=p>,</span>
<span class=linenos data-linenos="107 "></span>        <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="108 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="109 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the RIXS figure.</span>
<span class=linenos data-linenos="110 "></span>
<span class=linenos data-linenos="111 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="112 "></span><span class=sd>            colorscale (str, optional): Color scale. Defaults to &quot;Viridis&quot;.</span>
<span class=linenos data-linenos="113 "></span><span class=sd>            opacity (float, optional): Opacity of the surface. Defaults to 0.9.</span>
<span class=linenos data-linenos="114 "></span><span class=sd>            template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="115 "></span>
<span class=linenos data-linenos="116 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="117 "></span><span class=sd>            go.Figure: RIXS figure.</span>
<span class=linenos data-linenos="118 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="119 "></span>        <span class=n>fig</span> <span class=o>=</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>(</span>
<span class=linenos data-linenos="120 "></span>            <span class=n>data</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="121 "></span>                <span class=n>go</span><span class=o>.</span><span class=n>Surface</span><span class=p>(</span>
<span class=linenos data-linenos="122 "></span>                    <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="123 "></span>                    <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="124 "></span>                    <span class=n>z</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>,</span>
<span class=linenos data-linenos="125 "></span>                    <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="126 "></span>                    <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="127 "></span>                    <span class=n>contours_z</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="128 "></span>                        <span class=n>show</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="129 "></span>                        <span class=n>usecolormap</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="130 "></span>                        <span class=n>highlightcolor</span><span class=o>=</span><span class=s2>&quot;limegreen&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="131 "></span>                        <span class=n>project_z</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="132 "></span>                    <span class=p>),</span>
<span class=linenos data-linenos="133 "></span>                <span class=p>)</span>
<span class=linenos data-linenos="134 "></span>            <span class=p>],</span>
<span class=linenos data-linenos="135 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="136 "></span>
<span class=linenos data-linenos="137 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="138 "></span>            <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="139 "></span>            <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_width</span><span class=p>,</span>
<span class=linenos data-linenos="140 "></span>            <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_height</span><span class=p>,</span>
<span class=linenos data-linenos="141 "></span>            <span class=n>scene</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="142 "></span>                <span class=n>xaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="143 "></span>                    <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="144 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="145 "></span>                <span class=n>yaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="146 "></span>                    <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="147 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="148 "></span>                <span class=n>zaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="149 "></span>                    <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="150 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="151 "></span>                <span class=n>aspectmode</span><span class=o>=</span><span class=s2>&quot;cube&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="152 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="153 "></span>            <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>,</span>
<span class=linenos data-linenos="154 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="155 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_traces</span><span class=p>(</span>
<span class=linenos data-linenos="156 "></span>            <span class=n>contours_z</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="157 "></span>                <span class=n>show</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>usecolormap</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>highlightcolor</span><span class=o>=</span><span class=s2>&quot;limegreen&quot;</span><span class=p>,</span> <span class=n>project_z</span><span class=o>=</span><span class=kc>True</span>
<span class=linenos data-linenos="158 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="159 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="160 "></span>        <span class=k>return</span> <span class=n>fig</span>
<span class=linenos data-linenos="161 "></span>
<span class=linenos data-linenos="162 "></span>    <span class=k>def</span> <span class=nf>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="163 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="164 "></span>        <span class=n>x</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="165 "></span>        <span class=n>y</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="166 "></span>        <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="167 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the XES figure.</span>
<span class=linenos data-linenos="169 "></span>
<span class=linenos data-linenos="170 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="171 "></span><span class=sd>            x (NDArray[np.float64]): X-axis of the figure.</span>
<span class=linenos data-linenos="172 "></span><span class=sd>            y (NDArray[np.float64]): Y-axis of the figure.</span>
<span class=linenos data-linenos="173 "></span><span class=sd>            template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="176 "></span><span class=sd>            go.Figure: XES figure.</span>
<span class=linenos data-linenos="177 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="178 "></span>        <span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>)</span>
<span class=linenos data-linenos="179 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="180 "></span>            <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="181 "></span>            <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xes_width</span><span class=p>,</span>
<span class=linenos data-linenos="182 "></span>            <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xes_height</span><span class=p>,</span>
<span class=linenos data-linenos="183 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="184 "></span>        <span class=c1># Udate the xaxis title</span>
<span class=linenos data-linenos="185 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
<span class=linenos data-linenos="186 "></span>            <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="187 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="188 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="189 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="190 "></span>        <span class=c1># Update the yaxis title</span>
<span class=linenos data-linenos="191 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
<span class=linenos data-linenos="192 "></span>            <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="193 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="194 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="195 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="196 "></span>        <span class=k>return</span> <span class=n>fig</span>
<span class=linenos data-linenos="197 "></span>
<span class=linenos data-linenos="198 "></span>    <span class=k>def</span> <span class=nf>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="199 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="200 "></span>        <span class=n>x</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="201 "></span>        <span class=n>y</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="202 "></span>        <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="203 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="204 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the XAS figure.</span>
<span class=linenos data-linenos="205 "></span>
<span class=linenos data-linenos="206 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="207 "></span><span class=sd>            x (NDArray[np.float64]): X-axis of the figure.</span>
<span class=linenos data-linenos="208 "></span><span class=sd>            y (NDArray[np.float64]): Y-axis of the figure.</span>
<span class=linenos data-linenos="209 "></span><span class=sd>            template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="210 "></span>
<span class=linenos data-linenos="211 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="212 "></span><span class=sd>            go.Figure: XAS figure.</span>
<span class=linenos data-linenos="213 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="214 "></span>        <span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>)</span>
<span class=linenos data-linenos="215 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="216 "></span>            <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="217 "></span>            <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xas_width</span><span class=p>,</span>
<span class=linenos data-linenos="218 "></span>            <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xas_height</span><span class=p>,</span>
<span class=linenos data-linenos="219 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="220 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
<span class=linenos data-linenos="221 "></span>            <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="222 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="223 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="224 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="225 "></span>        <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
<span class=linenos data-linenos="226 "></span>            <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="227 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="228 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="229 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="230 "></span>        <span class=k>return</span> <span class=n>fig</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSFigure.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>incident_energy</span><span class=p>,</span> <span class=n>emission_energy</span><span class=p>,</span> <span class=n>rixs_map</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=n>SizeRatioAPI</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span> <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>)),</span> <span class=n>x_axis</span><span class=o>=</span><span class=n>XAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;Incident Energy&#39;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;eV&#39;</span><span class=p>),</span> <span class=n>y_axis</span><span class=o>=</span><span class=n>YAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;Emission Energy&#39;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;eV&#39;</span><span class=p>),</span> <span class=n>z_axis</span><span class=o>=</span><span class=n>ZAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;Intensity&#39;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;a.u.&#39;</span><span class=p>))</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.__init__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Initialize the RIXS figure.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>incident_energy</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Incident energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>emission_energy</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Emission energy.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rixs_map</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>RIXS data as a 2D array.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>size</code></td> <td> <code><span title=spectrafit.api.rixs_model.SizeRatioAPI>SizeRatioAPI</span></code> </td> <td> <div class=doc-md-description> <p>Size of the figure. Defaults to SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2), ratio_xes=(3, 1), ratio_xas=(3, 1)).</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.SizeRatioAPI>SizeRatioAPI</span>(size=(500, 500), ratio_rixs=(2, 2), ratio_xes=(3, 1), ratio_xas=(3, 1))</code> </td> </tr> <tr> <td><code>x_axis</code></td> <td> <code><span title=spectrafit.api.rixs_model.XAxisAPI>XAxisAPI</span></code> </td> <td> <div class=doc-md-description> <p>X-Axis of the figure. Defaults to XAxisAPI(name="Incident Energy", unit="eV").</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.XAxisAPI>XAxisAPI</span>(name=&#39;Incident Energy&#39;, unit=&#39;eV&#39;)</code> </td> </tr> <tr> <td><code>y_axis</code></td> <td> <code><span title=spectrafit.api.rixs_model.YAxisAPI>YAxisAPI</span></code> </td> <td> <div class=doc-md-description> <p>Y-Axis of the figure. Defaults to YAxisAPI(name="Emission Energy", unit="eV").</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.YAxisAPI>YAxisAPI</span>(name=&#39;Emission Energy&#39;, unit=&#39;eV&#39;)</code> </td> </tr> <tr> <td><code>z_axis</code></td> <td> <code><span title=spectrafit.api.rixs_model.ZAxisAPI>ZAxisAPI</span></code> </td> <td> <div class=doc-md-description> <p>Z-Axis of the figure. Defaults to ZAxisAPI(name="Intensity", unit="a.u.").</p> </div> </td> <td> <code><span title=spectrafit.api.rixs_model.ZAxisAPI>ZAxisAPI</span>(name=&#39;Intensity&#39;, unit=&#39;a.u.&#39;)</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="50 "></span><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="51 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="52 "></span>    <span class=n>incident_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="53 "></span>    <span class=n>emission_energy</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="54 "></span>    <span class=n>rixs_map</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="55 "></span>    <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span> <span class=o>=</span> <span class=n>SizeRatioAPI</span><span class=p>(</span>
<span class=linenos data-linenos="56 "></span>        <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>
<span class=linenos data-linenos="57 "></span>        <span class=n>ratio_rixs</span><span class=o>=</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
<span class=linenos data-linenos="58 "></span>        <span class=n>ratio_xes</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="59 "></span>        <span class=n>ratio_xas</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<span class=linenos data-linenos="60 "></span>    <span class=p>),</span>
<span class=linenos data-linenos="61 "></span>    <span class=n>x_axis</span><span class=p>:</span> <span class=n>XAxisAPI</span> <span class=o>=</span> <span class=n>XAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Incident Energy&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;eV&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="62 "></span>    <span class=n>y_axis</span><span class=p>:</span> <span class=n>YAxisAPI</span> <span class=o>=</span> <span class=n>YAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Emission Energy&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;eV&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="63 "></span>    <span class=n>z_axis</span><span class=p>:</span> <span class=n>ZAxisAPI</span> <span class=o>=</span> <span class=n>ZAxisAPI</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Intensity&quot;</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=s2>&quot;a.u.&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="64 "></span><span class=p>):</span>
<span class=linenos data-linenos="65 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the RIXS figure.</span>
<span class=linenos data-linenos="66 "></span>
<span class=linenos data-linenos="67 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="68 "></span><span class=sd>        incident_energy (NDArray[np.float64]): Incident energy.</span>
<span class=linenos data-linenos="69 "></span><span class=sd>        emission_energy (NDArray[np.float64]): Emission energy.</span>
<span class=linenos data-linenos="70 "></span><span class=sd>        rixs_map (NDArray[np.float64]): RIXS data as a 2D array.</span>
<span class=linenos data-linenos="71 "></span><span class=sd>        size (SizeRatioAPI, optional): Size of the figure.</span>
<span class=linenos data-linenos="72 "></span><span class=sd>             Defaults to SizeRatioAPI(size=(500, 500), ratio_rixs=(2, 2),</span>
<span class=linenos data-linenos="73 "></span><span class=sd>             ratio_xes=(3, 1), ratio_xas=(3, 1)).</span>
<span class=linenos data-linenos="74 "></span><span class=sd>        x_axis (XAxisAPI, optional): X-Axis of the figure.</span>
<span class=linenos data-linenos="75 "></span><span class=sd>             Defaults to XAxisAPI(name=&quot;Incident Energy&quot;, unit=&quot;eV&quot;).</span>
<span class=linenos data-linenos="76 "></span><span class=sd>        y_axis (YAxisAPI, optional): Y-Axis of the figure.</span>
<span class=linenos data-linenos="77 "></span><span class=sd>             Defaults to YAxisAPI(name=&quot;Emission Energy&quot;, unit=&quot;eV&quot;).</span>
<span class=linenos data-linenos="78 "></span><span class=sd>        z_axis (ZAxisAPI, optional): Z-Axis of the figure.</span>
<span class=linenos data-linenos="79 "></span><span class=sd>             Defaults to ZAxisAPI(name=&quot;Intensity&quot;, unit=&quot;a.u.&quot;).</span>
<span class=linenos data-linenos="80 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="81 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span> <span class=o>=</span> <span class=n>incident_energy</span>
<span class=linenos data-linenos="82 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span> <span class=o>=</span> <span class=n>emission_energy</span>
<span class=linenos data-linenos="83 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span> <span class=o>=</span> <span class=n>rixs_map</span>
<span class=linenos data-linenos="84 "></span>
<span class=linenos data-linenos="85 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span> <span class=o>=</span> <span class=n>x_axis</span>
<span class=linenos data-linenos="86 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span> <span class=o>=</span> <span class=n>y_axis</span>
<span class=linenos data-linenos="87 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span> <span class=o>=</span> <span class=n>z_axis</span>
<span class=linenos data-linenos="88 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>initialize_figure_size</span><span class=p>(</span><span class=n>size</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSFigure.create_rixs class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_rixs</span><span class=p>(</span><span class=n>colorscale</span><span class=o>=</span><span class=s1>&#39;Viridis&#39;</span><span class=p>,</span> <span class=n>opacity</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_rixs class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the RIXS figure.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>colorscale</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Color scale. Defaults to "Viridis".</p> </div> </td> <td> <code>&#39;Viridis&#39;</code> </td> </tr> <tr> <td><code>opacity</code></td> <td> <code>float</code> </td> <td> <div class=doc-md-description> <p>Opacity of the surface. Defaults to 0.9.</p> </div> </td> <td> <code>0.9</code> </td> </tr> <tr> <td><code>template</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Template of the figure. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=plotly>go</span>.<span title=plotly.Figure>Figure</span></code> </td> <td> <div class=doc-md-description> <p>go.Figure: RIXS figure.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="103 "></span><span class=k>def</span> <span class=nf>create_rixs</span><span class=p>(</span>
<span class=linenos data-linenos="104 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="105 "></span>    <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;Viridis&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="106 "></span>    <span class=n>opacity</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.9</span><span class=p>,</span>
<span class=linenos data-linenos="107 "></span>    <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="108 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="109 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the RIXS figure.</span>
<span class=linenos data-linenos="110 "></span>
<span class=linenos data-linenos="111 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="112 "></span><span class=sd>        colorscale (str, optional): Color scale. Defaults to &quot;Viridis&quot;.</span>
<span class=linenos data-linenos="113 "></span><span class=sd>        opacity (float, optional): Opacity of the surface. Defaults to 0.9.</span>
<span class=linenos data-linenos="114 "></span><span class=sd>        template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="115 "></span>
<span class=linenos data-linenos="116 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="117 "></span><span class=sd>        go.Figure: RIXS figure.</span>
<span class=linenos data-linenos="118 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="119 "></span>    <span class=n>fig</span> <span class=o>=</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>(</span>
<span class=linenos data-linenos="120 "></span>        <span class=n>data</span><span class=o>=</span><span class=p>[</span>
<span class=linenos data-linenos="121 "></span>            <span class=n>go</span><span class=o>.</span><span class=n>Surface</span><span class=p>(</span>
<span class=linenos data-linenos="122 "></span>                <span class=n>x</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>incident_energy</span><span class=p>,</span>
<span class=linenos data-linenos="123 "></span>                <span class=n>y</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>emission_energy</span><span class=p>,</span>
<span class=linenos data-linenos="124 "></span>                <span class=n>z</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_map</span><span class=p>,</span>
<span class=linenos data-linenos="125 "></span>                <span class=n>colorscale</span><span class=o>=</span><span class=n>colorscale</span><span class=p>,</span>
<span class=linenos data-linenos="126 "></span>                <span class=n>opacity</span><span class=o>=</span><span class=n>opacity</span><span class=p>,</span>
<span class=linenos data-linenos="127 "></span>                <span class=n>contours_z</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="128 "></span>                    <span class=n>show</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="129 "></span>                    <span class=n>usecolormap</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="130 "></span>                    <span class=n>highlightcolor</span><span class=o>=</span><span class=s2>&quot;limegreen&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="131 "></span>                    <span class=n>project_z</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="132 "></span>                <span class=p>),</span>
<span class=linenos data-linenos="133 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="134 "></span>        <span class=p>],</span>
<span class=linenos data-linenos="135 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="136 "></span>
<span class=linenos data-linenos="137 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="138 "></span>        <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="139 "></span>        <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_width</span><span class=p>,</span>
<span class=linenos data-linenos="140 "></span>        <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>rixs_height</span><span class=p>,</span>
<span class=linenos data-linenos="141 "></span>        <span class=n>scene</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="142 "></span>            <span class=n>xaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="143 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="144 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="145 "></span>            <span class=n>yaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="146 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="147 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="148 "></span>            <span class=n>zaxis_title</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="149 "></span>                <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="150 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="151 "></span>            <span class=n>aspectmode</span><span class=o>=</span><span class=s2>&quot;cube&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="152 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="153 "></span>        <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>,</span>
<span class=linenos data-linenos="154 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="155 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_traces</span><span class=p>(</span>
<span class=linenos data-linenos="156 "></span>        <span class=n>contours_z</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
<span class=linenos data-linenos="157 "></span>            <span class=n>show</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>usecolormap</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>highlightcolor</span><span class=o>=</span><span class=s2>&quot;limegreen&quot;</span><span class=p>,</span> <span class=n>project_z</span><span class=o>=</span><span class=kc>True</span>
<span class=linenos data-linenos="158 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="159 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="160 "></span>    <span class=k>return</span> <span class=n>fig</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xas class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_xas</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xas class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the XAS figure.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>x</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>X-axis of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>y</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Y-axis of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>template</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Template of the figure. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=plotly>go</span>.<span title=plotly.Figure>Figure</span></code> </td> <td> <div class=doc-md-description> <p>go.Figure: XAS figure.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="198 "></span><span class=k>def</span> <span class=nf>create_xas</span><span class=p>(</span>
<span class=linenos data-linenos="199 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="200 "></span>    <span class=n>x</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="201 "></span>    <span class=n>y</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="202 "></span>    <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="203 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="204 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the XAS figure.</span>
<span class=linenos data-linenos="205 "></span>
<span class=linenos data-linenos="206 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="207 "></span><span class=sd>        x (NDArray[np.float64]): X-axis of the figure.</span>
<span class=linenos data-linenos="208 "></span><span class=sd>        y (NDArray[np.float64]): Y-axis of the figure.</span>
<span class=linenos data-linenos="209 "></span><span class=sd>        template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="210 "></span>
<span class=linenos data-linenos="211 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="212 "></span><span class=sd>        go.Figure: XAS figure.</span>
<span class=linenos data-linenos="213 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="214 "></span>    <span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>)</span>
<span class=linenos data-linenos="215 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="216 "></span>        <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="217 "></span>        <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xas_width</span><span class=p>,</span>
<span class=linenos data-linenos="218 "></span>        <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xas_height</span><span class=p>,</span>
<span class=linenos data-linenos="219 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="220 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
<span class=linenos data-linenos="221 "></span>        <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="222 "></span>            <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>x_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="223 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="224 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="225 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
<span class=linenos data-linenos="226 "></span>        <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="227 "></span>            <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="228 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="229 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="230 "></span>    <span class=k>return</span> <span class=n>fig</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xes class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_xes</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.create_xes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the XES figure.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>x</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>X-axis of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>y</code></td> <td> <code><span title=numpy.typing.NDArray>NDArray</span>[<span title=numpy>np</span>.<span title=numpy.float64>float64</span>]</code> </td> <td> <div class=doc-md-description> <p>Y-axis of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>template</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>Template of the figure. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=plotly>go</span>.<span title=plotly.Figure>Figure</span></code> </td> <td> <div class=doc-md-description> <p>go.Figure: XES figure.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="162 "></span><span class=k>def</span> <span class=nf>create_xes</span><span class=p>(</span>
<span class=linenos data-linenos="163 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="164 "></span>    <span class=n>x</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="165 "></span>    <span class=n>y</span><span class=p>:</span> <span class=n>NDArray</span><span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>float64</span><span class=p>],</span>
<span class=linenos data-linenos="166 "></span>    <span class=n>template</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=linenos data-linenos="167 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>go</span><span class=o>.</span><span class=n>Figure</span><span class=p>:</span>
<span class=linenos data-linenos="168 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the XES figure.</span>
<span class=linenos data-linenos="169 "></span>
<span class=linenos data-linenos="170 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="171 "></span><span class=sd>        x (NDArray[np.float64]): X-axis of the figure.</span>
<span class=linenos data-linenos="172 "></span><span class=sd>        y (NDArray[np.float64]): Y-axis of the figure.</span>
<span class=linenos data-linenos="173 "></span><span class=sd>        template (str, optional): Template of the figure. Defaults to None.</span>
<span class=linenos data-linenos="174 "></span>
<span class=linenos data-linenos="175 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="176 "></span><span class=sd>        go.Figure: XES figure.</span>
<span class=linenos data-linenos="177 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="178 "></span>    <span class=n>fig</span> <span class=o>=</span> <span class=n>px</span><span class=o>.</span><span class=n>line</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y</span><span class=p>,</span> <span class=n>template</span><span class=o>=</span><span class=n>template</span><span class=p>)</span>
<span class=linenos data-linenos="179 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_layout</span><span class=p>(</span>
<span class=linenos data-linenos="180 "></span>        <span class=n>autosize</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
<span class=linenos data-linenos="181 "></span>        <span class=n>width</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xes_width</span><span class=p>,</span>
<span class=linenos data-linenos="182 "></span>        <span class=n>height</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>xes_height</span><span class=p>,</span>
<span class=linenos data-linenos="183 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="184 "></span>    <span class=c1># Udate the xaxis title</span>
<span class=linenos data-linenos="185 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_xaxes</span><span class=p>(</span>
<span class=linenos data-linenos="186 "></span>        <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="187 "></span>            <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>y_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="188 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="189 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="190 "></span>    <span class=c1># Update the yaxis title</span>
<span class=linenos data-linenos="191 "></span>    <span class=n>fig</span><span class=o>.</span><span class=n>update_yaxes</span><span class=p>(</span>
<span class=linenos data-linenos="192 "></span>        <span class=n>title_text</span><span class=o>=</span><span class=n>DataFramePlot</span><span class=o>.</span><span class=n>title_text</span><span class=p>(</span>
<span class=linenos data-linenos="193 "></span>            <span class=n>name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>unit</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>z_axis</span><span class=o>.</span><span class=n>unit</span>
<span class=linenos data-linenos="194 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="195 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="196 "></span>    <span class=k>return</span> <span class=n>fig</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSFigure.initialize_figure_size class="doc doc-heading"> <code class="highlight language-python"><span class=n>initialize_figure_size</span><span class=p>(</span><span class=n>size</span><span class=p>)</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSFigure.initialize_figure_size class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Initialize the size of the figure.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>size</code></td> <td> <code><span title=spectrafit.api.rixs_model.SizeRatioAPI>SizeRatioAPI</span></code> </td> <td> <div class=doc-md-description> <p>Size of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 90 "></span><span class=k>def</span> <span class=nf>initialize_figure_size</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=n>SizeRatioAPI</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 91 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the size of the figure.</span>
<span class=linenos data-linenos=" 92 "></span>
<span class=linenos data-linenos=" 93 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos=" 94 "></span><span class=sd>        size (SizeRatioAPI): Size of the figure.</span>
<span class=linenos data-linenos=" 95 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 96 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>rixs_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_rixs</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos=" 97 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>rixs_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_rixs</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos=" 98 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>xas_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xas</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos=" 99 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>xas_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xas</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=linenos data-linenos="100 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>xes_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xes</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=linenos data-linenos="101 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>xes_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>size</span><span class=o>.</span><span class=n>size</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>size</span><span class=o>.</span><span class=n>ratio_xes</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.rixs_visualizer.RIXSVisualizer class="doc doc-heading"> <code>RIXSVisualizer</code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>RIXS Visualizer. This class is used to visualize RIXS data.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="597 "></span><span class=k>class</span> <span class=nc>RIXSVisualizer</span><span class=p>:</span>
<span class=linenos data-linenos="598 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;RIXS Visualizer. This class is used to visualize RIXS data.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="599 "></span>
<span class=linenos data-linenos="600 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="601 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="602 "></span>
<span class=linenos data-linenos="603 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="604 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="605 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="606 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="607 "></span>        <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="608 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;`RIXS-Visualizer` is a simple RIXS plane viewer, which &quot;</span>
<span class=linenos data-linenos="609 "></span>            <span class=s2>&quot;allows to visualize RIXS data in a 2D plane.&quot;</span>
<span class=linenos data-linenos="610 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="611 "></span>        <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="612 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="613 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="614 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;The input file. This can be a json, toml, npy, or npz file.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="615 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="616 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos="617 "></span>
<span class=linenos data-linenos="618 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="619 "></span>    <span class=k>def</span> <span class=nf>load_data</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>RIXSModelAPI</span><span class=p>:</span>
<span class=linenos data-linenos="620 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Load the data from the input file.</span>
<span class=linenos data-linenos="621 "></span>
<span class=linenos data-linenos="622 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="623 "></span><span class=sd>            infile (Path): The input file path. This can be a json, toml, npy, or npz</span>
<span class=linenos data-linenos="624 "></span><span class=sd>                file.</span>
<span class=linenos data-linenos="625 "></span>
<span class=linenos data-linenos="626 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="627 "></span><span class=sd>            ValueError: If the file type is not supported.</span>
<span class=linenos data-linenos="628 "></span>
<span class=linenos data-linenos="629 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="630 "></span><span class=sd>            RIXSModelAPI: The data as a pydantic model object with the following</span>
<span class=linenos data-linenos="631 "></span><span class=sd>                attributes: incident_energy, emission_energy, and rixs_map. The</span>
<span class=linenos data-linenos="632 "></span><span class=sd>                incident_energy and emission_energy are 1D arrays, and the rixs_map is</span>
<span class=linenos data-linenos="633 "></span><span class=sd>                a 2D array.</span>
<span class=linenos data-linenos="634 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="635 "></span>        <span class=k>if</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="636 "></span>            <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>item</span><span class=p>()</span>
<span class=linenos data-linenos="637 "></span>        <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="638 "></span>            <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=linenos data-linenos="639 "></span>        <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="640 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="641 "></span>                <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="642 "></span>        <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;.toml&quot;</span><span class=p>,</span> <span class=s2>&quot;.lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="643 "></span>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=s2>&quot;rb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="644 "></span>                <span class=n>data</span> <span class=o>=</span> <span class=n>tomli</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="645 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="646 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File type </span><span class=si>{</span><span class=n>infile</span><span class=o>.</span><span class=n>suffix</span><span class=si>}</span><span class=s2> is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="647 "></span>        <span class=k>return</span> <span class=n>RIXSModelAPI</span><span class=p>(</span>
<span class=linenos data-linenos="648 "></span>            <span class=n>incident_energy</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;incident_energy&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="649 "></span>            <span class=n>emission_energy</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;emission_energy&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="650 "></span>            <span class=n>rixs_map</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;rixs_map&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="651 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="652 "></span>
<span class=linenos data-linenos="653 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
<span class=linenos data-linenos="654 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Run the RIXS Visualizer.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="655 "></span>        <span class=n>app</span> <span class=o>=</span> <span class=n>RIXSApp</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>load_data</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()[</span><span class=s2>&quot;infile&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>dict</span><span class=p>())</span>
<span class=linenos data-linenos="656 "></span>        <span class=n>app</span><span class=o>.</span><span class=n>app_run</span><span class=p>()</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSVisualizer.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Run the RIXS Visualizer.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="653 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
<span class=linenos data-linenos="654 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the RIXS Visualizer.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="655 "></span>    <span class=n>app</span> <span class=o>=</span> <span class=n>RIXSApp</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>load_data</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()[</span><span class=s2>&quot;infile&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>dict</span><span class=p>())</span>
<span class=linenos data-linenos="656 "></span>    <span class=n>app</span><span class=o>.</span><span class=n>app_run</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSVisualizer.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="600 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="601 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="602 "></span>
<span class=linenos data-linenos="603 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="604 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="605 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="606 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="607 "></span>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="608 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;`RIXS-Visualizer` is a simple RIXS plane viewer, which &quot;</span>
<span class=linenos data-linenos="609 "></span>        <span class=s2>&quot;allows to visualize RIXS data in a 2D plane.&quot;</span>
<span class=linenos data-linenos="610 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="611 "></span>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="612 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="613 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="614 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;The input file. This can be a json, toml, npy, or npz file.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="615 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="616 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.rixs_visualizer.RIXSVisualizer.load_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>load_data</span><span class=p>(</span><span class=n>infile</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.rixs_visualizer.RIXSVisualizer.load_data class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Load the data from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file path. This can be a json, toml, npy, or npz file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the file type is not supported.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>RIXSModelAPI</code></td> <td> <code><span title=spectrafit.api.rixs_model.RIXSModelAPI>RIXSModelAPI</span></code> </td> <td> <div class=doc-md-description> <p>The data as a pydantic model object with the following attributes: incident_energy, emission_energy, and rixs_map. The incident_energy and emission_energy are 1D arrays, and the rixs_map is a 2D array.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="618 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="619 "></span><span class=k>def</span> <span class=nf>load_data</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>RIXSModelAPI</span><span class=p>:</span>
<span class=linenos data-linenos="620 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Load the data from the input file.</span>
<span class=linenos data-linenos="621 "></span>
<span class=linenos data-linenos="622 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="623 "></span><span class=sd>        infile (Path): The input file path. This can be a json, toml, npy, or npz</span>
<span class=linenos data-linenos="624 "></span><span class=sd>            file.</span>
<span class=linenos data-linenos="625 "></span>
<span class=linenos data-linenos="626 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="627 "></span><span class=sd>        ValueError: If the file type is not supported.</span>
<span class=linenos data-linenos="628 "></span>
<span class=linenos data-linenos="629 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="630 "></span><span class=sd>        RIXSModelAPI: The data as a pydantic model object with the following</span>
<span class=linenos data-linenos="631 "></span><span class=sd>            attributes: incident_energy, emission_energy, and rixs_map. The</span>
<span class=linenos data-linenos="632 "></span><span class=sd>            incident_energy and emission_energy are 1D arrays, and the rixs_map is</span>
<span class=linenos data-linenos="633 "></span><span class=sd>            a 2D array.</span>
<span class=linenos data-linenos="634 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="635 "></span>    <span class=k>if</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.npy&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="636 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>item</span><span class=p>()</span>
<span class=linenos data-linenos="637 "></span>    <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.npz&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="638 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>allow_pickle</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=linenos data-linenos="639 "></span>    <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>==</span> <span class=s2>&quot;.json&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="640 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="641 "></span>            <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="642 "></span>    <span class=k>elif</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=ow>in</span> <span class=p>{</span><span class=s2>&quot;.toml&quot;</span><span class=p>,</span> <span class=s2>&quot;.lock&quot;</span><span class=p>}:</span>
<span class=linenos data-linenos="643 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=s2>&quot;rb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="644 "></span>            <span class=n>data</span> <span class=o>=</span> <span class=n>tomli</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<span class=linenos data-linenos="645 "></span>    <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="646 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File type </span><span class=si>{</span><span class=n>infile</span><span class=o>.</span><span class=n>suffix</span><span class=si>}</span><span class=s2> is not supported.&quot;</span><span class=p>)</span>
<span class=linenos data-linenos="647 "></span>    <span class=k>return</span> <span class=n>RIXSModelAPI</span><span class=p>(</span>
<span class=linenos data-linenos="648 "></span>        <span class=n>incident_energy</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;incident_energy&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="649 "></span>        <span class=n>emission_energy</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;emission_energy&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="650 "></span>        <span class=n>rixs_map</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;rixs_map&quot;</span><span class=p>]),</span>
<span class=linenos data-linenos="651 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.rixs_visualizer.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.rixs_visualizer.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Run the RIXS Visualizer from the command line.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/rixs_visualizer.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="659 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="660 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the RIXS Visualizer from the command line.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="661 "></span>    <span class=n>RIXSVisualizer</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div><h3 id=pptx-converter-for-powerpoint-files>PPTX Converter for PowerPoint files<a class=headerlink href=#pptx-converter-for-powerpoint-files title="Permanent link">&para;</a></h3> <div class="admonition warning"> <p class=admonition-title>About the PPTX Converter</p> <p>The <code>PPTXConverter</code> class is a work in progress and is subject to change. Especially, the layout of the PowerPoint file is not yet finalized.</p> </div> <div class="doc doc-object doc-module"> <a id=spectrafit.plugins.pptx_converter></a> <div class="doc doc-contents first"> <p>Convert the lock file to a powerpoint presentation.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pptx_converter.PPTXConverter class="doc doc-heading"> <code>PPTXConverter</code> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.converter.Converter href=#spectrafit.plugins.converter.Converter>Converter</a></code></p> <p>Generate a powerpoint presentation from a the spectrafit output.</p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>pixel_size</code></td> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Dict>Dict</span>[str, int]]</code> </td> <td> <div class=doc-md-description> <p>The pixel size of the powerpoint presentation.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="340 "></span><span class=k>class</span> <span class=nc>PPTXConverter</span><span class=p>(</span><span class=n>Converter</span><span class=p>):</span>
<span class=linenos data-linenos="341 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a powerpoint presentation from a the spectrafit output.</span>
<span class=linenos data-linenos="342 "></span>
<span class=linenos data-linenos="343 "></span><span class=sd>    Attributes:</span>
<span class=linenos data-linenos="344 "></span><span class=sd>        pixel_size (Dict[str, Dict[str, int]]): The pixel size of the powerpoint</span>
<span class=linenos data-linenos="345 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="346 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="347 "></span>
<span class=linenos data-linenos="348 "></span>    <span class=n>pixel_size</span> <span class=o>=</span> <span class=n>PPTXLayoutAPI</span><span class=o>.</span><span class=n>pptx_formats</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
<span class=linenos data-linenos="349 "></span>
<span class=linenos data-linenos="350 "></span>    <span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="351 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="352 "></span>
<span class=linenos data-linenos="353 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="354 "></span><span class=sd>            Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="355 "></span><span class=sd>                additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="356 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="357 "></span>        <span class=n>parse</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="358 "></span>            <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from *.lock output to a &quot;</span>
<span class=linenos data-linenos="359 "></span>            <span class=s2>&quot;PowerPoint presentation.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="360 "></span>            <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="361 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="362 "></span>        <span class=n>parse</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="363 "></span>            <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="364 "></span>            <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="365 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the *.lock file to convert to a powerpoint presentation.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="366 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="367 "></span>        <span class=n>parse</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="368 "></span>            <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="369 "></span>            <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="370 "></span>            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format of the PowerPoint presentation. Default is &#39;16:9&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="371 "></span>            <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="372 "></span>            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;16:9&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="373 "></span>            <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pixel_size</span><span class=p>,</span>
<span class=linenos data-linenos="374 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="375 "></span>        <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parse</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
<span class=linenos data-linenos="376 "></span>
<span class=linenos data-linenos="377 "></span>    <span class=nd>@staticmethod</span>
<span class=linenos data-linenos="378 "></span>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="379 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the lock file to a powerpoint presentation.</span>
<span class=linenos data-linenos="380 "></span>
<span class=linenos data-linenos="381 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="382 "></span><span class=sd>            infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos="383 "></span><span class=sd>            file_format (str): The powerpoint presentation file format.</span>
<span class=linenos data-linenos="384 "></span>
<span class=linenos data-linenos="385 "></span><span class=sd>        Raises:</span>
<span class=linenos data-linenos="386 "></span><span class=sd>            ValueError: If the file format is not supported.</span>
<span class=linenos data-linenos="387 "></span><span class=sd>            ValueError: If the input file is not a `*.lock` file.</span>
<span class=linenos data-linenos="388 "></span>
<span class=linenos data-linenos="389 "></span><span class=sd>        Returns:</span>
<span class=linenos data-linenos="390 "></span><span class=sd>            MutableMapping[str, Any]: The converted file as a dictionary.</span>
<span class=linenos data-linenos="391 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="392 "></span>        <span class=k>if</span> <span class=n>file_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>PPTXConverter</span><span class=o>.</span><span class=n>pixel_size</span><span class=p>:</span>
<span class=linenos data-linenos="393 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="394 "></span>                <span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported;&quot;</span>
<span class=linenos data-linenos="395 "></span>                <span class=sa>f</span><span class=s2>&quot;it must be one of </span><span class=si>{</span><span class=n>PPTXConverter</span><span class=o>.</span><span class=n>pixel_size</span><span class=si>}</span><span class=s2>&quot;</span>
<span class=linenos data-linenos="396 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="397 "></span>
<span class=linenos data-linenos="398 "></span>        <span class=k>if</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>!=</span> <span class=s2>&quot;.lock&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="399 "></span>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="400 "></span>                <span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>infile</span><span class=o>.</span><span class=n>suffix</span><span class=si>}</span><span class=s2>&#39; is not supported; it must be &#39;.lock&#39;&quot;</span>
<span class=linenos data-linenos="401 "></span>            <span class=p>)</span>
<span class=linenos data-linenos="402 "></span>
<span class=linenos data-linenos="403 "></span>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=s2>&quot;rb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="404 "></span>            <span class=n>data</span> <span class=o>=</span> <span class=n>PPTXDataAPI</span><span class=p>(</span><span class=o>**</span><span class=n>tomli</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>
<span class=linenos data-linenos="405 "></span>
<span class=linenos data-linenos="406 "></span>        <span class=k>return</span> <span class=p>{</span><span class=n>file_format</span><span class=p>:</span> <span class=n>data</span><span class=p>}</span>
<span class=linenos data-linenos="407 "></span>
<span class=linenos data-linenos="408 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="409 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="410 "></span>        <span class=n>pptx_layout</span> <span class=o>=</span> <span class=n>PPTXLayoutAPI</span><span class=p>(</span>
<span class=linenos data-linenos="411 "></span>            <span class=n>export_format</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>export_format</span><span class=p>]</span>
<span class=linenos data-linenos="412 "></span>        <span class=p>)</span><span class=o>.</span><span class=n>get_pptx_layout</span><span class=p>()</span>
<span class=linenos data-linenos="413 "></span>
<span class=linenos data-linenos="414 "></span>        <span class=n>PPTXLayout</span><span class=p>(</span>
<span class=linenos data-linenos="415 "></span>            <span class=n>ratio</span><span class=o>=</span><span class=n>pptx_layout</span><span class=o>.</span><span class=n>ratio</span><span class=p>,</span>
<span class=linenos data-linenos="416 "></span>            <span class=n>structure</span><span class=o>=</span><span class=n>pptx_layout</span><span class=o>.</span><span class=n>structure</span><span class=p>,</span>
<span class=linenos data-linenos="417 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>fname</span><span class=o>.</span><span class=n>stem</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>export_format</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;_&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>.pptx&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="418 "></span>        <span class=p>)()</span>
<span class=linenos data-linenos="419 "></span>
<span class=linenos data-linenos="420 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="421 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert the lock file to a powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="422 "></span>        <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="423 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
<span class=linenos data-linenos="424 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXConverter.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the lock file to a powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="420 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="421 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the lock file to a powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="422 "></span>    <span class=n>args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_args</span><span class=p>()</span>
<span class=linenos data-linenos="423 "></span>    <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
<span class=linenos data-linenos="424 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;infile&quot;</span><span class=p>],</span> <span class=n>args</span><span class=p>[</span><span class=s2>&quot;file_format&quot;</span><span class=p>])</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXConverter.convert class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=n>file_format</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.convert class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Convert the lock file to a powerpoint presentation.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>infile</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The input file of the as a path object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>file_format</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The powerpoint presentation file format.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the file format is not supported.</p> </div> </td> </tr> <tr> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the input file is not a <code>*.lock</code> file.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.MutableMapping>MutableMapping</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>MutableMapping[str, Any]: The converted file as a dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="377 "></span><span class=nd>@staticmethod</span>
<span class=linenos data-linenos="378 "></span><span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>infile</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>file_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MutableMapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="379 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert the lock file to a powerpoint presentation.</span>
<span class=linenos data-linenos="380 "></span>
<span class=linenos data-linenos="381 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="382 "></span><span class=sd>        infile (Path): The input file of the as a path object.</span>
<span class=linenos data-linenos="383 "></span><span class=sd>        file_format (str): The powerpoint presentation file format.</span>
<span class=linenos data-linenos="384 "></span>
<span class=linenos data-linenos="385 "></span><span class=sd>    Raises:</span>
<span class=linenos data-linenos="386 "></span><span class=sd>        ValueError: If the file format is not supported.</span>
<span class=linenos data-linenos="387 "></span><span class=sd>        ValueError: If the input file is not a `*.lock` file.</span>
<span class=linenos data-linenos="388 "></span>
<span class=linenos data-linenos="389 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="390 "></span><span class=sd>        MutableMapping[str, Any]: The converted file as a dictionary.</span>
<span class=linenos data-linenos="391 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="392 "></span>    <span class=k>if</span> <span class=n>file_format</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>PPTXConverter</span><span class=o>.</span><span class=n>pixel_size</span><span class=p>:</span>
<span class=linenos data-linenos="393 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="394 "></span>            <span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>file_format</span><span class=si>}</span><span class=s2>&#39; is not supported;&quot;</span>
<span class=linenos data-linenos="395 "></span>            <span class=sa>f</span><span class=s2>&quot;it must be one of </span><span class=si>{</span><span class=n>PPTXConverter</span><span class=o>.</span><span class=n>pixel_size</span><span class=si>}</span><span class=s2>&quot;</span>
<span class=linenos data-linenos="396 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="397 "></span>
<span class=linenos data-linenos="398 "></span>    <span class=k>if</span> <span class=n>infile</span><span class=o>.</span><span class=n>suffix</span> <span class=o>!=</span> <span class=s2>&quot;.lock&quot;</span><span class=p>:</span>
<span class=linenos data-linenos="399 "></span>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<span class=linenos data-linenos="400 "></span>            <span class=sa>f</span><span class=s2>&quot;File format &#39;</span><span class=si>{</span><span class=n>infile</span><span class=o>.</span><span class=n>suffix</span><span class=si>}</span><span class=s2>&#39; is not supported; it must be &#39;.lock&#39;&quot;</span>
<span class=linenos data-linenos="401 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="402 "></span>
<span class=linenos data-linenos="403 "></span>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>infile</span><span class=p>,</span> <span class=s2>&quot;rb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<span class=linenos data-linenos="404 "></span>        <span class=n>data</span> <span class=o>=</span> <span class=n>PPTXDataAPI</span><span class=p>(</span><span class=o>**</span><span class=n>tomli</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>
<span class=linenos data-linenos="405 "></span>
<span class=linenos data-linenos="406 "></span>    <span class=k>return</span> <span class=p>{</span><span class=n>file_format</span><span class=p>:</span> <span class=n>data</span><span class=p>}</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXConverter.get_args class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_args</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.get_args class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Get the arguments from the command line.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=typing.Dict>Dict</span>[str, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Return the input file arguments as a dictionary without additional information beyond the command line arguments.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="350 "></span><span class=k>def</span> <span class=nf>get_args</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<span class=linenos data-linenos="351 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the arguments from the command line.</span>
<span class=linenos data-linenos="352 "></span>
<span class=linenos data-linenos="353 "></span><span class=sd>    Returns:</span>
<span class=linenos data-linenos="354 "></span><span class=sd>        Dict[str, Any]: Return the input file arguments as a dictionary without</span>
<span class=linenos data-linenos="355 "></span><span class=sd>            additional information beyond the command line arguments.</span>
<span class=linenos data-linenos="356 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="357 "></span>    <span class=n>parse</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
<span class=linenos data-linenos="358 "></span>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Converter for &#39;SpectraFit&#39; from *.lock output to a &quot;</span>
<span class=linenos data-linenos="359 "></span>        <span class=s2>&quot;PowerPoint presentation.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="360 "></span>        <span class=n>usage</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%(prog)s</span><span class=s2> [options] infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="361 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="362 "></span>    <span class=n>parse</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="363 "></span>        <span class=s2>&quot;infile&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="364 "></span>        <span class=nb>type</span><span class=o>=</span><span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="365 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Filename of the *.lock file to convert to a powerpoint presentation.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="366 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="367 "></span>    <span class=n>parse</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
<span class=linenos data-linenos="368 "></span>        <span class=s2>&quot;-f&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="369 "></span>        <span class=s2>&quot;--file-format&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="370 "></span>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;File format of the PowerPoint presentation. Default is &#39;16:9&#39;.&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="371 "></span>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="372 "></span>        <span class=n>default</span><span class=o>=</span><span class=s2>&quot;16:9&quot;</span><span class=p>,</span>
<span class=linenos data-linenos="373 "></span>        <span class=n>choices</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pixel_size</span><span class=p>,</span>
<span class=linenos data-linenos="374 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="375 "></span>    <span class=k>return</span> <span class=nb>vars</span><span class=p>(</span><span class=n>parse</span><span class=o>.</span><span class=n>parse_args</span><span class=p>())</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXConverter.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fname</span><span class=p>,</span> <span class=n>export_format</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXConverter.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="408 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>export_format</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="409 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="410 "></span>    <span class=n>pptx_layout</span> <span class=o>=</span> <span class=n>PPTXLayoutAPI</span><span class=p>(</span>
<span class=linenos data-linenos="411 "></span>        <span class=n>export_format</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=n>export_format</span><span class=p>]</span>
<span class=linenos data-linenos="412 "></span>    <span class=p>)</span><span class=o>.</span><span class=n>get_pptx_layout</span><span class=p>()</span>
<span class=linenos data-linenos="413 "></span>
<span class=linenos data-linenos="414 "></span>    <span class=n>PPTXLayout</span><span class=p>(</span>
<span class=linenos data-linenos="415 "></span>        <span class=n>ratio</span><span class=o>=</span><span class=n>pptx_layout</span><span class=o>.</span><span class=n>ratio</span><span class=p>,</span>
<span class=linenos data-linenos="416 "></span>        <span class=n>structure</span><span class=o>=</span><span class=n>pptx_layout</span><span class=o>.</span><span class=n>structure</span><span class=p>,</span>
<span class=linenos data-linenos="417 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>fname</span><span class=o>.</span><span class=n>stem</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>export_format</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;_&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>.pptx&quot;</span><span class=p>),</span>
<span class=linenos data-linenos="418 "></span>    <span class=p>)()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pptx_converter.PPTXElements class="doc doc-heading"> <code>PPTXElements</code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Generate a powerpoint presentation from a the spectrafit output.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 23 "></span><span class=k>class</span> <span class=nc>PPTXElements</span><span class=p>:</span>
<span class=linenos data-linenos=" 24 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a powerpoint presentation from a the spectrafit output.&quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 25 "></span>
<span class=linenos data-linenos=" 26 "></span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>slide</span><span class=p>:</span> <span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 27 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a powerpoint presentation from a the spectrafit output.</span>
<span class=linenos data-linenos=" 28 "></span>
<span class=linenos data-linenos=" 29 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 30 "></span><span class=sd>            slide (type): The slide of the powerpoint presentation.</span>
<span class=linenos data-linenos=" 31 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 32 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>slide</span> <span class=o>=</span> <span class=n>slide</span>
<span class=linenos data-linenos=" 33 "></span>
<span class=linenos data-linenos=" 34 "></span>    <span class=k>def</span> <span class=nf>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos=" 35 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos=" 36 "></span>        <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 37 "></span>        <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 38 "></span>        <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>
<span class=linenos data-linenos=" 39 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 40 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a textbox from the input file.</span>
<span class=linenos data-linenos=" 41 "></span>
<span class=linenos data-linenos=" 42 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 43 "></span><span class=sd>            text (str): The text of the textbox.</span>
<span class=linenos data-linenos=" 44 "></span><span class=sd>            position (PPTXPositionAPI): The position of the textbox in the powerpoint</span>
<span class=linenos data-linenos=" 45 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos=" 46 "></span><span class=sd>            font_size (Pt): The font size of the textbox. Defaults to Pt(16).</span>
<span class=linenos data-linenos=" 47 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 48 "></span>        <span class=n>tx_box</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_textbox</span><span class=p>(</span>
<span class=linenos data-linenos=" 49 "></span>            <span class=n>left</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos=" 50 "></span>            <span class=n>top</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos=" 51 "></span>            <span class=n>width</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos=" 52 "></span>            <span class=n>height</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos=" 53 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 54 "></span>
<span class=linenos data-linenos=" 55 "></span>        <span class=n>tf</span> <span class=o>=</span> <span class=n>tx_box</span><span class=o>.</span><span class=n>text_frame</span>
<span class=linenos data-linenos=" 56 "></span>        <span class=n>tf</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos=" 57 "></span>        <span class=n>tf</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=n>font_size</span>
<span class=linenos data-linenos=" 58 "></span>
<span class=linenos data-linenos=" 59 "></span>    <span class=k>def</span> <span class=nf>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos=" 60 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos=" 61 "></span>        <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos=" 62 "></span>        <span class=n>position_figure</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 63 "></span>        <span class=n>position_textbox</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 64 "></span>        <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 65 "></span>        <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span><span class=p>,</span>
<span class=linenos data-linenos=" 66 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos=" 67 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a figure from the input file.</span>
<span class=linenos data-linenos=" 68 "></span>
<span class=linenos data-linenos=" 69 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos=" 70 "></span><span class=sd>            fname (Path): The temporay filename of the figure.</span>
<span class=linenos data-linenos=" 71 "></span><span class=sd>            position_figure (PPTXPositionAPI): The position of the figure in the</span>
<span class=linenos data-linenos=" 72 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos=" 73 "></span><span class=sd>            position_textbox (PPTXPositionAPI): The position of the textbox in the</span>
<span class=linenos data-linenos=" 74 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos=" 75 "></span><span class=sd>            text (str): The text of the textbox.</span>
<span class=linenos data-linenos=" 76 "></span><span class=sd>            font_size (Pt): The font size of the textbox.</span>
<span class=linenos data-linenos=" 77 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos=" 78 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_picture</span><span class=p>(</span>
<span class=linenos data-linenos=" 79 "></span>            <span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=p>),</span>
<span class=linenos data-linenos=" 80 "></span>            <span class=n>left</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos=" 81 "></span>            <span class=n>top</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos=" 82 "></span>            <span class=n>width</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos=" 83 "></span>            <span class=n>height</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos=" 84 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 85 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos=" 86 "></span>            <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos=" 87 "></span>            <span class=n>position</span><span class=o>=</span><span class=n>position_textbox</span><span class=p>,</span>
<span class=linenos data-linenos=" 88 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos=" 89 "></span>        <span class=p>)</span>
<span class=linenos data-linenos=" 90 "></span>
<span class=linenos data-linenos=" 91 "></span>    <span class=k>def</span> <span class=nf>create_table</span><span class=p>(</span>
<span class=linenos data-linenos=" 92 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos=" 93 "></span>        <span class=n>df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
<span class=linenos data-linenos=" 94 "></span>        <span class=n>position_table</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 95 "></span>        <span class=n>transpose</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos=" 96 "></span>        <span class=n>index_hidden</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos=" 97 "></span>        <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 98 "></span>        <span class=n>position_textbox</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 99 "></span>        <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>12</span><span class=p>),</span>
<span class=linenos data-linenos="100 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="101 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a table from the input file.</span>
<span class=linenos data-linenos="102 "></span>
<span class=linenos data-linenos="103 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="104 "></span><span class=sd>            df (pd.DataFrame): The data of the table.</span>
<span class=linenos data-linenos="105 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos="106 "></span><span class=sd>            position_table (PPTXPositionAPI): The position of the table in the</span>
<span class=linenos data-linenos="107 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos="108 "></span><span class=sd>            transpose (bool): Transpose the table for row-like presentation in</span>
<span class=linenos data-linenos="109 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos="110 "></span><span class=sd>            index_hidden (bool): Hide the index of the table in the powerpoint</span>
<span class=linenos data-linenos="111 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="112 "></span><span class=sd>            text (str): The text of the table legend.</span>
<span class=linenos data-linenos="113 "></span><span class=sd>            position_textbox (PPTXPositionAPI): The position of the textbox in the</span>
<span class=linenos data-linenos="114 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos="115 "></span><span class=sd>            font_size (Pt, optional): The font size of the table. Defaults to Pt(12).</span>
<span class=linenos data-linenos="116 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="117 "></span>        <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=linenos data-linenos="118 "></span>        <span class=k>if</span> <span class=n>transpose</span><span class=p>:</span>
<span class=linenos data-linenos="119 "></span>            <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>transpose</span><span class=p>()</span>
<span class=linenos data-linenos="120 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>extract_table</span><span class=p>(</span>
<span class=linenos data-linenos="121 "></span>            <span class=n>df</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>position_table</span><span class=o>=</span><span class=n>position_table</span><span class=p>,</span> <span class=n>index_hidden</span><span class=o>=</span><span class=n>index_hidden</span>
<span class=linenos data-linenos="122 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="123 "></span>
<span class=linenos data-linenos="124 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos="125 "></span>            <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="126 "></span>            <span class=n>position</span><span class=o>=</span><span class=n>PPTXPositionAPI</span><span class=p>(</span>
<span class=linenos data-linenos="127 "></span>                <span class=n>left</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="128 "></span>                <span class=n>top</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="129 "></span>                <span class=n>width</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="130 "></span>                <span class=n>height</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="131 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="132 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="133 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="134 "></span>
<span class=linenos data-linenos="135 "></span>    <span class=k>def</span> <span class=nf>extract_table</span><span class=p>(</span>
<span class=linenos data-linenos="136 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="137 "></span>        <span class=n>df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
<span class=linenos data-linenos="138 "></span>        <span class=n>position_table</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="139 "></span>        <span class=n>index_hidden</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos="140 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="141 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a table from the input file.</span>
<span class=linenos data-linenos="142 "></span>
<span class=linenos data-linenos="143 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="144 "></span><span class=sd>            df (pd.DataFrame): The data of the table(s) in the powerpoint presentation.</span>
<span class=linenos data-linenos="145 "></span><span class=sd>            position_table (PPTXPositionAPI): The position of the table in the</span>
<span class=linenos data-linenos="146 "></span><span class=sd>                powerpoint presentation.</span>
<span class=linenos data-linenos="147 "></span><span class=sd>            index_hidden (bool): Hide the index of the table in the powerpoint</span>
<span class=linenos data-linenos="148 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="149 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="150 "></span>        <span class=n>rows</span><span class=p>,</span> <span class=n>cols</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>shape</span>
<span class=linenos data-linenos="151 "></span>        <span class=n>table</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_table</span><span class=p>(</span>
<span class=linenos data-linenos="152 "></span>            <span class=n>rows</span><span class=o>=</span><span class=n>rows</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="153 "></span>            <span class=n>cols</span><span class=o>=</span><span class=n>cols</span> <span class=o>+</span> <span class=p>(</span><span class=ow>not</span> <span class=n>index_hidden</span><span class=p>),</span>
<span class=linenos data-linenos="154 "></span>            <span class=n>left</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="155 "></span>            <span class=n>top</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="156 "></span>            <span class=n>width</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="157 "></span>            <span class=n>height</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="158 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="159 "></span>        <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<span class=linenos data-linenos="160 "></span>        <span class=k>if</span> <span class=n>index_hidden</span><span class=p>:</span>
<span class=linenos data-linenos="161 "></span>            <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
<span class=linenos data-linenos="162 "></span>                <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>col</span><span class=p>)</span>
<span class=linenos data-linenos="163 "></span>                <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]):</span>
<span class=linenos data-linenos="164 "></span>                    <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="165 "></span>        <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="166 "></span>            <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=linenos data-linenos="167 "></span>                <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<span class=linenos data-linenos="168 "></span>            <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>columns</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=linenos data-linenos="169 "></span>                <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>col</span>
<span class=linenos data-linenos="170 "></span>                <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]):</span>
<span class=linenos data-linenos="171 "></span>                    <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="172 "></span>
<span class=linenos data-linenos="173 "></span>    <span class=k>def</span> <span class=nf>create_credit</span><span class=p>(</span>
<span class=linenos data-linenos="174 "></span>        <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="175 "></span>        <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="176 "></span>        <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="177 "></span>        <span class=n>position_logo</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="178 "></span>        <span class=n>position_text</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="179 "></span>        <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>14</span><span class=p>),</span>
<span class=linenos data-linenos="180 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="181 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a credit for spectrafit.</span>
<span class=linenos data-linenos="182 "></span>
<span class=linenos data-linenos="183 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="184 "></span><span class=sd>            fname (Path): The temporay filename of the figure.</span>
<span class=linenos data-linenos="185 "></span><span class=sd>            text (str): The text of the credit.</span>
<span class=linenos data-linenos="186 "></span><span class=sd>            position_logo (PPTXPositionAPI): The position of the logo in the powerpoint</span>
<span class=linenos data-linenos="187 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="188 "></span><span class=sd>            position_text (PPTXPositionAPI): The position of the text in the powerpoint</span>
<span class=linenos data-linenos="189 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="190 "></span><span class=sd>            font_size (Pt): The font size of the textbox. Defaults to Pt(14).</span>
<span class=linenos data-linenos="191 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="192 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos="193 "></span>            <span class=n>fname</span><span class=o>=</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="194 "></span>            <span class=n>position_figure</span><span class=o>=</span><span class=n>position_logo</span><span class=p>,</span>
<span class=linenos data-linenos="195 "></span>            <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="196 "></span>            <span class=n>position_textbox</span><span class=o>=</span><span class=n>position_text</span><span class=p>,</span>
<span class=linenos data-linenos="197 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="198 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="199 "></span>
<span class=linenos data-linenos="200 "></span>    <span class=k>def</span> <span class=nf>create_title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="201 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a title from the input file.</span>
<span class=linenos data-linenos="202 "></span>
<span class=linenos data-linenos="203 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="204 "></span><span class=sd>            text (str): The text of the title.</span>
<span class=linenos data-linenos="205 "></span><span class=sd>            position (PPTXPositionAPI): The position of the title in the powerpoint</span>
<span class=linenos data-linenos="206 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="207 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="208 "></span>        <span class=n>title</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>title</span>
<span class=linenos data-linenos="209 "></span>        <span class=n>title</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos="210 "></span>        <span class=n>title</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>left</span>
<span class=linenos data-linenos="211 "></span>        <span class=n>title</span><span class=o>.</span><span class=n>top</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>top</span>
<span class=linenos data-linenos="212 "></span>        <span class=n>title</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>width</span>
<span class=linenos data-linenos="213 "></span>        <span class=n>title</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>height</span>
<span class=linenos data-linenos="214 "></span>
<span class=linenos data-linenos="215 "></span>    <span class=k>def</span> <span class=nf>create_subtitle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span> <span class=n>index</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="216 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a subtitle from the input file.</span>
<span class=linenos data-linenos="217 "></span>
<span class=linenos data-linenos="218 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="219 "></span><span class=sd>            text (str): The text of the subtitle.</span>
<span class=linenos data-linenos="220 "></span><span class=sd>            position (PPTXPositionAPI): The position of the subtitle in the powerpoint</span>
<span class=linenos data-linenos="221 "></span><span class=sd>                presentation.</span>
<span class=linenos data-linenos="222 "></span><span class=sd>            index (int): The index of the subtitle in the powerpoint presentation.</span>
<span class=linenos data-linenos="223 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="224 "></span>        <span class=n>subtitle</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>placeholders</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>
<span class=linenos data-linenos="225 "></span>        <span class=n>subtitle</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos="226 "></span>        <span class=n>subtitle</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>left</span>
<span class=linenos data-linenos="227 "></span>        <span class=n>subtitle</span><span class=o>.</span><span class=n>top</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>top</span>
<span class=linenos data-linenos="228 "></span>        <span class=n>subtitle</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>width</span>
<span class=linenos data-linenos="229 "></span>        <span class=n>subtitle</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>height</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>slide</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.__init__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a powerpoint presentation from a the spectrafit output.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>slide</code></td> <td> <code>type</code> </td> <td> <div class=doc-md-description> <p>The slide of the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="26 "></span><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>slide</span><span class=p>:</span> <span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="27 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a powerpoint presentation from a the spectrafit output.</span>
<span class=linenos data-linenos="28 "></span>
<span class=linenos data-linenos="29 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="30 "></span><span class=sd>        slide (type): The slide of the powerpoint presentation.</span>
<span class=linenos data-linenos="31 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="32 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>slide</span> <span class=o>=</span> <span class=n>slide</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_credit class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_credit</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=n>position_logo</span><span class=p>,</span> <span class=n>position_text</span><span class=p>,</span> <span class=n>font_size</span><span class=o>=</span><span class=n>Pt</span><span class=p>(</span><span class=mi>14</span><span class=p>))</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_credit class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a credit for spectrafit.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The temporay filename of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the credit.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_logo</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the logo in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_text</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the text in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>font_size</code></td> <td> <code><span title=pptx.util.Pt>Pt</span></code> </td> <td> <div class=doc-md-description> <p>The font size of the textbox. Defaults to Pt(14).</p> </div> </td> <td> <code><span title=pptx.util.Pt>Pt</span>(14)</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="173 "></span><span class=k>def</span> <span class=nf>create_credit</span><span class=p>(</span>
<span class=linenos data-linenos="174 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="175 "></span>    <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="176 "></span>    <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="177 "></span>    <span class=n>position_logo</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="178 "></span>    <span class=n>position_text</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="179 "></span>    <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>14</span><span class=p>),</span>
<span class=linenos data-linenos="180 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="181 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a credit for spectrafit.</span>
<span class=linenos data-linenos="182 "></span>
<span class=linenos data-linenos="183 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="184 "></span><span class=sd>        fname (Path): The temporay filename of the figure.</span>
<span class=linenos data-linenos="185 "></span><span class=sd>        text (str): The text of the credit.</span>
<span class=linenos data-linenos="186 "></span><span class=sd>        position_logo (PPTXPositionAPI): The position of the logo in the powerpoint</span>
<span class=linenos data-linenos="187 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="188 "></span><span class=sd>        position_text (PPTXPositionAPI): The position of the text in the powerpoint</span>
<span class=linenos data-linenos="189 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="190 "></span><span class=sd>        font_size (Pt): The font size of the textbox. Defaults to Pt(14).</span>
<span class=linenos data-linenos="191 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="192 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos="193 "></span>        <span class=n>fname</span><span class=o>=</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="194 "></span>        <span class=n>position_figure</span><span class=o>=</span><span class=n>position_logo</span><span class=p>,</span>
<span class=linenos data-linenos="195 "></span>        <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="196 "></span>        <span class=n>position_textbox</span><span class=o>=</span><span class=n>position_text</span><span class=p>,</span>
<span class=linenos data-linenos="197 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="198 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_figure class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_figure</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=n>position_figure</span><span class=p>,</span> <span class=n>position_textbox</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=n>font_size</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_figure class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a figure from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The temporay filename of the figure.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_figure</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the figure in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_textbox</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the textbox in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the textbox.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>font_size</code></td> <td> <code><span title=pptx.util.Pt>Pt</span></code> </td> <td> <div class=doc-md-description> <p>The font size of the textbox.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="59 "></span><span class=k>def</span> <span class=nf>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos="60 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="61 "></span>    <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
<span class=linenos data-linenos="62 "></span>    <span class=n>position_figure</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="63 "></span>    <span class=n>position_textbox</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="64 "></span>    <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="65 "></span>    <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span><span class=p>,</span>
<span class=linenos data-linenos="66 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="67 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a figure from the input file.</span>
<span class=linenos data-linenos="68 "></span>
<span class=linenos data-linenos="69 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="70 "></span><span class=sd>        fname (Path): The temporay filename of the figure.</span>
<span class=linenos data-linenos="71 "></span><span class=sd>        position_figure (PPTXPositionAPI): The position of the figure in the</span>
<span class=linenos data-linenos="72 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="73 "></span><span class=sd>        position_textbox (PPTXPositionAPI): The position of the textbox in the</span>
<span class=linenos data-linenos="74 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="75 "></span><span class=sd>        text (str): The text of the textbox.</span>
<span class=linenos data-linenos="76 "></span><span class=sd>        font_size (Pt): The font size of the textbox.</span>
<span class=linenos data-linenos="77 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="78 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_picture</span><span class=p>(</span>
<span class=linenos data-linenos="79 "></span>        <span class=nb>str</span><span class=p>(</span><span class=n>fname</span><span class=p>),</span>
<span class=linenos data-linenos="80 "></span>        <span class=n>left</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="81 "></span>        <span class=n>top</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="82 "></span>        <span class=n>width</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="83 "></span>        <span class=n>height</span><span class=o>=</span><span class=n>position_figure</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="84 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="85 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos="86 "></span>        <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="87 "></span>        <span class=n>position</span><span class=o>=</span><span class=n>position_textbox</span><span class=p>,</span>
<span class=linenos data-linenos="88 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="89 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_subtitle class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_subtitle</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>position</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_subtitle class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a subtitle from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the subtitle.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the subtitle in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>index</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The index of the subtitle in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="215 "></span><span class=k>def</span> <span class=nf>create_subtitle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span> <span class=n>index</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="216 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a subtitle from the input file.</span>
<span class=linenos data-linenos="217 "></span>
<span class=linenos data-linenos="218 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="219 "></span><span class=sd>        text (str): The text of the subtitle.</span>
<span class=linenos data-linenos="220 "></span><span class=sd>        position (PPTXPositionAPI): The position of the subtitle in the powerpoint</span>
<span class=linenos data-linenos="221 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="222 "></span><span class=sd>        index (int): The index of the subtitle in the powerpoint presentation.</span>
<span class=linenos data-linenos="223 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="224 "></span>    <span class=n>subtitle</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>placeholders</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>
<span class=linenos data-linenos="225 "></span>    <span class=n>subtitle</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos="226 "></span>    <span class=n>subtitle</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>left</span>
<span class=linenos data-linenos="227 "></span>    <span class=n>subtitle</span><span class=o>.</span><span class=n>top</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>top</span>
<span class=linenos data-linenos="228 "></span>    <span class=n>subtitle</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>width</span>
<span class=linenos data-linenos="229 "></span>    <span class=n>subtitle</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>height</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_table class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_table</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>position_table</span><span class=p>,</span> <span class=n>transpose</span><span class=p>,</span> <span class=n>index_hidden</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=n>position_textbox</span><span class=p>,</span> <span class=n>font_size</span><span class=o>=</span><span class=n>Pt</span><span class=p>(</span><span class=mi>12</span><span class=p>))</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_table class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a table from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>df</code></td> <td> <code><span title=pandas>pd</span>.<span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>The data of the table. powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_table</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the table in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>transpose</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Transpose the table for row-like presentation in powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>index_hidden</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Hide the index of the table in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the table legend.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_textbox</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the textbox in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>font_size</code></td> <td> <code><span title=pptx.util.Pt>Pt</span></code> </td> <td> <div class=doc-md-description> <p>The font size of the table. Defaults to Pt(12).</p> </div> </td> <td> <code><span title=pptx.util.Pt>Pt</span>(12)</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos=" 91 "></span><span class=k>def</span> <span class=nf>create_table</span><span class=p>(</span>
<span class=linenos data-linenos=" 92 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos=" 93 "></span>    <span class=n>df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
<span class=linenos data-linenos=" 94 "></span>    <span class=n>position_table</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 95 "></span>    <span class=n>transpose</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos=" 96 "></span>    <span class=n>index_hidden</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos=" 97 "></span>    <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos=" 98 "></span>    <span class=n>position_textbox</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos=" 99 "></span>    <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>12</span><span class=p>),</span>
<span class=linenos data-linenos="100 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="101 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a table from the input file.</span>
<span class=linenos data-linenos="102 "></span>
<span class=linenos data-linenos="103 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="104 "></span><span class=sd>        df (pd.DataFrame): The data of the table.</span>
<span class=linenos data-linenos="105 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="106 "></span><span class=sd>        position_table (PPTXPositionAPI): The position of the table in the</span>
<span class=linenos data-linenos="107 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="108 "></span><span class=sd>        transpose (bool): Transpose the table for row-like presentation in</span>
<span class=linenos data-linenos="109 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="110 "></span><span class=sd>        index_hidden (bool): Hide the index of the table in the powerpoint</span>
<span class=linenos data-linenos="111 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="112 "></span><span class=sd>        text (str): The text of the table legend.</span>
<span class=linenos data-linenos="113 "></span><span class=sd>        position_textbox (PPTXPositionAPI): The position of the textbox in the</span>
<span class=linenos data-linenos="114 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="115 "></span><span class=sd>        font_size (Pt, optional): The font size of the table. Defaults to Pt(12).</span>
<span class=linenos data-linenos="116 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="117 "></span>    <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=linenos data-linenos="118 "></span>    <span class=k>if</span> <span class=n>transpose</span><span class=p>:</span>
<span class=linenos data-linenos="119 "></span>        <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>transpose</span><span class=p>()</span>
<span class=linenos data-linenos="120 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>extract_table</span><span class=p>(</span>
<span class=linenos data-linenos="121 "></span>        <span class=n>df</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>position_table</span><span class=o>=</span><span class=n>position_table</span><span class=p>,</span> <span class=n>index_hidden</span><span class=o>=</span><span class=n>index_hidden</span>
<span class=linenos data-linenos="122 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="123 "></span>
<span class=linenos data-linenos="124 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos="125 "></span>        <span class=n>text</span><span class=o>=</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="126 "></span>        <span class=n>position</span><span class=o>=</span><span class=n>PPTXPositionAPI</span><span class=p>(</span>
<span class=linenos data-linenos="127 "></span>            <span class=n>left</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="128 "></span>            <span class=n>top</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="129 "></span>            <span class=n>width</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="130 "></span>            <span class=n>height</span><span class=o>=</span><span class=n>position_textbox</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="131 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="132 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="133 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_textbox class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_textbox</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>position</span><span class=p>,</span> <span class=n>font_size</span><span class=o>=</span><span class=n>Pt</span><span class=p>(</span><span class=mi>16</span><span class=p>))</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_textbox class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a textbox from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the textbox.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the textbox in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>font_size</code></td> <td> <code><span title=pptx.util.Pt>Pt</span></code> </td> <td> <div class=doc-md-description> <p>The font size of the textbox. Defaults to Pt(16).</p> </div> </td> <td> <code><span title=pptx.util.Pt>Pt</span>(16)</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="34 "></span><span class=k>def</span> <span class=nf>create_textbox</span><span class=p>(</span>
<span class=linenos data-linenos="35 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="36 "></span>    <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=linenos data-linenos="37 "></span>    <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="38 "></span>    <span class=n>font_size</span><span class=p>:</span> <span class=n>Pt</span> <span class=o>=</span> <span class=n>Pt</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span>
<span class=linenos data-linenos="39 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="40 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a textbox from the input file.</span>
<span class=linenos data-linenos="41 "></span>
<span class=linenos data-linenos="42 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="43 "></span><span class=sd>        text (str): The text of the textbox.</span>
<span class=linenos data-linenos="44 "></span><span class=sd>        position (PPTXPositionAPI): The position of the textbox in the powerpoint</span>
<span class=linenos data-linenos="45 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="46 "></span><span class=sd>        font_size (Pt): The font size of the textbox. Defaults to Pt(16).</span>
<span class=linenos data-linenos="47 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="48 "></span>    <span class=n>tx_box</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_textbox</span><span class=p>(</span>
<span class=linenos data-linenos="49 "></span>        <span class=n>left</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="50 "></span>        <span class=n>top</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="51 "></span>        <span class=n>width</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="52 "></span>        <span class=n>height</span><span class=o>=</span><span class=n>position</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="53 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="54 "></span>
<span class=linenos data-linenos="55 "></span>    <span class=n>tf</span> <span class=o>=</span> <span class=n>tx_box</span><span class=o>.</span><span class=n>text_frame</span>
<span class=linenos data-linenos="56 "></span>    <span class=n>tf</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos="57 "></span>    <span class=n>tf</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=n>font_size</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.create_title class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_title</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>position</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.create_title class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a title from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>text</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The text of the title.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the title in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="200 "></span><span class=k>def</span> <span class=nf>create_title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="201 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a title from the input file.</span>
<span class=linenos data-linenos="202 "></span>
<span class=linenos data-linenos="203 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="204 "></span><span class=sd>        text (str): The text of the title.</span>
<span class=linenos data-linenos="205 "></span><span class=sd>        position (PPTXPositionAPI): The position of the title in the powerpoint</span>
<span class=linenos data-linenos="206 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="207 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="208 "></span>    <span class=n>title</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>title</span>
<span class=linenos data-linenos="209 "></span>    <span class=n>title</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
<span class=linenos data-linenos="210 "></span>    <span class=n>title</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>left</span>
<span class=linenos data-linenos="211 "></span>    <span class=n>title</span><span class=o>.</span><span class=n>top</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>top</span>
<span class=linenos data-linenos="212 "></span>    <span class=n>title</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>width</span>
<span class=linenos data-linenos="213 "></span>    <span class=n>title</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>position</span><span class=o>.</span><span class=n>height</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXElements.extract_table class="doc doc-heading"> <code class="highlight language-python"><span class=n>extract_table</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>position_table</span><span class=p>,</span> <span class=n>index_hidden</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXElements.extract_table class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a table from the input file.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>df</code></td> <td> <code><span title=pandas>pd</span>.<span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>The data of the table(s) in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>position_table</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXPositionAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXPositionAPI>PPTXPositionAPI</a></code> </td> <td> <div class=doc-md-description> <p>The position of the table in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>index_hidden</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>Hide the index of the table in the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="135 "></span><span class=k>def</span> <span class=nf>extract_table</span><span class=p>(</span>
<span class=linenos data-linenos="136 "></span>    <span class=bp>self</span><span class=p>,</span>
<span class=linenos data-linenos="137 "></span>    <span class=n>df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
<span class=linenos data-linenos="138 "></span>    <span class=n>position_table</span><span class=p>:</span> <span class=n>PPTXPositionAPI</span><span class=p>,</span>
<span class=linenos data-linenos="139 "></span>    <span class=n>index_hidden</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
<span class=linenos data-linenos="140 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="141 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a table from the input file.</span>
<span class=linenos data-linenos="142 "></span>
<span class=linenos data-linenos="143 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="144 "></span><span class=sd>        df (pd.DataFrame): The data of the table(s) in the powerpoint presentation.</span>
<span class=linenos data-linenos="145 "></span><span class=sd>        position_table (PPTXPositionAPI): The position of the table in the</span>
<span class=linenos data-linenos="146 "></span><span class=sd>            powerpoint presentation.</span>
<span class=linenos data-linenos="147 "></span><span class=sd>        index_hidden (bool): Hide the index of the table in the powerpoint</span>
<span class=linenos data-linenos="148 "></span><span class=sd>            presentation.</span>
<span class=linenos data-linenos="149 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="150 "></span>    <span class=n>rows</span><span class=p>,</span> <span class=n>cols</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>shape</span>
<span class=linenos data-linenos="151 "></span>    <span class=n>table</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=o>.</span><span class=n>shapes</span><span class=o>.</span><span class=n>add_table</span><span class=p>(</span>
<span class=linenos data-linenos="152 "></span>        <span class=n>rows</span><span class=o>=</span><span class=n>rows</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
<span class=linenos data-linenos="153 "></span>        <span class=n>cols</span><span class=o>=</span><span class=n>cols</span> <span class=o>+</span> <span class=p>(</span><span class=ow>not</span> <span class=n>index_hidden</span><span class=p>),</span>
<span class=linenos data-linenos="154 "></span>        <span class=n>left</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>left</span><span class=p>,</span>
<span class=linenos data-linenos="155 "></span>        <span class=n>top</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>top</span><span class=p>,</span>
<span class=linenos data-linenos="156 "></span>        <span class=n>width</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>width</span><span class=p>,</span>
<span class=linenos data-linenos="157 "></span>        <span class=n>height</span><span class=o>=</span><span class=n>position_table</span><span class=o>.</span><span class=n>height</span><span class=p>,</span>
<span class=linenos data-linenos="158 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="159 "></span>    <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<span class=linenos data-linenos="160 "></span>    <span class=k>if</span> <span class=n>index_hidden</span><span class=p>:</span>
<span class=linenos data-linenos="161 "></span>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>columns</span><span class=p>):</span>
<span class=linenos data-linenos="162 "></span>            <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>col</span><span class=p>)</span>
<span class=linenos data-linenos="163 "></span>            <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]):</span>
<span class=linenos data-linenos="164 "></span>                <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<span class=linenos data-linenos="165 "></span>    <span class=k>else</span><span class=p>:</span>
<span class=linenos data-linenos="166 "></span>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>index</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=linenos data-linenos="167 "></span>            <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<span class=linenos data-linenos="168 "></span>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>col</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>columns</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=linenos data-linenos="169 "></span>            <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>col</span>
<span class=linenos data-linenos="170 "></span>            <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]):</span>
<span class=linenos data-linenos="171 "></span>                <span class=n>table</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>cell</span><span class=p>(</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=spectrafit.plugins.pptx_converter.PPTXLayout class="doc doc-heading"> <code>PPTXLayout</code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=spectrafit.plugins.pptx_converter.PPTXElements href=#spectrafit.plugins.pptx_converter.PPTXElements>PPTXElements</a></code></p> <p>Generate a powerpoint presentation from a the spectrafit output.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="232 "></span><span class=k>class</span> <span class=nc>PPTXLayout</span><span class=p>(</span><span class=n>PPTXElements</span><span class=p>):</span>
<span class=linenos data-linenos="233 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a powerpoint presentation from a the spectrafit output.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="234 "></span>
<span class=linenos data-linenos="235 "></span>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="236 "></span>        <span class=bp>self</span><span class=p>,</span> <span class=n>ratio</span><span class=p>:</span> <span class=n>PPTXRatioAPI</span><span class=p>,</span> <span class=n>structure</span><span class=p>:</span> <span class=n>PPTXStructureAPI</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span>
<span class=linenos data-linenos="237 "></span>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="238 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a powerpoint presentation from a the spectrafit output.</span>
<span class=linenos data-linenos="239 "></span>
<span class=linenos data-linenos="240 "></span><span class=sd>        Args:</span>
<span class=linenos data-linenos="241 "></span><span class=sd>            ratio (PPTXRatioAPI): The ratio of the powerpoint presentation.</span>
<span class=linenos data-linenos="242 "></span><span class=sd>            structure (PPTXStructureAPI): The structure of the powerpoint presentation.</span>
<span class=linenos data-linenos="243 "></span><span class=sd>            fname (Path): The temporay filename of the powerpoint presentation.</span>
<span class=linenos data-linenos="244 "></span><span class=sd>        &quot;&quot;&quot;</span>
<span class=linenos data-linenos="245 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>ratio</span> <span class=o>=</span> <span class=n>ratio</span>
<span class=linenos data-linenos="246 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>structure</span> <span class=o>=</span> <span class=n>structure</span>
<span class=linenos data-linenos="247 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>fname</span>
<span class=linenos data-linenos="248 "></span>
<span class=linenos data-linenos="249 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>_initialiaze</span><span class=p>()</span>
<span class=linenos data-linenos="250 "></span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=p>)</span>
<span class=linenos data-linenos="251 "></span>
<span class=linenos data-linenos="252 "></span>    <span class=k>def</span> <span class=nf>_initialiaze</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="253 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Initialize the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="254 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>prs</span> <span class=o>=</span> <span class=n>Presentation</span><span class=p>()</span>
<span class=linenos data-linenos="255 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>slide_width</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ratio</span><span class=o>.</span><span class=n>width</span>
<span class=linenos data-linenos="256 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>slide_height</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ratio</span><span class=o>.</span><span class=n>height</span>
<span class=linenos data-linenos="257 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>slide</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>slides</span><span class=o>.</span><span class=n>add_slide</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>slide_layouts</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
<span class=linenos data-linenos="258 "></span>
<span class=linenos data-linenos="259 "></span>    <span class=k>def</span> <span class=nf>top_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="260 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the top element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="261 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_title</span><span class=p>(</span>
<span class=linenos data-linenos="262 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>header</span><span class=o>.</span><span class=n>text</span><span class=p>,</span> <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>header</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="263 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="264 "></span>
<span class=linenos data-linenos="265 "></span>    <span class=k>def</span> <span class=nf>lefr_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="266 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the left element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="267 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_subtitle</span><span class=p>(</span>
<span class=linenos data-linenos="268 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="269 "></span>            <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="270 "></span>            <span class=n>index</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>index</span><span class=p>,</span>
<span class=linenos data-linenos="271 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="272 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos="273 "></span>            <span class=n>fname</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="274 "></span>            <span class=n>position_figure</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="275 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="276 "></span>            <span class=n>position_textbox</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="277 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="278 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="279 "></span>
<span class=linenos data-linenos="280 "></span>    <span class=k>def</span> <span class=nf>right_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="281 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the right element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="282 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_subtitle</span><span class=p>(</span>
<span class=linenos data-linenos="283 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="284 "></span>            <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="285 "></span>            <span class=n>index</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>index</span><span class=p>,</span>
<span class=linenos data-linenos="286 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="287 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="288 "></span>            <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="289 "></span>            <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="290 "></span>            <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="291 "></span>            <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="292 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="293 "></span>            <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="294 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="295 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="296 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="297 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="298 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="299 "></span>            <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="300 "></span>            <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="301 "></span>            <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="302 "></span>            <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="303 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="304 "></span>            <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="305 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="306 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="307 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="308 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="309 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="310 "></span>            <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="311 "></span>            <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="312 "></span>            <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="313 "></span>            <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="314 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="315 "></span>            <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="316 "></span>                <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="317 "></span>            <span class=p>),</span>
<span class=linenos data-linenos="318 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="319 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="320 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>create_credit</span><span class=p>(</span>
<span class=linenos data-linenos="321 "></span>            <span class=n>fname</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="322 "></span>            <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="323 "></span>            <span class=n>position_logo</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="324 "></span>            <span class=n>position_text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="325 "></span>            <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="326 "></span>        <span class=p>)</span>
<span class=linenos data-linenos="327 "></span>
<span class=linenos data-linenos="328 "></span>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="329 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Save the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="330 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>))</span>
<span class=linenos data-linenos="331 "></span>
<span class=linenos data-linenos="332 "></span>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="333 "></span><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="334 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>top_element</span><span class=p>()</span>
<span class=linenos data-linenos="335 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>lefr_element</span><span class=p>()</span>
<span class=linenos data-linenos="336 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>right_element</span><span class=p>()</span>
<span class=linenos data-linenos="337 "></span>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.__call__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="332 "></span><span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="333 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="334 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>top_element</span><span class=p>()</span>
<span class=linenos data-linenos="335 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>lefr_element</span><span class=p>()</span>
<span class=linenos data-linenos="336 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>right_element</span><span class=p>()</span>
<span class=linenos data-linenos="337 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>ratio</span><span class=p>,</span> <span class=n>structure</span><span class=p>,</span> <span class=n>fname</span><span class=p>)</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.__init__ class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create a powerpoint presentation from a the spectrafit output.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>ratio</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXRatioAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXRatioAPI>PPTXRatioAPI</a></code> </td> <td> <div class=doc-md-description> <p>The ratio of the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>structure</code></td> <td> <code><a class="autorefs autorefs-internal" title=spectrafit.api.pptx_model.PPTXStructureAPI href=../data_model_api/#spectrafit.api.pptx_model.PPTXStructureAPI>PPTXStructureAPI</a></code> </td> <td> <div class=doc-md-description> <p>The structure of the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>fname</code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>The temporay filename of the powerpoint presentation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="235 "></span><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
<span class=linenos data-linenos="236 "></span>    <span class=bp>self</span><span class=p>,</span> <span class=n>ratio</span><span class=p>:</span> <span class=n>PPTXRatioAPI</span><span class=p>,</span> <span class=n>structure</span><span class=p>:</span> <span class=n>PPTXStructureAPI</span><span class=p>,</span> <span class=n>fname</span><span class=p>:</span> <span class=n>Path</span>
<span class=linenos data-linenos="237 "></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="238 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a powerpoint presentation from a the spectrafit output.</span>
<span class=linenos data-linenos="239 "></span>
<span class=linenos data-linenos="240 "></span><span class=sd>    Args:</span>
<span class=linenos data-linenos="241 "></span><span class=sd>        ratio (PPTXRatioAPI): The ratio of the powerpoint presentation.</span>
<span class=linenos data-linenos="242 "></span><span class=sd>        structure (PPTXStructureAPI): The structure of the powerpoint presentation.</span>
<span class=linenos data-linenos="243 "></span><span class=sd>        fname (Path): The temporay filename of the powerpoint presentation.</span>
<span class=linenos data-linenos="244 "></span><span class=sd>    &quot;&quot;&quot;</span>
<span class=linenos data-linenos="245 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>ratio</span> <span class=o>=</span> <span class=n>ratio</span>
<span class=linenos data-linenos="246 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>structure</span> <span class=o>=</span> <span class=n>structure</span>
<span class=linenos data-linenos="247 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>fname</span>
<span class=linenos data-linenos="248 "></span>
<span class=linenos data-linenos="249 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>_initialiaze</span><span class=p>()</span>
<span class=linenos data-linenos="250 "></span>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>slide</span><span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.lefr_element class="doc doc-heading"> <code class="highlight language-python"><span class=n>lefr_element</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.lefr_element class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the left element of the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="265 "></span><span class=k>def</span> <span class=nf>lefr_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="266 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the left element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="267 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_subtitle</span><span class=p>(</span>
<span class=linenos data-linenos="268 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="269 "></span>        <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="270 "></span>        <span class=n>index</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>index</span><span class=p>,</span>
<span class=linenos data-linenos="271 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="272 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_figure</span><span class=p>(</span>
<span class=linenos data-linenos="273 "></span>        <span class=n>fname</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="274 "></span>        <span class=n>position_figure</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="275 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="276 "></span>        <span class=n>position_textbox</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="277 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_left</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="278 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.right_element class="doc doc-heading"> <code class="highlight language-python"><span class=n>right_element</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.right_element class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the right element of the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="280 "></span><span class=k>def</span> <span class=nf>right_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="281 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the right element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="282 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_subtitle</span><span class=p>(</span>
<span class=linenos data-linenos="283 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="284 "></span>        <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="285 "></span>        <span class=n>index</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>index</span><span class=p>,</span>
<span class=linenos data-linenos="286 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="287 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="288 "></span>        <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="289 "></span>        <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="290 "></span>        <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="291 "></span>        <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="292 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="293 "></span>        <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="294 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="295 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="296 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_1</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="297 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="298 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="299 "></span>        <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="300 "></span>        <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="301 "></span>        <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="302 "></span>        <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="303 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="304 "></span>        <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="305 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="306 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="307 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_2</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="308 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="309 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_table</span><span class=p>(</span>
<span class=linenos data-linenos="310 "></span>        <span class=n>df</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>df</span><span class=p>,</span>
<span class=linenos data-linenos="311 "></span>        <span class=n>position_table</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="312 "></span>        <span class=n>transpose</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>transpose</span><span class=p>,</span>
<span class=linenos data-linenos="313 "></span>        <span class=n>index_hidden</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>index_hidden</span><span class=p>,</span>
<span class=linenos data-linenos="314 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="315 "></span>        <span class=n>position_textbox</span><span class=o>=</span><span class=p>(</span>
<span class=linenos data-linenos="316 "></span>            <span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="317 "></span>        <span class=p>),</span>
<span class=linenos data-linenos="318 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>table_3</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="319 "></span>    <span class=p>)</span>
<span class=linenos data-linenos="320 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_credit</span><span class=p>(</span>
<span class=linenos data-linenos="321 "></span>        <span class=n>fname</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>fname</span><span class=p>,</span>
<span class=linenos data-linenos="322 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>text</span><span class=p>,</span>
<span class=linenos data-linenos="323 "></span>        <span class=n>position_logo</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="324 "></span>        <span class=n>position_text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>position</span><span class=p>,</span>
<span class=linenos data-linenos="325 "></span>        <span class=n>font_size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>sub_title_right</span><span class=o>.</span><span class=n>credit</span><span class=o>.</span><span class=n>description</span><span class=o>.</span><span class=n>font_size</span><span class=p>,</span>
<span class=linenos data-linenos="326 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.save class="doc doc-heading"> <code class="highlight language-python"><span class=n>save</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.save class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Save the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="328 "></span><span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="329 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="330 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>prs</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fname</span><span class=p>))</span>
</code></pre></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=spectrafit.plugins.pptx_converter.PPTXLayout.top_element class="doc doc-heading"> <code class="highlight language-python"><span class=n>top_element</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.PPTXLayout.top_element class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p>Create the top element of the powerpoint presentation.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="259 "></span><span class=k>def</span> <span class=nf>top_element</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="260 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create the top element of the powerpoint presentation.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="261 "></span>    <span class=bp>self</span><span class=o>.</span><span class=n>create_title</span><span class=p>(</span>
<span class=linenos data-linenos="262 "></span>        <span class=n>text</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>header</span><span class=o>.</span><span class=n>text</span><span class=p>,</span> <span class=n>position</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>structure</span><span class=o>.</span><span class=n>header</span><span class=o>.</span><span class=n>position</span>
<span class=linenos data-linenos="263 "></span>    <span class=p>)</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=spectrafit.plugins.pptx_converter.command_line_runner class="doc doc-heading"> <code class="highlight language-python"><span class=n>command_line_runner</span><span class=p>()</span></code> <a href=#spectrafit.plugins.pptx_converter.command_line_runner class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Command line interface for the converter plugin.</p> <details class=quote> <summary>Source code in <code>spectrafit/plugins/pptx_converter.py</code></summary> <div class=highlight><span class=filename>Python</span><pre><span></span><code><span class=linenos data-linenos="427 "></span><span class=k>def</span> <span class=nf>command_line_runner</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=linenos data-linenos="428 "></span><span class=w>    </span><span class=sd>&quot;&quot;&quot;Command line interface for the converter plugin.&quot;&quot;&quot;</span>
<span class=linenos data-linenos="429 "></span>    <span class=n>PPTXConverter</span><span class=p>()()</span>
</code></pre></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021 - 2023 Anselm Hahn </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/Anselmoo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://pypi.org/project/spectrafit/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "content.code.annotate", "content.tabs.link", "content.action.view", "content.action.copy", "header.autohide", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.220ee61c.min.js></script> <script src=../../javascripts/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>